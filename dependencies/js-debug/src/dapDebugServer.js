"use strict";(()=>{var zW=Object.create;var lb=Object.defineProperty;var q0=Object.getOwnPropertyDescriptor;var JW=Object.getOwnPropertyNames;var YW=Object.getPrototypeOf,QW=Object.prototype.hasOwnProperty;var v=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(e,r)=>(typeof require<"u"?require:e)[r]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var ZW=(t,e)=>()=>(t&&(e=t(t=0)),e);var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var eq=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of JW(e))!QW.call(t,i)&&i!==r&&lb(t,i,{get:()=>e[i],enumerable:!(n=q0(e,i))||n.enumerable});return t};var M=(t,e,r)=>(r=t!=null?zW(YW(t)):{},eq(e||!t||!t.__esModule?lb(r,"default",{value:t,enumerable:!0}):r,t));var V=(t,e,r,n)=>{for(var i=n>1?void 0:n?q0(e,r):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(n?s(e,r,i):s(i))||i);return n&&i&&lb(e,r,i),i},I=(t,e)=>(r,n)=>e(r,n,t);var lt=y((Wce,Y0)=>{"use strict";var tq=Object.create,pd=Object.defineProperty,rq=Object.getOwnPropertyDescriptor,X0=Object.getOwnPropertyNames,nq=Object.getPrototypeOf,iq=Object.prototype.hasOwnProperty,oq=(t,e)=>function(){return e||(0,t[X0(t)[0]])((e={exports:{}}).exports,e),e.exports},sq=(t,e)=>{for(var r in e)pd(t,r,{get:e[r],enumerable:!0})},K0=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of X0(e))!iq.call(t,i)&&i!==r&&pd(t,i,{get:()=>e[i],enumerable:!(n=rq(e,i))||n.enumerable});return t},aq=(t,e,r)=>(r=t!=null?tq(nq(t)):{},K0(e||!t||!t.__esModule?pd(r,"default",{value:t,enumerable:!0}):r,t)),uq=t=>K0(pd({},"__esModule",{value:!0}),t),cq=oq({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u,c,{signal:l}={}){return new Promise((p,f)=>{function m(){l?.removeEventListener("abort",m),u.removeListener(c,h),u.removeListener("error",g)}function h(...b){m(),p(b)}function g(b){m(),f(b)}l?.addEventListener("abort",m),u.on(c,h),u.on("error",g)})}},54:function(s,a,u){"use strict";var c=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};let l=u(361),p=c(u(374)),f=c(u(304)),m=p.default("agent-base");function h(){let{stack:b}=new Error;return typeof b=="string"&&b.split(`
`).some(A=>A.indexOf("(https.js:")!==-1||A.indexOf("node:https:")!==-1)}function g(b,A){return new g.Agent(b,A)}(function(b){class A extends l.EventEmitter{constructor(U,$){super();let W=$;typeof U=="function"?this.callback=U:U&&(W=U),this.timeout=null,W&&typeof W.timeout=="number"&&(this.timeout=W.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:h()?443:80}set defaultPort(U){this.explicitDefaultPort=U}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:h()?"https:":"http:"}set protocol(U){this.explicitProtocol=U}callback(U,$,W){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(U,$){let W=Object.assign({},$);typeof W.secureEndpoint!="boolean"&&(W.secureEndpoint=h()),W.host==null&&(W.host="localhost"),W.port==null&&(W.port=W.secureEndpoint?443:80),W.protocol==null&&(W.protocol=W.secureEndpoint?"https:":"http:"),W.host&&W.path&&delete W.path,delete W.agent,delete W.hostname,delete W._defaultAgent,delete W.defaultPort,delete W.createConnection,U._last=!0,U.shouldKeepAlive=!1;let z=!1,X=null,j=W.timeout||this.timeout,O=F=>{U._hadError||(U.emit("error",F),U._hadError=!0)},N=()=>{X=null,z=!0;let F=new Error(`A "socket" was not created for HTTP request before ${j}ms`);F.code="ETIMEOUT",O(F)},E=F=>{z||(X!==null&&(clearTimeout(X),X=null),O(F))},q=F=>{if(z)return;if(X!=null&&(clearTimeout(X),X=null),G=F,!!G&&typeof G.addRequest=="function")return m("Callback returned another Agent instance %o",F.constructor.name),void F.addRequest(U,W);var G;if(F)return F.once("free",()=>{this.freeSocket(F,W)}),void U.onSocket(F);let P=new Error(`no Duplex stream was returned to agent-base for \`${U.method} ${U.path}\``);O(P)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(m("Converting legacy callback function to promise"),this.promisifiedCallback=f.default(this.callback)):this.promisifiedCallback=this.callback),typeof j=="number"&&j>0&&(X=setTimeout(N,j)),"port"in W&&typeof W.port!="number"&&(W.port=Number(W.port));try{m("Resolving socket for %o request: %o",W.protocol,`${U.method} ${U.path}`),Promise.resolve(this.promisifiedCallback(U,W)).then(q,E)}catch(F){Promise.reject(F).catch(E)}}else O(new Error("`callback` is not defined"))}freeSocket(U,$){m("Freeing socket %o %o",U.constructor.name,$),U.destroy()}destroy(){m("Destroying agent %o",this.constructor.name)}}b.Agent=A,b.prototype=b.Agent.prototype})(g||(g={})),s.exports=g},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return function(c,l){return new Promise((p,f)=>{u.call(this,c,l,(m,h)=>{m?f(m):p(h)})})}}},370:function(s,a,u){"use strict";var c=this&&this.__awaiter||function(U,$,W,z){return new(W||(W=Promise))(function(X,j){function O(q){try{E(z.next(q))}catch(F){j(F)}}function N(q){try{E(z.throw(q))}catch(F){j(F)}}function E(q){var F;q.done?X(q.value):(F=q.value,F instanceof W?F:new W(function(G){G(F)})).then(O,N)}E((z=z.apply(U,$||[])).next())})},l=this&&this.__importDefault||function(U){return U&&U.__esModule?U:{default:U}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),m=l(u(310)),h=l(u(374)),g=l(u(46)),b=u(54),A=(0,h.default)("http-proxy-agent");class D extends b.Agent{constructor($){let W;if(W=typeof $=="string"?m.default.parse($):$,!W)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");A("Creating new HttpProxyAgent instance: %o",W),super(W);let z=Object.assign({},W);var X;this.secureProxy=W.secureProxy||typeof(X=z.protocol)=="string"&&/^https:?$/i.test(X),z.host=z.hostname||z.host,typeof z.port=="string"&&(z.port=parseInt(z.port,10)),!z.port&&z.host&&(z.port=this.secureProxy?443:80),z.host&&z.path&&(delete z.path,delete z.pathname),this.proxy=z}callback($,W){return c(this,void 0,void 0,function*(){let{proxy:z,secureProxy:X}=this,j=m.default.parse($.path),O;if(j.protocol||(j.protocol="http:"),j.hostname||(j.hostname=W.hostname||W.host||null),j.port==null&&(W.port,1)&&(j.port=String(W.port)),j.port==="80"&&(j.port=""),$.path=m.default.format(j),z.auth&&$.setHeader("Proxy-Authorization",`Basic ${Buffer.from(z.auth).toString("base64")}`),X?(A("Creating `tls.Socket`: %o",z),O=f.default.connect(z)):(A("Creating `net.Socket`: %o",z),O=p.default.connect(z)),$._header){let N,E;A("Regenerating stored HTTP header string for request"),$._header=null,$._implicitHeader(),$.output&&$.output.length>0?(A("Patching connection write() output buffer with updated header"),N=$.output[0],E=N.indexOf(`\r
\r
`)+4,$.output[0]=$._header+N.substring(E),A("Output buffer: %o",$.output)):$.outputData&&$.outputData.length>0&&(A("Patching connection write() output buffer with updated header"),N=$.outputData[0].data,E=N.indexOf(`\r
\r
`)+4,$.outputData[0].data=$._header+N.substring(E),A("Output buffer: %o",$.outputData[0].data))}return yield(0,g.default)(O,"connect"),O})}}a.default=D},201:function(s,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(370));function l(p){return new c.default(p)}(function(p){p.HttpProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),s.exports=l},146:function(s,a,u){"use strict";var c=this&&this.__awaiter||function(W,z,X,j){return new(X||(X=Promise))(function(O,N){function E(G){try{F(j.next(G))}catch(P){N(P)}}function q(G){try{F(j.throw(G))}catch(P){N(P)}}function F(G){var P;G.done?O(G.value):(P=G.value,P instanceof X?P:new X(function(x){x(P)})).then(E,q)}F((j=j.apply(W,z||[])).next())})},l=this&&this.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(a,"__esModule",{value:!0});let p=l(u(808)),f=l(u(404)),m=l(u(310)),h=l(u(491)),g=l(u(374)),b=u(54),A=l(u(829)),D=g.default("https-proxy-agent:agent");class U extends b.Agent{constructor(z){let X;if(X=typeof z=="string"?m.default.parse(z):z,!X)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");D("creating new HttpsProxyAgent instance: %o",X),super(X);let j=Object.assign({},X);var O;this.secureProxy=X.secureProxy||typeof(O=j.protocol)=="string"&&/^https:?$/i.test(O),j.host=j.hostname||j.host,typeof j.port=="string"&&(j.port=parseInt(j.port,10)),!j.port&&j.host&&(j.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in j)&&(j.ALPNProtocols=["http 1.1"]),j.host&&j.path&&(delete j.path,delete j.pathname),this.proxy=j}callback(z,X){return c(this,void 0,void 0,function*(){let{proxy:j,secureProxy:O}=this,N;O?(D("Creating `tls.Socket`: %o",j),N=f.default.connect(j)):(D("Creating `net.Socket`: %o",j),N=p.default.connect(j));let E=Object.assign({},j.headers),q=`CONNECT ${X.host}:${X.port} HTTP/1.1\r
`;j.auth&&(E["Proxy-Authorization"]=`Basic ${Buffer.from(j.auth).toString("base64")}`);let{host:F,port:G,secureEndpoint:P}=X;(function(ce,te){return!!(!te&&ce===80||te&&ce===443)})(G,P)||(F+=`:${G}`),E.Host=F,E.Connection="close";for(let ce of Object.keys(E))q+=`${ce}: ${E[ce]}\r
`;let x=A.default(N);N.write(`${q}\r
`);let{statusCode:se,buffered:re}=yield x;if(se===200){if(z.once("socket",$),X.secureEndpoint){D("Upgrading socket connection to TLS");let ce=X.servername||X.host;return f.default.connect(Object.assign(Object.assign({},function(te,...fe){let be={},ge;for(ge in te)fe.includes(ge)||(be[ge]=te[ge]);return be}(X,"host","hostname","path","port")),{socket:N,servername:ce}))}return N}N.destroy();let pe=new p.default.Socket({writable:!1});return pe.readable=!0,z.once("socket",ce=>{D("replaying proxy buffer for failed request"),h.default(ce.listenerCount("data")>0),ce.push(re),ce.push(null)}),pe})}}function $(W){W.resume()}a.default=U},18:function(s,a,u){"use strict";let c=(this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}})(u(146));function l(p){return new c.default(p)}(function(p){p.HttpsProxyAgent=c.default,p.prototype=c.default.prototype})(l||(l={})),s.exports=l},829:function(s,a,u){"use strict";var c=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});let l=c(u(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(p){return new Promise((f,m)=>{let h=0,g=[];function b(){let U=p.read();U?function($){g.push($),h+=$.length;let W=Buffer.concat(g,h);if(W.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void b();let z=W.toString("ascii",0,W.indexOf(`\r
`)),X=+z.split(" ")[1];l("got proxy server response: %o",z),f({statusCode:X,buffered:W})}(U):p.once("readable",b)}function A(U){l("onclose had error %o",U)}function D(){l("onend")}p.on("error",function U($){p.removeListener("end",D),p.removeListener("error",U),p.removeListener("close",A),p.removeListener("readable",b),l("onerror %o",$),m($)}),p.on("close",A),p.on("end",D),b()})}},539:function(s,a,u){"use strict";var c,l=this&&this.__extends||(c=function(O,N){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,q){E.__proto__=q}||function(E,q){for(var F in q)Object.prototype.hasOwnProperty.call(q,F)&&(E[F]=q[F])},c(O,N)},function(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function E(){this.constructor=O}c(O,N),O.prototype=N===null?Object.create(N):(E.prototype=N.prototype,new E)}),p=this&&this.__assign||function(){return p=Object.assign||function(O){for(var N,E=1,q=arguments.length;E<q;E++)for(var F in N=arguments[E])Object.prototype.hasOwnProperty.call(N,F)&&(O[F]=N[F]);return O},p.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var f=u(685),m=u(687),h=u(310),g=u(472),b=u(796),A=u(201),D=u(18);if(process.env.VSCODE_NLS_CONFIG){var U=process.env.VSCODE_NLS_CONFIG;g.config(JSON.parse(U))}var $=g.loadMessageBundle(),W=void 0,z=!0;function X(O){var N;return new Promise(function(E,q){var F=(0,h.parse)(O.url),G={hostname:F.hostname,agent:!!O.agent&&O.agent,port:F.port?parseInt(F.port):F.protocol==="https:"?443:80,path:F.path,method:O.type||"GET",headers:O.headers,rejectUnauthorized:typeof O.strictSSL!="boolean"||O.strictSSL};O.user&&O.password&&(G.auth=O.user+":"+O.password);var P=function(x){if(x.statusCode>=300&&x.statusCode<400&&O.followRedirects&&O.followRedirects>0&&x.headers.location){var se=x.headers.location;se.startsWith("/")&&(se=(0,h.format)({protocol:F.protocol,hostname:F.hostname,port:F.port,pathname:se})),E(X(function(re){for(var pe=[],ce=1;ce<arguments.length;ce++)pe[ce-1]=arguments[ce];return pe.forEach(function(te){return Object.keys(te).forEach(function(fe){return re[fe]=te[fe]})}),re}({},O,{url:se,followRedirects:O.followRedirects-1})))}else E({req:N,res:x})};(N=F.protocol==="https:"?m.request(G,P):f.request(G,P)).on("error",q),O.timeout&&N.setTimeout(O.timeout),O.data&&N.write(O.data),N.end(),O.token&&(O.token.isCancellationRequested&&N.destroy(new j),O.token.onCancellationRequested(function(){N.destroy(new j)}))})}a.configure=function(O,N){W=O,z=N},a.xhr=function(O){return typeof(O=p({},O)).strictSSL!="boolean"&&(O.strictSSL=z),O.agent||(O.agent=function(N,E){E===void 0&&(E={});var q=(0,h.parse)(N),F=E.proxyUrl||function(x){return x.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:x.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(q);if(!F)return null;var G=(0,h.parse)(F);if(!/^https?:$/.test(G.protocol))return null;var P={host:G.hostname,port:Number(G.port),auth:G.auth,rejectUnauthorized:typeof E.strictSSL!="boolean"||E.strictSSL,protocol:G.protocol};return q.protocol==="http:"?A(P):D(P)}(O.url,{proxyUrl:W,strictSSL:z})),typeof O.followRedirects!="number"&&(O.followRedirects=5),X(O).then(function(N){return new Promise(function(E,q){var F,G,P=N.res,x=P,se=!1,re=P.headers&&P.headers["content-encoding"];if(re&&(F=O.type,G=N.res.statusCode,!(F==="HEAD"||G>=100&&G<200||G===204||G===304))){var pe={flush:b.constants.Z_SYNC_FLUSH,finishFlush:b.constants.Z_SYNC_FLUSH};if(re==="gzip"){var ce=b.createGunzip(pe);P.pipe(ce),x=ce}else if(re==="deflate"){var te=b.createInflate(pe);P.pipe(te),x=te}}var fe=[];x.on("data",function(be){return fe.push(be)}),x.on("end",function(){if(!se){if(se=!0,O.followRedirects>0&&(P.statusCode>=300&&P.statusCode<=303||P.statusCode===307)){var be=P.headers.location;if(be.startsWith("/")){var ge=(0,h.parse)(O.url);be=(0,h.format)({protocol:ge.protocol,hostname:ge.hostname,port:ge.port,pathname:be})}if(be){var Wt={type:O.type,url:be,user:O.user,password:O.password,headers:O.headers,timeout:O.timeout,followRedirects:O.followRedirects-1,data:O.data,token:O.token};return void(0,a.xhr)(Wt).then(E,q)}}var me=Buffer.concat(fe),pr={responseText:me.toString(),body:me,status:P.statusCode,headers:P.headers||{}};P.statusCode>=200&&P.statusCode<300||P.statusCode===1223?E(pr):q(pr)}}),x.on("error",function(be){var ge;ge=j.is(be)?be:{responseText:$("error","Unable to access {0}. Error: {1}",O.url,be.message),body:Buffer.concat(fe),status:500,headers:{}},se=!0,q(ge)}),O.token&&(O.token.isCancellationRequested&&x.destroy(new j),O.token.onCancellationRequested(function(){x.destroy(new j)}))})},function(N){var E;return E=j.is(N)?N:{responseText:O.agent?$("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",O.url,N.message):$("error.cannot.connect","Unable to connect to {0}. Error: {1}",O.url,N.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(E)})},a.getErrorStatusDescription=function(O){if(!(O<400))switch(O){case 400:return $("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return $("status.401","Unauthorized. The server is refusing to respond.");case 403:return $("status.403","Forbidden. The server is refusing to respond.");case 404:return $("status.404","Not Found. The requested location could not be found.");case 405:return $("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return $("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return $("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return $("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return $("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return $("status.410","Gone. The requested page is no longer available.");case 411:return $("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return $("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return $("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return $("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return $("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return $("status.500","Internal Server Error.");case 501:return $("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return $("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return $("status.416","HTTP status code {0}",O)}};var j=function(O){function N(){var E=O.call(this,"The user aborted a request")||this;return E.name="AbortError",Object.setPrototypeOf(E,N.prototype),E}return l(N,O),N.is=function(E){return E instanceof N},N}(Error)},800:(s,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var c,l,p,f=u(926);function m(g){return g!==void 0}function h(g,b){return a.isPseudo&&(g="\uFF3B"+g.replace(/[aouei]/g,"$&$&")+"\uFF3D"),b.length===0?g:g.replace(/\{(\d+)\}/g,function(A,D){var U=D[0],$=b[U],W=A;return typeof $=="string"?W=$:typeof $!="number"&&typeof $!="boolean"&&$!=null||(W=String($)),W})}(p=a.MessageFormat||(a.MessageFormat={})).file="file",p.bundle="bundle",p.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(g){g.is=function(b){var A=b;return A&&m(A.key)&&m(A.comment)}}(c||(c={})),a.isDefined=m,a.isPseudo=!1,a.setPseudo=function(g){a.isPseudo=g},a.format=h,a.localize=function(g,b){for(var A=[],D=2;D<arguments.length;D++)A[D-2]=arguments[D];return h(b,A)},a.loadMessageBundle=function(g){return(0,f.default)().loadMessageBundle(g)},a.config=function(g){return(0,f.default)().config(g)}},926:(s,a)=>{"use strict";var u;function c(){if(u===void 0)throw new Error("No runtime abstraction layer installed");return u}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(p){if(p===void 0)throw new Error("No runtime abstraction layer provided");u=p}}(c||(c={})),a.default=c},472:(s,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var c=u(17),l=u(147),p=u(926),f=u(800),m=u(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return m.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return m.BundleFormat}});var h,g,b=Object.prototype.toString;function A(N){return b.call(N)==="[object Number]"}function D(N){return b.call(N)==="[object String]"}function U(N){return JSON.parse(l.readFileSync(N,"utf8"))}function $(N){return function(E,q){for(var F=[],G=2;G<arguments.length;G++)F[G-2]=arguments[G];return A(E)?E>=N.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,f.format)(N[E],F):D(q)?(console.warn("Message ".concat(q," didn't get externalized correctly.")),(0,f.format)(q,F)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function W(N,E){return h[N]=E,E}function z(N){try{return function(E){var q=U(c.join(E,"nls.metadata.json")),F=Object.create(null);for(var G in q){var P=q[G];F[G]=P.messages}return F}(N)}catch(E){return void console.log("Generating default bundle from meta data failed.",E)}}function X(N,E){var q;if(g.languagePackSupport===!0&&g.cacheRoot!==void 0&&g.languagePackId!==void 0&&g.translationsConfigFile!==void 0&&g.translationsConfig!==void 0)try{q=function(G,P){var x,se,re,pe=c.join(g.cacheRoot,"".concat(G.id,"-").concat(G.hash,".json")),ce=!1,te=!1;try{return x=JSON.parse(l.readFileSync(pe,{encoding:"utf8",flag:"r"})),se=pe,re=new Date,l.utimes(se,re,re,function(){}),x}catch(fe){if(fe.code==="ENOENT")te=!0;else{if(!(fe instanceof SyntaxError))throw fe;console.log("Syntax error parsing message bundle: ".concat(fe.message,".")),l.unlink(pe,function(be){be&&console.error("Deleting corrupted bundle ".concat(pe," failed."))}),ce=!0}}if(x=function(fe,be){var ge=g.translationsConfig[fe.id];if(ge){var Wt=U(ge).contents,me=U(c.join(be,"nls.metadata.json")),pr=Object.create(null);for(var $r in me){var Y=me[$r],Ie=Wt["".concat(fe.outDir,"/").concat($r)];if(Ie){for(var J=[],he=0;he<Y.keys.length;he++){var Te=Y.keys[he],Ze=Ie[D(Te)?Te:Te.key];Ze===void 0&&(Ze=Y.messages[he]),J.push(Ze)}pr[$r]=J}else pr[$r]=Y.messages}return pr}}(G,P),!x||ce)return x;if(te)try{l.writeFileSync(pe,JSON.stringify(x),{encoding:"utf8",flag:"wx"})}catch(fe){if(fe.code==="EEXIST")return x;throw fe}return x}(N,E)}catch(G){console.log("Load or create bundle failed ",G)}if(!q){if(g.languagePackSupport)return z(E);var F=function(G){for(var P=g.language;P;){var x=c.join(G,"nls.bundle.".concat(P,".json"));if(l.existsSync(x))return x;var se=P.lastIndexOf("-");P=se>0?P.substring(0,se):void 0}if(P===void 0&&(x=c.join(G,"nls.bundle.json"),l.existsSync(x)))return x}(E);if(F)try{return U(F)}catch(G){console.log("Loading in the box message bundle failed.",G)}q=z(E)}return q}function j(N){if(!N)return f.localize;var E=c.extname(N);if(E&&(N=N.substr(0,N.length-E.length)),g.messageFormat===f.MessageFormat.both||g.messageFormat===f.MessageFormat.bundle){var q=function(ce){for(var te,fe=c.dirname(ce);te=c.join(fe,"nls.metadata.header.json"),!l.existsSync(te);){var be=c.dirname(fe);if(be===fe){te=void 0;break}fe=be}return te}(N);if(q){var F=c.dirname(q),G=h[F];if(G===void 0)try{var P=JSON.parse(l.readFileSync(q,"utf8"));try{var x=X(P,F);G=W(F,x?{header:P,nlsBundle:x}:null)}catch(ce){console.error("Failed to load nls bundle",ce),G=W(F,null)}}catch(ce){console.error("Failed to read header file",ce),G=W(F,null)}if(G){var se=N.substr(F.length+1).replace(/\\/g,"/"),re=G.nlsBundle[se];return re===void 0?(console.error("Messages for file ".concat(N," not found. See console for details.")),function(){return"Messages not found."}):$(re)}}}if(g.messageFormat===f.MessageFormat.both||g.messageFormat===f.MessageFormat.file)try{var pe=U(function(ce){var te;if(!(g.cacheLanguageResolution&&te)){if(f.isPseudo||!g.language)te=".nls.json";else for(var fe=g.language;fe;){var be=".nls."+fe+".json";if(l.existsSync(ce+be)){te=be;break}var ge=fe.lastIndexOf("-");ge>0?fe=fe.substring(0,ge):(te=".nls.json",fe=null)}g.cacheLanguageResolution}return ce+te}(N));return Array.isArray(pe)?$(pe):(0,f.isDefined)(pe.messages)&&(0,f.isDefined)(pe.keys)?$(pe.messages):(console.error("String bundle '".concat(N,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(ce){ce.code!=="ENOENT"&&console.error("Failed to load single file bundle",ce)}return console.error("Failed to load message bundle for file ".concat(N)),function(){return"Failed to load message bundle. See console for details."}}function O(N){return N&&(D(N.locale)&&(g.locale=N.locale.toLowerCase(),g.language=g.locale,h=Object.create(null)),N.messageFormat!==void 0&&(g.messageFormat=N.messageFormat),N.bundleFormat===f.BundleFormat.standalone&&g.languagePackSupport===!0&&(g.languagePackSupport=!1)),(0,f.setPseudo)(g.locale==="pseudo"),j}(function(){if(g={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:f.MessageFormat.bundle},D(process.env.VSCODE_NLS_CONFIG))try{var N=JSON.parse(process.env.VSCODE_NLS_CONFIG),E=void 0;if(N.availableLanguages){var q=N.availableLanguages["*"];D(q)&&(E=q)}if(D(N.locale)&&(g.locale=N.locale.toLowerCase()),E===void 0?g.language=g.locale:E!=="en"&&(g.language=E),function(G){return G===!0||G===!1}(N._languagePackSupport)&&(g.languagePackSupport=N._languagePackSupport),D(N._cacheRoot)&&(g.cacheRoot=N._cacheRoot),D(N._languagePackId)&&(g.languagePackId=N._languagePackId),D(N._translationsConfigFile)){g.translationsConfigFile=N._translationsConfigFile;try{g.translationsConfig=U(g.translationsConfigFile)}catch{if(N._corruptedFile){var F=c.dirname(N._corruptedFile);l.exists(F,function(P){P&&l.writeFile(N._corruptedFile,"corrupted","utf8",function(x){console.error(x)})})}}}}catch{}(0,f.setPseudo)(g.locale==="pseudo"),h=Object.create(null)})(),a.loadMessageBundle=j,a.config=O,p.default.install(Object.freeze({loadMessageBundle:j,config:O}))},374:(s,a)=>{function u(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return u}},491:s=>{"use strict";s.exports=v("assert")},361:s=>{"use strict";s.exports=v("events")},147:s=>{"use strict";s.exports=v("fs")},685:s=>{"use strict";s.exports=v("http")},687:s=>{"use strict";s.exports=v("https")},808:s=>{"use strict";s.exports=v("net")},17:s=>{"use strict";s.exports=v("path")},404:s=>{"use strict";s.exports=v("tls")},310:s=>{"use strict";s.exports=v("url")},796:s=>{"use strict";s.exports=v("zlib")}},r={},n=function s(a){var u=r[a];if(u!==void 0)return u.exports;var c=r[a]={exports:{}};return e[a].call(c.exports,c,c.exports,s),c.exports}(539),i=t;for(var o in n)i[o]=n[o];n.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()}}),z0={};sq(z0,{config:()=>hq,t:()=>J0});Y0.exports=uq(z0);var lq=v("fs"),pq=v("fs/promises"),V0=aq(cq());async function fq(t){if(t.protocol==="file:")return await(0,pq.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,V0.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,V0.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function dq(t){return(0,lq.readFileSync)(t,"utf8")}var Cl;function hq(t){if("contents"in t){typeof t.contents=="string"?Cl=JSON.parse(t.contents):Cl=t.contents;return}if("fsPath"in t){let e=dq(t.fsPath),r=JSON.parse(e);Cl=G0(r)?r.contents.bundle:r;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((r,n)=>{let i=fq(e).then(o=>{try{let s=JSON.parse(o);Cl=G0(s)?s.contents.bundle:s}catch(s){n(s)}}).catch(o=>{n(o)});r(i)})}}function J0(...t){let e=t[0],r,n,i;if(typeof e=="string")r=e,n=e,t.splice(0,1),i=!t||typeof t[0]!="object"?t:t[0];else if(e instanceof Array){let s=t.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let u=1;u<e.length;u++)a+=`{${u-1}}`+e[u];return J0(a,...s)}else n=e.message,r=n,e.comment&&e.comment.length>0&&(r+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=Cl?.[r];return o?typeof o=="string"?ld(o,i):o.comment?ld(o.message,i):ld(n,i):ld(n,i)}var mq=/{([^}]+)}/g;function ld(t,e){return t.replace(mq,(r,n)=>e[n]??r)}function G0(t){return typeof t?.contents?.bundle=="object"&&typeof t?.version=="string"}});var yt=y(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.NON_CUSTOM_TAG_KEYS=Ae.PRE_DESTROY=Ae.POST_CONSTRUCT=Ae.DESIGN_PARAM_TYPES=Ae.PARAM_TYPES=Ae.TAGGED_PROP=Ae.TAGGED=Ae.MULTI_INJECT_TAG=Ae.INJECT_TAG=Ae.OPTIONAL_TAG=Ae.UNMANAGED_TAG=Ae.NAME_TAG=Ae.NAMED_TAG=void 0;Ae.NAMED_TAG="named";Ae.NAME_TAG="name";Ae.UNMANAGED_TAG="unmanaged";Ae.OPTIONAL_TAG="optional";Ae.INJECT_TAG="inject";Ae.MULTI_INJECT_TAG="multi_inject";Ae.TAGGED="inversify:tagged";Ae.TAGGED_PROP="inversify:tagged_props";Ae.PARAM_TYPES="inversify:paramtypes";Ae.DESIGN_PARAM_TYPES="design:paramtypes";Ae.POST_CONSTRUCT="post_construct";Ae.PRE_DESTROY="pre_destroy";function vq(){return[Ae.INJECT_TAG,Ae.MULTI_INJECT_TAG,Ae.NAME_TAG,Ae.UNMANAGED_TAG,Ae.NAMED_TAG,Ae.OPTIONAL_TAG]}Ae.NON_CUSTOM_TAG_KEYS=vq()});var En=y(Eo=>{"use strict";Object.defineProperty(Eo,"__esModule",{value:!0});Eo.TargetTypeEnum=Eo.BindingTypeEnum=Eo.BindingScopeEnum=void 0;var _q={Request:"Request",Singleton:"Singleton",Transient:"Transient"};Eo.BindingScopeEnum=_q;var wq={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};Eo.BindingTypeEnum=wq;var Iq={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};Eo.TargetTypeEnum=Iq});var Po=y(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.id=void 0;var Aq=0;function Sq(){return Aq++}gd.id=Sq});var hE=y(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.Binding=void 0;var dE=En(),Eq=Po(),Pq=function(){function t(e,r){this.id=(0,Eq.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=r,this.type=dE.BindingTypeEnum.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return t.prototype.clone=function(){var e=new t(this.serviceIdentifier,this.scope);return e.activated=e.scope===dE.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},t}();yd.Binding=Pq});var Qt=y(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.STACK_OVERFLOW=ie.CIRCULAR_DEPENDENCY_IN_FACTORY=ie.ON_DEACTIVATION_ERROR=ie.PRE_DESTROY_ERROR=ie.POST_CONSTRUCT_ERROR=ie.ASYNC_UNBIND_REQUIRED=ie.MULTIPLE_POST_CONSTRUCT_METHODS=ie.MULTIPLE_PRE_DESTROY_METHODS=ie.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=ie.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=ie.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=ie.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=ie.ARGUMENTS_LENGTH_MISMATCH=ie.INVALID_DECORATOR_OPERATION=ie.INVALID_TO_SELF_VALUE=ie.LAZY_IN_SYNC=ie.INVALID_FUNCTION_BINDING=ie.INVALID_MIDDLEWARE_RETURN=ie.NO_MORE_SNAPSHOTS_AVAILABLE=ie.INVALID_BINDING_TYPE=ie.NOT_IMPLEMENTED=ie.CIRCULAR_DEPENDENCY=ie.UNDEFINED_INJECT_ANNOTATION=ie.MISSING_INJECT_ANNOTATION=ie.MISSING_INJECTABLE_ANNOTATION=ie.NOT_REGISTERED=ie.CANNOT_UNBIND=ie.AMBIGUOUS_MATCH=ie.KEY_NOT_FOUND=ie.NULL_ARGUMENT=ie.DUPLICATED_METADATA=ie.DUPLICATED_INJECTABLE_DECORATOR=void 0;ie.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";ie.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";ie.NULL_ARGUMENT="NULL argument";ie.KEY_NOT_FOUND="Key Not Found";ie.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";ie.CANNOT_UNBIND="Could not unbind serviceIdentifier:";ie.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";ie.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";ie.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var Lq=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};ie.UNDEFINED_INJECT_ANNOTATION=Lq;ie.CIRCULAR_DEPENDENCY="Circular dependency found:";ie.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";ie.INVALID_BINDING_TYPE="Invalid binding type:";ie.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";ie.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";ie.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var xq=function(t){return"You are attempting to construct '"+t+`' in a synchronous way
 but it has asynchronous dependencies.`};ie.LAZY_IN_SYNC=xq;ie.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";ie.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var Cq=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"The number of constructor arguments in the derived class "+(t[0]+" must be >= than the number of constructor arguments of its base class.")};ie.ARGUMENTS_LENGTH_MISMATCH=Cq;ie.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";ie.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').";ie.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";ie.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";ie.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";ie.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";ie.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var Dq=function(t,e){return"@postConstruct error in class "+t+": "+e};ie.POST_CONSTRUCT_ERROR=Dq;var $q=function(t,e){return"@preDestroy error in class "+t+": "+e};ie.PRE_DESTROY_ERROR=$q;var Tq=function(t,e){return"onDeactivation() error in class "+t+": "+e};ie.ON_DEACTIVATION_ERROR=Tq;var Mq=function(t,e){return"It looks like there is a circular dependency in one of the '"+t+"' bindings. Please investigate bindings with"+("service identifier '"+e+"'.")};ie.CIRCULAR_DEPENDENCY_IN_FACTORY=Mq;ie.STACK_OVERFLOW="Maximum call stack size exceeded"});var db=y(qn=>{"use strict";var Rq=qn&&qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),kq=qn&&qn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Oq=qn&&qn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Rq(e,t,r);return kq(e,t),e};Object.defineProperty(qn,"__esModule",{value:!0});qn.MetadataReader=void 0;var fb=Oq(yt()),Nq=function(){function t(){}return t.prototype.getConstructorMetadata=function(e){var r=Reflect.getMetadata(fb.PARAM_TYPES,e),n=Reflect.getMetadata(fb.TAGGED,e);return{compilerGeneratedMetadata:r,userGeneratedMetadata:n||{}}},t.prototype.getPropertiesMetadata=function(e){var r=Reflect.getMetadata(fb.TAGGED_PROP,e)||[];return r},t}();qn.MetadataReader=Nq});var mE=y(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.BindingCount=void 0;var Bq={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};bd.BindingCount=Bq});var hb=y(Yr=>{"use strict";var Fq=Yr&&Yr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Uq=Yr&&Yr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),jq=Yr&&Yr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Fq(e,t,r);return Uq(e,t),e};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.tryAndThrowErrorIfStackOverflow=Yr.isStackOverflowExeption=void 0;var Wq=jq(Qt());function HE(t){return t instanceof RangeError||t.message===Wq.STACK_OVERFLOW}Yr.isStackOverflowExeption=HE;var qq=function(t,e){try{return t()}catch(r){throw HE(r)&&(r=e()),r}};Yr.tryAndThrowErrorIfStackOverflow=qq});var iu=y(bt=>{"use strict";var Vq=bt&&bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gq=bt&&bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Xq=bt&&bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Vq(e,t,r);return Gq(e,t),e};Object.defineProperty(bt,"__esModule",{value:!0});bt.getSymbolDescription=bt.circularDependencyToException=bt.listMetadataForTarget=bt.listRegisteredBindingsForServiceIdentifier=bt.getServiceIdentifierAsString=bt.getFunctionName=void 0;var Kq=Xq(Qt());function gE(t){if(typeof t=="function"){var e=t;return e.name}else{if(typeof t=="symbol")return t.toString();var e=t;return e}}bt.getServiceIdentifierAsString=gE;function zq(t,e,r){var n="",i=r(t,e);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=vE(o.implementationType)),n=n+`
 `+s,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}bt.listRegisteredBindingsForServiceIdentifier=zq;function yE(t,e){return t.parentRequest===null?!1:t.parentRequest.serviceIdentifier===e?!0:yE(t.parentRequest,e)}function Jq(t){function e(n,i){i===void 0&&(i=[]);var o=gE(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?e(n.parentRequest,i):i}var r=e(t);return r.reverse().join(" --> ")}function bE(t){t.childRequests.forEach(function(e){if(yE(e,e.serviceIdentifier)){var r=Jq(e);throw new Error(Kq.CIRCULAR_DEPENDENCY+" "+r)}else bE(e)})}bt.circularDependencyToException=bE;function Yq(t,e){if(e.isTagged()||e.isNamed()){var r="",n=e.getNamedTag(),i=e.getCustomTags();return n!==null&&(r+=n.toString()+`
`),i!==null&&i.forEach(function(o){r+=o.toString()+`
`})," "+t+`
 `+t+" - "+r}else return" "+t}bt.listMetadataForTarget=Yq;function vE(t){if(t.name)return t.name;var e=t.toString(),r=e.match(/^function\s*([^\s(]+)/);return r?r[1]:"Anonymous function: "+e}bt.getFunctionName=vE;function Qq(t){return t.toString().slice(7,-1)}bt.getSymbolDescription=Qq});var _E=y(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.Context=void 0;var Zq=Po(),eV=function(){function t(e){this.id=(0,Zq.id)(),this.container=e}return t.prototype.addPlan=function(e){this.plan=e},t.prototype.setCurrentRequest=function(e){this.currentRequest=e},t}();vd.Context=eV});var Pn=y(Vn=>{"use strict";var tV=Vn&&Vn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rV=Vn&&Vn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nV=Vn&&Vn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tV(e,t,r);return rV(e,t),e};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.Metadata=void 0;var iV=nV(yt()),oV=function(){function t(e,r){this.key=e,this.value=r}return t.prototype.toString=function(){return this.key===iV.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},t}();Vn.Metadata=oV});var wE=y(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.Plan=void 0;var sV=function(){function t(e,r){this.parentContext=e,this.rootRequest=r}return t}();_d.Plan=sV});var mb=y(wd=>{"use strict";Object.defineProperty(wd,"__esModule",{value:!0});wd.LazyServiceIdentifer=void 0;var aV=function(){function t(e){this._cb=e}return t.prototype.unwrap=function(){return this._cb()},t}();wd.LazyServiceIdentifer=aV});var IE=y(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.QueryableString=void 0;var uV=function(){function t(e){this.str=e}return t.prototype.startsWith=function(e){return this.str.indexOf(e)===0},t.prototype.endsWith=function(e){var r="",n=e.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},n)},t.prototype.contains=function(e){return this.str.indexOf(e)!==-1},t.prototype.equals=function(e){return this.str===e},t.prototype.value=function(){return this.str},t}();Id.QueryableString=uV});var Hb=y(Gn=>{"use strict";var cV=Gn&&Gn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),lV=Gn&&Gn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),pV=Gn&&Gn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&cV(e,t,r);return lV(e,t),e};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.Target=void 0;var Wi=pV(yt()),fV=Po(),dV=iu(),AE=Pn(),hV=IE(),mV=function(){function t(e,r,n,i){this.id=(0,fV.id)(),this.type=e,this.serviceIdentifier=n;var o=typeof r=="symbol"?(0,dV.getSymbolDescription)(r):r;this.name=new hV.QueryableString(o||""),this.identifier=r,this.metadata=new Array;var s=null;typeof i=="string"?s=new AE.Metadata(Wi.NAMED_TAG,i):i instanceof AE.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return t.prototype.hasTag=function(e){for(var r=0,n=this.metadata;r<n.length;r++){var i=n[r];if(i.key===e)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(Wi.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(e){return this.matchesTag(Wi.MULTI_INJECT_TAG)(e)},t.prototype.isNamed=function(){return this.hasTag(Wi.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(e){return Wi.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})})},t.prototype.isOptional=function(){return this.matchesTag(Wi.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===Wi.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return Wi.NON_CUSTOM_TAG_KEYS.every(function(r){return e.key!==r})}):null},t.prototype.matchesNamedTag=function(e){return this.matchesTag(Wi.NAMED_TAG)(e)},t.prototype.matchesTag=function(e){var r=this;return function(n){for(var i=0,o=r.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===n)return!0}return!1}},t}();Gn.Target=mV});var $E=y(Zt=>{"use strict";var HV=Zt&&Zt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gV=Zt&&Zt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),SE=Zt&&Zt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HV(e,t,r);return gV(e,t),e},Ad=Zt&&Zt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.getFunctionName=Zt.getBaseClassDependencyCount=Zt.getDependencies=void 0;var yV=mb(),gb=SE(Qt()),EE=En(),$l=SE(yt()),yb=iu();Object.defineProperty(Zt,"getFunctionName",{enumerable:!0,get:function(){return yb.getFunctionName}});var PE=Hb();function bV(t,e){var r=(0,yb.getFunctionName)(e);return LE(t,r,e,!1)}Zt.getDependencies=bV;function LE(t,e,r,n){var i=t.getConstructorMetadata(r),o=i.compilerGeneratedMetadata;if(o===void 0){var s=gb.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,u=Object.keys(a),c=r.length===0&&u.length>0,l=u.length>r.length,p=c||l?u.length:r.length,f=_V(n,e,o,a,p),m=xE(t,r,e),h=Ad(Ad([],f,!0),m,!0);return h}function vV(t,e,r,n,i){var o=i[t.toString()]||[],s=DE(o),a=s.unmanaged!==!0,u=n[t],c=s.inject||s.multiInject;if(u=c||u,u instanceof yV.LazyServiceIdentifer&&(u=u.unwrap()),a){var l=u===Object,p=u===Function,f=u===void 0,m=l||p||f;if(!e&&m){var h=gb.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(h)}var g=new PE.Target(EE.TargetTypeEnum.ConstructorArgument,s.targetName,u);return g.metadata=o,g}return null}function _V(t,e,r,n,i){for(var o=[],s=0;s<i;s++){var a=s,u=vV(a,t,e,r,n);u!==null&&o.push(u)}return o}function wV(t,e,r,n){var i=t||e;if(i===void 0){var o=gb.MISSING_INJECTABLE_ANNOTATION+" for property "+String(r)+" in class "+n+".";throw new Error(o)}return i}function xE(t,e,r){for(var n=t.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(n),s=Object.keys(n),a=s.concat(o),u=0,c=a;u<c.length;u++){var l=c[u],p=n[l],f=DE(p),m=f.targetName||l,h=wV(f.inject,f.multiInject,l,r),g=new PE.Target(EE.TargetTypeEnum.ClassProperty,m,h);g.metadata=p,i.push(g)}var b=Object.getPrototypeOf(e.prototype).constructor;if(b!==Object){var A=xE(t,b,r);i=Ad(Ad([],i,!0),A,!0)}return i}function CE(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var n=(0,yb.getFunctionName)(r),i=LE(t,n,r,!0),o=i.map(function(u){return u.metadata.filter(function(c){return c.key===$l.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:CE(t,r)}else return 0}Zt.getBaseClassDependencyCount=CE;function DE(t){var e={};return t.forEach(function(r){e[r.key.toString()]=r.value}),{inject:e[$l.INJECT_TAG],multiInject:e[$l.MULTI_INJECT_TAG],targetName:e[$l.NAME_TAG],unmanaged:e[$l.UNMANAGED_TAG]}}});var TE=y(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.Request=void 0;var IV=Po(),AV=function(){function t(e,r,n,i,o){this.id=(0,IV.id)(),this.serviceIdentifier=e,this.parentContext=r,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return t.prototype.addChildRequest=function(e,r,n){var i=new t(e,this.parentContext,this,r,n);return this.childRequests.push(i),i},t}();Sd.Request=AV});var Ib=y(Ir=>{"use strict";var SV=Ir&&Ir.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EV=Ir&&Ir.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),kE=Ir&&Ir.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SV(e,t,r);return EV(e,t),e};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.getBindingDictionary=Ir.createMockRequest=Ir.plan=void 0;var Ed=mE(),vb=kE(Qt()),OE=En(),ME=kE(yt()),PV=hb(),ou=iu(),NE=_E(),_b=Pn(),LV=wE(),bb=$E(),wb=TE(),BE=Hb();function FE(t){return t._bindingDictionary}Ir.getBindingDictionary=FE;function xV(t,e,r,n,i,o){var s=t?ME.MULTI_INJECT_TAG:ME.INJECT_TAG,a=new _b.Metadata(s,r),u=new BE.Target(e,n,r,a);if(i!==void 0){var c=new _b.Metadata(i,o);u.metadata.push(c)}return u}function RE(t,e,r,n,i){var o=Tl(r.container,i.serviceIdentifier),s=[];return o.length===Ed.BindingCount.NoBindingsAvailable&&r.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&t.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(r.container.bind(i.serviceIdentifier).toSelf(),o=Tl(r.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var u=new wb.Request(a.serviceIdentifier,r,n,a,i);return a.constraint(u)}),CV(i.serviceIdentifier,s,i,r.container),s}function CV(t,e,r,n){switch(e.length){case Ed.BindingCount.NoBindingsAvailable:if(r.isOptional())return e;var i=(0,ou.getServiceIdentifierAsString)(t),o=vb.NOT_REGISTERED;throw o+=(0,ou.listMetadataForTarget)(i,r),o+=(0,ou.listRegisteredBindingsForServiceIdentifier)(n,i,Tl),new Error(o);case Ed.BindingCount.OnlyOneBindingAvailable:return e;case Ed.BindingCount.MultipleBindingsAvailable:default:if(r.isArray())return e;var i=(0,ou.getServiceIdentifierAsString)(t),o=vb.AMBIGUOUS_MATCH+" "+i;throw o+=(0,ou.listRegisteredBindingsForServiceIdentifier)(n,i,Tl),new Error(o)}}function UE(t,e,r,n,i,o){var s,a;if(i===null){s=RE(t,e,n,null,o),a=new wb.Request(r,n,null,s,o);var u=new LV.Plan(n,a);n.addPlan(u)}else s=RE(t,e,n,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(c){var l=null;if(o.isArray())l=a.addChildRequest(c.serviceIdentifier,c,o);else{if(c.cache)return;l=a}if(c.type===OE.BindingTypeEnum.Instance&&c.implementationType!==null){var p=(0,bb.getDependencies)(t,c.implementationType);if(!n.container.options.skipBaseClassChecks){var f=(0,bb.getBaseClassDependencyCount)(t,c.implementationType);if(p.length<f){var m=vb.ARGUMENTS_LENGTH_MISMATCH((0,bb.getFunctionName)(c.implementationType));throw new Error(m)}}p.forEach(function(h){UE(t,!1,h.serviceIdentifier,n,l,h)})}})}function Tl(t,e){var r=[],n=FE(t);return n.hasKey(e)?r=n.get(e):t.parent!==null&&(r=Tl(t.parent,e)),r}function DV(t,e,r,n,i,o,s,a){a===void 0&&(a=!1);var u=new NE.Context(e),c=xV(r,n,i,"",o,s);try{return UE(t,a,i,u,null,c),u}catch(l){throw(0,PV.isStackOverflowExeption)(l)&&(0,ou.circularDependencyToException)(u.plan.rootRequest),l}}Ir.plan=DV;function $V(t,e,r,n){var i=new BE.Target(OE.TargetTypeEnum.Variable,"",e,new _b.Metadata(r,n)),o=new NE.Context(t),s=new wb.Request(e,o,null,[],i);return s}Ir.createMockRequest=$V});var Ml=y(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.isPromiseOrContainsPromise=su.isPromise=void 0;function Ab(t){var e=typeof t=="object"&&t!==null||typeof t=="function";return e&&typeof t.then=="function"}su.isPromise=Ab;function TV(t){return Ab(t)?!0:Array.isArray(t)&&t.some(Ab)}su.isPromiseOrContainsPromise=TV});var jE=y(Xn=>{"use strict";var MV=Xn&&Xn.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},RV=Xn&&Xn.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.saveToScope=Xn.tryGetFromScope=void 0;var Pd=ue(),kV=Ml(),OV=function(t,e){return e.scope===Pd.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===Pd.BindingScopeEnum.Request&&t.has(e.id)?t.get(e.id):null};Xn.tryGetFromScope=OV;var NV=function(t,e,r){e.scope===Pd.BindingScopeEnum.Singleton&&FV(e,r),e.scope===Pd.BindingScopeEnum.Request&&BV(t,e,r)};Xn.saveToScope=NV;var BV=function(t,e,r){t.has(e.id)||t.set(e.id,r)},FV=function(t,e){t.cache=e,t.activated=!0,(0,kV.isPromise)(e)&&UV(t,e)},UV=function(t,e){return MV(void 0,void 0,void 0,function(){var r,n;return RV(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return r=i.sent(),t.cache=r,[3,3];case 2:throw n=i.sent(),t.cache=null,t.activated=!1,n;case 3:return[2]}})})}});var WE=y(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});Rl.FactoryType=void 0;var jV;(function(t){t.DynamicValue="toDynamicValue",t.Factory="toFactory",t.Provider="toProvider"})(jV=Rl.FactoryType||(Rl.FactoryType={}))});var Eb=y(Ar=>{"use strict";var WV=Ar&&Ar.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qV=Ar&&Ar.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VV=Ar&&Ar.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WV(e,t,r);return qV(e,t),e};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.getFactoryDetails=Ar.ensureFullyBound=Ar.multiBindToService=void 0;var GV=ue(),XV=VV(Qt()),Kn=En(),Sb=WE(),KV=function(t){return function(e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.forEach(function(i){return t.bind(i).toService(e)})}}};Ar.multiBindToService=KV;var zV=function(t){var e=null;switch(t.type){case Kn.BindingTypeEnum.ConstantValue:case Kn.BindingTypeEnum.Function:e=t.cache;break;case Kn.BindingTypeEnum.Constructor:case Kn.BindingTypeEnum.Instance:e=t.implementationType;break;case Kn.BindingTypeEnum.DynamicValue:e=t.dynamicValue;break;case Kn.BindingTypeEnum.Provider:e=t.provider;break;case Kn.BindingTypeEnum.Factory:e=t.factory;break}if(e===null){var r=(0,GV.getServiceIdentifierAsString)(t.serviceIdentifier);throw new Error(XV.INVALID_BINDING_TYPE+" "+r)}};Ar.ensureFullyBound=zV;var JV=function(t){switch(t.type){case Kn.BindingTypeEnum.Factory:return{factory:t.factory,factoryType:Sb.FactoryType.Factory};case Kn.BindingTypeEnum.Provider:return{factory:t.provider,factoryType:Sb.FactoryType.Provider};case Kn.BindingTypeEnum.DynamicValue:return{factory:t.dynamicValue,factoryType:Sb.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+t.type)}};Ar.getFactoryDetails=JV});var zE=y(Tt=>{"use strict";var au=Tt&&Tt.__assign||function(){return au=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},au.apply(this,arguments)},YV=Tt&&Tt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),QV=Tt&&Tt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ZV=Tt&&Tt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&YV(e,t,r);return QV(e,t),e},GE=Tt&&Tt.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},XE=Tt&&Tt.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},e8=Tt&&Tt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.resolveInstance=void 0;var Pb=Qt(),xb=En(),Lb=ZV(yt()),Cb=Ml();function t8(t,e){return t.reduce(function(r,n){var i=e(n),o=n.target.type;return o===xb.TargetTypeEnum.ConstructorArgument?r.constructorInjections.push(i):(r.propertyRequests.push(n),r.propertyInjections.push(i)),r.isAsync||(r.isAsync=(0,Cb.isPromiseOrContainsPromise)(i)),r},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function r8(t,e,r){var n;if(e.length>0){var i=t8(e,r),o=au(au({},i),{constr:t});i.isAsync?n=n8(o):n=KE(o)}else n=new t;return n}function KE(t){var e,r=new((e=t.constr).bind.apply(e,e8([void 0],t.constructorInjections,!1)));return t.propertyRequests.forEach(function(n,i){var o=n.target.identifier,s=t.propertyInjections[i];r[o]=s}),r}function n8(t){return GE(this,void 0,void 0,function(){var e,r;return XE(this,function(n){switch(n.label){case 0:return[4,qE(t.constructorInjections)];case 1:return e=n.sent(),[4,qE(t.propertyInjections)];case 2:return r=n.sent(),[2,KE(au(au({},t),{constructorInjections:e,propertyInjections:r}))]}})})}function qE(t){return GE(this,void 0,void 0,function(){var e,r,n,i;return XE(this,function(o){for(e=[],r=0,n=t;r<n.length;r++)i=n[r],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function VE(t,e){var r=i8(t,e);return(0,Cb.isPromise)(r)?r.then(function(){return e}):e}function i8(t,e){var r,n;if(Reflect.hasMetadata(Lb.POST_CONSTRUCT,t)){var i=Reflect.getMetadata(Lb.POST_CONSTRUCT,t);try{return(n=(r=e)[i.value])===null||n===void 0?void 0:n.call(r)}catch(o){throw new Error((0,Pb.POST_CONSTRUCT_ERROR)(t.name,o.message))}}}function o8(t,e){t.scope!==xb.BindingScopeEnum.Singleton&&s8(t,e)}function s8(t,e){var r="Class cannot be instantiated in "+(t.scope===xb.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof t.onDeactivation=="function")throw new Error((0,Pb.ON_DEACTIVATION_ERROR)(e.name,r));if(Reflect.hasMetadata(Lb.PRE_DESTROY,e))throw new Error((0,Pb.PRE_DESTROY_ERROR)(e.name,r))}function a8(t,e,r,n){o8(t,e);var i=r8(e,r,n);return(0,Cb.isPromise)(i)?i.then(function(o){return VE(e,o)}):VE(e,i)}Tt.resolveInstance=a8});var eP=y(Sr=>{"use strict";var u8=Sr&&Sr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),c8=Sr&&Sr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),l8=Sr&&Sr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&u8(e,t,r);return c8(e,t),e},p8=Sr&&Sr.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},f8=Sr&&Sr.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.resolve=void 0;var d8=l8(Qt()),Ld=En(),h8=Ib(),JE=jE(),Db=Ml(),QE=Eb(),m8=hb(),H8=zE(),$b=function(t){return function(e){e.parentContext.setCurrentRequest(e);var r=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return n.map(function(a){var u=$b(t);return u(a)});if(e.target.isOptional()&&r.length===0)return;var s=r[0];return v8(t,e,s)}},g8=function(t,e){var r=(0,QE.getFactoryDetails)(t);return(0,m8.tryAndThrowErrorIfStackOverflow)(function(){return r.factory.bind(t)(e)},function(){return new Error(d8.CIRCULAR_DEPENDENCY_IN_FACTORY(r.factoryType,e.currentRequest.serviceIdentifier.toString()))})},y8=function(t,e,r){var n,i=e.childRequests;switch((0,QE.ensureFullyBound)(r),r.type){case Ld.BindingTypeEnum.ConstantValue:case Ld.BindingTypeEnum.Function:n=r.cache;break;case Ld.BindingTypeEnum.Constructor:n=r.implementationType;break;case Ld.BindingTypeEnum.Instance:n=(0,H8.resolveInstance)(r,r.implementationType,i,$b(t));break;default:n=g8(r,e.parentContext)}return n},b8=function(t,e,r){var n=(0,JE.tryGetFromScope)(t,e);return n!==null||(n=r(),(0,JE.saveToScope)(t,e,n)),n},v8=function(t,e,r){return b8(t,r,function(){var n=y8(t,e,r);return(0,Db.isPromise)(n)?n=n.then(function(i){return YE(e,r,i)}):n=YE(e,r,n),n})};function YE(t,e,r){var n=_8(t.parentContext,e,r),i=A8(t.parentContext.container),o,s=i.next();do{o=s.value;var a=t.parentContext,u=t.serviceIdentifier,c=I8(o,u);(0,Db.isPromise)(n)?n=ZE(c,a,n):n=w8(c,a,n),s=i.next()}while(s.done!==!0&&!(0,h8.getBindingDictionary)(o).hasKey(t.serviceIdentifier));return n}var _8=function(t,e,r){var n;return typeof e.onActivation=="function"?n=e.onActivation(t,r):n=r,n},w8=function(t,e,r){for(var n=t.next();!n.done;){if(r=n.value(e,r),(0,Db.isPromise)(r))return ZE(t,e,r);n=t.next()}return r},ZE=function(t,e,r){return p8(void 0,void 0,void 0,function(){var n,i;return f8(this,function(o){switch(o.label){case 0:return[4,r];case 1:n=o.sent(),i=t.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,n)];case 3:return n=o.sent(),i=t.next(),[3,2];case 4:return[2,n]}})})},I8=function(t,e){var r=t._activations;return r.hasKey(e)?r.get(e).values():[].values()},A8=function(t){for(var e=[t],r=t.parent;r!==null;)e.push(r),r=r.parent;var n=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:n};return i};function S8(t){var e=$b(t.plan.rootRequest.requestScope);return e(t.plan.rootRequest)}Sr.resolve=S8});var Tb=y(er=>{"use strict";var E8=er&&er.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),P8=er&&er.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),L8=er&&er.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&E8(e,t,r);return P8(e,t),e};Object.defineProperty(er,"__esModule",{value:!0});er.typeConstraint=er.namedConstraint=er.taggedConstraint=er.traverseAncerstors=void 0;var x8=L8(yt()),C8=Pn(),tP=function(t,e){var r=t.parentRequest;return r!==null?e(r)?!0:tP(r,e):!1};er.traverseAncerstors=tP;var rP=function(t){return function(e){var r=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(t)(e)};return r.metaData=new C8.Metadata(t,e),r}};er.taggedConstraint=rP;var D8=rP(x8.NAMED_TAG);er.namedConstraint=D8;var $8=function(t){return function(e){var r=null;if(e!==null)if(r=e.bindings[0],typeof t=="string"){var n=r.serviceIdentifier;return n===t}else{var i=e.bindings[0].implementationType;return t===i}return!1}};er.typeConstraint=$8});var Cd=y(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.BindingWhenSyntax=void 0;var fr=Dd(),St=Tb(),T8=function(){function t(e){this._binding=e}return t.prototype.when=function(e){return this._binding.constraint=e,new fr.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,St.namedConstraint)(e),new fr.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var r=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return r},new fr.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(e,r){return this._binding.constraint=(0,St.taggedConstraint)(e)(r),new fr.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(r){return r!==null&&(0,St.typeConstraint)(e)(r.parentRequest)},new fr.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,St.namedConstraint)(e)(r.parentRequest)},new fr.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,St.taggedConstraint)(e)(r)(n.parentRequest)},new fr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&(0,St.traverseAncerstors)(r,(0,St.typeConstraint)(e))},new fr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,St.traverseAncerstors)(r,(0,St.typeConstraint)(e))},new fr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&(0,St.traverseAncerstors)(r,(0,St.namedConstraint)(e))},new fr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,St.traverseAncerstors)(r,(0,St.namedConstraint)(e))},new fr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&(0,St.traverseAncerstors)(n,(0,St.taggedConstraint)(e)(r))},new fr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(e,r){return this._binding.constraint=function(n){return n!==null&&!(0,St.traverseAncerstors)(n,(0,St.taggedConstraint)(e)(r))},new fr.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&(0,St.traverseAncerstors)(r,e)},new fr.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(r){return r!==null&&!(0,St.traverseAncerstors)(r,e)},new fr.BindingOnSyntax(this._binding)},t}();xd.BindingWhenSyntax=T8});var Dd=y($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.BindingOnSyntax=void 0;var nP=Cd(),M8=function(){function t(e){this._binding=e}return t.prototype.onActivation=function(e){return this._binding.onActivation=e,new nP.BindingWhenSyntax(this._binding)},t.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new nP.BindingWhenSyntax(this._binding)},t}();$d.BindingOnSyntax=M8});var Mb=y(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.BindingWhenOnSyntax=void 0;var R8=Dd(),k8=Cd(),O8=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new k8.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new R8.BindingOnSyntax(this._binding)}return t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();Td.BindingWhenOnSyntax=O8});var iP=y(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.BindingInSyntax=void 0;var Rb=En(),kb=Mb(),N8=function(){function t(e){this._binding=e}return t.prototype.inRequestScope=function(){return this._binding.scope=Rb.BindingScopeEnum.Request,new kb.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=Rb.BindingScopeEnum.Singleton,new kb.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=Rb.BindingScopeEnum.Transient,new kb.BindingWhenOnSyntax(this._binding)},t}();Md.BindingInSyntax=N8});var oP=y(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.BindingInWhenOnSyntax=void 0;var B8=iP(),F8=Dd(),U8=Cd(),j8=function(){function t(e){this._binding=e,this._bindingWhenSyntax=new U8.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new F8.BindingOnSyntax(this._binding),this._bindingInSyntax=new B8.BindingInSyntax(e)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},t.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(e,r){return this._bindingWhenSyntax.whenTargetTagged(e,r)},t.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},t.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},t.prototype.whenParentTagged=function(e,r){return this._bindingWhenSyntax.whenParentTagged(e,r)},t.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},t.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},t.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},t.prototype.whenAnyAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,r)},t.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},t.prototype.whenNoAncestorTagged=function(e,r){return this._bindingWhenSyntax.whenNoAncestorTagged(e,r)},t.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},t.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},t.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},t.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},t}();Rd.BindingInWhenOnSyntax=j8});var uP=y(zn=>{"use strict";var W8=zn&&zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),q8=zn&&zn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V8=zn&&zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&W8(e,t,r);return q8(e,t),e};Object.defineProperty(zn,"__esModule",{value:!0});zn.BindingToSyntax=void 0;var sP=V8(Qt()),dr=En(),aP=oP(),uu=Mb(),G8=function(){function t(e){this._binding=e}return t.prototype.to=function(e){return this._binding.type=dr.BindingTypeEnum.Instance,this._binding.implementationType=e,new aP.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+sP.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},t.prototype.toConstantValue=function(e){return this._binding.type=dr.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=dr.BindingScopeEnum.Singleton,new uu.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(e){return this._binding.type=dr.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new aP.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(e){return this._binding.type=dr.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=dr.BindingScopeEnum.Singleton,new uu.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(e){return this._binding.type=dr.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=dr.BindingScopeEnum.Singleton,new uu.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(sP.INVALID_FUNCTION_BINDING);var r=this.toConstantValue(e);return this._binding.type=dr.BindingTypeEnum.Function,this._binding.scope=dr.BindingScopeEnum.Singleton,r},t.prototype.toAutoFactory=function(e){return this._binding.type=dr.BindingTypeEnum.Factory,this._binding.factory=function(r){var n=function(){return r.container.get(e)};return n},this._binding.scope=dr.BindingScopeEnum.Singleton,new uu.BindingWhenOnSyntax(this._binding)},t.prototype.toAutoNamedFactory=function(e){return this._binding.type=dr.BindingTypeEnum.Factory,this._binding.factory=function(r){return function(n){return r.container.getNamed(e,n)}},new uu.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(e){return this._binding.type=dr.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=dr.BindingScopeEnum.Singleton,new uu.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(e){this.toDynamicValue(function(r){return r.container.get(e)})},t}();zn.BindingToSyntax=G8});var cP=y(kd=>{"use strict";Object.defineProperty(kd,"__esModule",{value:!0});kd.ContainerSnapshot=void 0;var X8=function(){function t(){}return t.of=function(e,r,n,i,o){var s=new t;return s.bindings=e,s.middleware=r,s.deactivations=i,s.activations=n,s.moduleActivationStore=o,s},t}();kd.ContainerSnapshot=X8});var lP=y(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.isClonable=void 0;function K8(t){return typeof t=="object"&&t!==null&&"clone"in t&&typeof t.clone=="function"}Od.isClonable=K8});var Ob=y(Jn=>{"use strict";var z8=Jn&&Jn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),J8=Jn&&Jn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Y8=Jn&&Jn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&z8(e,t,r);return J8(e,t),e};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.Lookup=void 0;var Fs=Y8(Qt()),Q8=lP(),Z8=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(e,r){if(e==null)throw new Error(Fs.NULL_ARGUMENT);if(r==null)throw new Error(Fs.NULL_ARGUMENT);var n=this._map.get(e);n!==void 0?n.push(r):this._map.set(e,[r])},t.prototype.get=function(e){if(e==null)throw new Error(Fs.NULL_ARGUMENT);var r=this._map.get(e);if(r!==void 0)return r;throw new Error(Fs.KEY_NOT_FOUND)},t.prototype.remove=function(e){if(e==null)throw new Error(Fs.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Fs.KEY_NOT_FOUND)},t.prototype.removeIntersection=function(e){var r=this;this.traverse(function(n,i){var o=e.hasKey(n)?e.get(n):void 0;if(o!==void 0){var s=i.filter(function(a){return!o.some(function(u){return a===u})});r._setValue(n,s)}})},t.prototype.removeByCondition=function(e){var r=this,n=[];return this._map.forEach(function(i,o){for(var s=[],a=0,u=i;a<u.length;a++){var c=u[a],l=e(c);l?n.push(c):s.push(c)}r._setValue(o,s)}),n},t.prototype.hasKey=function(e){if(e==null)throw new Error(Fs.NULL_ARGUMENT);return this._map.has(e)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){r.forEach(function(i){return e.add(n,(0,Q8.isClonable)(i)?i.clone():i)})}),e},t.prototype.traverse=function(e){this._map.forEach(function(r,n){e(n,r)})},t.prototype._setValue=function(e,r){r.length>0?this._map.set(e,r):this._map.delete(e)},t}();Jn.Lookup=Z8});var fP=y(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.ModuleActivationStore=void 0;var pP=Ob(),eG=function(){function t(){this._map=new Map}return t.prototype.remove=function(e){if(this._map.has(e)){var r=this._map.get(e);return this._map.delete(e),r}return this._getEmptyHandlersStore()},t.prototype.addDeactivation=function(e,r,n){this._getModuleActivationHandlers(e).onDeactivations.add(r,n)},t.prototype.addActivation=function(e,r,n){this._getModuleActivationHandlers(e).onActivations.add(r,n)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(r,n){e._map.set(n,{onActivations:r.onActivations.clone(),onDeactivations:r.onDeactivations.clone()})}),e},t.prototype._getModuleActivationHandlers=function(e){var r=this._map.get(e);return r===void 0&&(r=this._getEmptyHandlersStore(),this._map.set(e,r)),r},t.prototype._getEmptyHandlersStore=function(){var e={onActivations:new pP.Lookup,onDeactivations:new pP.Lookup};return e},t}();Nd.ModuleActivationStore=eG});var hP=y(Mt=>{"use strict";var Fd=Mt&&Mt.__assign||function(){return Fd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fd.apply(this,arguments)},tG=Mt&&Mt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rG=Mt&&Mt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dP=Mt&&Mt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&tG(e,t,r);return rG(e,t),e},Qr=Mt&&Mt.__awaiter||function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(l){try{c(n.next(l))}catch(p){s(p)}}function u(l){try{c(n.throw(l))}catch(p){s(p)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((n=n.apply(t,e||[])).next())})},Zr=Mt&&Mt.__generator||function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){r.label=c[1];break}if(c[0]===6&&r.label<o[1]){r.label=o[1],o=c;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(c);break}o[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(l){c=[6,l],i=0}finally{n=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},nG=Mt&&Mt.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Mt,"__esModule",{value:!0});Mt.Container=void 0;var iG=hE(),Ln=dP(Qt()),cu=En(),Us=dP(yt()),oG=db(),Bd=Ib(),sG=eP(),aG=uP(),js=Ml(),uG=Po(),cG=iu(),lG=cP(),kl=Ob(),pG=fP(),fG=function(){function t(e){var r=e||{};if(typeof r!="object")throw new Error(""+Ln.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(r.defaultScope===void 0)r.defaultScope=cu.BindingScopeEnum.Transient;else if(r.defaultScope!==cu.BindingScopeEnum.Singleton&&r.defaultScope!==cu.BindingScopeEnum.Transient&&r.defaultScope!==cu.BindingScopeEnum.Request)throw new Error(""+Ln.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(r.autoBindInjectable===void 0)r.autoBindInjectable=!1;else if(typeof r.autoBindInjectable!="boolean")throw new Error(""+Ln.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(r.skipBaseClassChecks===void 0)r.skipBaseClassChecks=!1;else if(typeof r.skipBaseClassChecks!="boolean")throw new Error(""+Ln.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:r.autoBindInjectable,defaultScope:r.defaultScope,skipBaseClassChecks:r.skipBaseClassChecks},this.id=(0,uG.id)(),this._bindingDictionary=new kl.Lookup,this._snapshots=[],this._middleware=null,this._activations=new kl.Lookup,this._deactivations=new kl.Lookup,this.parent=null,this._metadataReader=new oG.MetadataReader,this._moduleActivationStore=new pG.ModuleActivationStore}return t.merge=function(e,r){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new t,s=nG([e,r],n,!0).map(function(c){return(0,Bd.getBindingDictionary)(c)}),a=(0,Bd.getBindingDictionary)(o);function u(c,l){c.traverse(function(p,f){f.forEach(function(m){l.add(m.serviceIdentifier,m.clone())})})}return s.forEach(function(c){u(c,a)}),o},t.prototype.load=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=n(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},t.prototype.loadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Qr(this,void 0,void 0,function(){var n,i,o,s,a;return Zr(this,function(u){switch(u.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=e,u.label=1;case 1:return i<o.length?(s=o[i],a=n(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},t.prototype.unload=function(){for(var e=this,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];r.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},t.prototype.unloadAsync=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Qr(this,void 0,void 0,function(){var n,i,o,s;return Zr(this,function(a){switch(a.label){case 0:n=0,i=e,a.label=1;case 1:return n<i.length?(o=i[n],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(o.id),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.bind=function(e){var r=this.options.defaultScope||cu.BindingScopeEnum.Transient,n=new iG.Binding(e,r);return this._bindingDictionary.add(e,n),new aG.BindingToSyntax(n)},t.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},t.prototype.rebindAsync=function(e){return Qr(this,void 0,void 0,function(){return Zr(this,function(r){switch(r.label){case 0:return[4,this.unbindAsync(e)];case 1:return r.sent(),[2,this.bind(e)]}})})},t.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var r=this._bindingDictionary.get(e);this._deactivateSingletons(r)}this._removeServiceFromDictionary(e)},t.prototype.unbindAsync=function(e){return Qr(this,void 0,void 0,function(){var r;return Zr(this,function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(r=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(r)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},t.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(r,n){e._deactivateSingletons(n)}),this._bindingDictionary=new kl.Lookup},t.prototype.unbindAllAsync=function(){return Qr(this,void 0,void 0,function(){var e,r=this;return Zr(this,function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(r._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new kl.Lookup,[2]}})})},t.prototype.onActivation=function(e,r){this._activations.add(e,r)},t.prototype.onDeactivation=function(e,r){this._deactivations.add(e,r)},t.prototype.isBound=function(e){var r=this._bindingDictionary.hasKey(e);return!r&&this.parent&&(r=this.parent.isBound(e)),r},t.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},t.prototype.isBoundNamed=function(e,r){return this.isBoundTagged(e,Us.NAMED_TAG,r)},t.prototype.isBoundTagged=function(e,r,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,Bd.createMockRequest)(this,e,r,n);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,r,n)),i},t.prototype.snapshot=function(){this._snapshots.push(lG.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},t.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(Ln.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},t.prototype.createChild=function(e){var r=new t(e||this.options);return r.parent=this,r},t.prototype.applyMiddleware=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},n)},t.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},t.prototype.get=function(e){var r=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(r)},t.prototype.getAsync=function(e){return Qr(this,void 0,void 0,function(){var r;return Zr(this,function(n){return r=this._getNotAllArgs(e,!1),[2,this._get(r)]})})},t.prototype.getTagged=function(e,r,n){var i=this._getNotAllArgs(e,!1,r,n);return this._getButThrowIfAsync(i)},t.prototype.getTaggedAsync=function(e,r,n){return Qr(this,void 0,void 0,function(){var i;return Zr(this,function(o){return i=this._getNotAllArgs(e,!1,r,n),[2,this._get(i)]})})},t.prototype.getNamed=function(e,r){return this.getTagged(e,Us.NAMED_TAG,r)},t.prototype.getNamedAsync=function(e,r){return this.getTaggedAsync(e,Us.NAMED_TAG,r)},t.prototype.getAll=function(e){var r=this._getAllArgs(e);return this._getButThrowIfAsync(r)},t.prototype.getAllAsync=function(e){var r=this._getAllArgs(e);return this._getAll(r)},t.prototype.getAllTagged=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getButThrowIfAsync(i)},t.prototype.getAllTaggedAsync=function(e,r,n){var i=this._getNotAllArgs(e,!0,r,n);return this._getAll(i)},t.prototype.getAllNamed=function(e,r){return this.getAllTagged(e,Us.NAMED_TAG,r)},t.prototype.getAllNamedAsync=function(e,r){return this.getAllTaggedAsync(e,Us.NAMED_TAG,r)},t.prototype.resolve=function(e){var r=this.isBound(e);r||this.bind(e).toSelf();var n=this.get(e);return r||this.unbind(e),n},t.prototype._preDestroy=function(e,r){if(Reflect.hasMetadata(Us.PRE_DESTROY,e)){var n=Reflect.getMetadata(Us.PRE_DESTROY,e);return r[n.value]()}},t.prototype._removeModuleHandlers=function(e){var r=this._moduleActivationStore.remove(e);this._activations.removeIntersection(r.onActivations),this._deactivations.removeIntersection(r.onDeactivations)},t.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(r){return r.moduleId===e})},t.prototype._deactivate=function(e,r){var n=this,i=Object.getPrototypeOf(r).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(r,this._deactivations.get(e.serviceIdentifier).values());if((0,js.isPromise)(o))return this._handleDeactivationError(o.then(function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,r,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,r,i);if((0,js.isPromise)(s))return this._handleDeactivationError(s,i)}catch(a){throw new Error(Ln.ON_DEACTIVATION_ERROR(i.name,a.message))}},t.prototype._handleDeactivationError=function(e,r){return Qr(this,void 0,void 0,function(){var n;return Zr(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:throw n=i.sent(),new Error(Ln.ON_DEACTIVATION_ERROR(r.name,n.message));case 3:return[2]}})})},t.prototype._deactivateContainer=function(e,r){for(var n=this,i=r.next();i.value;){var o=i.value(e);if((0,js.isPromise)(o))return o.then(function(){return n._deactivateContainerAsync(e,r)});i=r.next()}},t.prototype._deactivateContainerAsync=function(e,r){return Qr(this,void 0,void 0,function(){var n;return Zr(this,function(i){switch(i.label){case 0:n=r.next(),i.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return i.sent(),n=r.next(),[3,1];case 3:return[2]}})})},t.prototype._getContainerModuleHelpersFactory=function(){var e=this,r=function(l,p){l._binding.moduleId=p},n=function(l){return function(p){var f=e.bind(p);return r(f,l),f}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var f=e.rebind(p);return r(f,l),f}},u=function(l){return function(p,f){e._moduleActivationStore.addActivation(l,p,f),e.onActivation(p,f)}},c=function(l){return function(p,f){e._moduleActivationStore.addDeactivation(l,p,f),e.onDeactivation(p,f)}};return function(l){return{bindFunction:n(l),isboundFunction:s(),onActivationFunction:u(l),onDeactivationFunction:c(l),rebindFunction:a(l),unbindFunction:i(),unbindAsyncFunction:o()}}},t.prototype._getAll=function(e){return Promise.all(this._get(e))},t.prototype._get=function(e){var r=Fd(Fd({},e),{contextInterceptor:function(i){return i},targetType:cu.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(r);if(n==null)throw new Error(Ln.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(r)},t.prototype._getButThrowIfAsync=function(e){var r=this._get(e);if((0,js.isPromiseOrContainsPromise)(r))throw new Error(Ln.LAZY_IN_SYNC(e.serviceIdentifier));return r},t.prototype._getAllArgs=function(e){var r={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return r},t.prototype._getNotAllArgs=function(e,r,n,i){var o={avoidConstraints:!1,isMultiInject:r,serviceIdentifier:e,key:n,value:i};return o},t.prototype._planAndResolve=function(){var e=this;return function(r){var n=(0,Bd.plan)(e._metadataReader,e,r.isMultiInject,r.targetType,r.serviceIdentifier,r.key,r.value,r.avoidConstraints);n=r.contextInterceptor(n);var i=(0,sG.resolve)(n);return i}},t.prototype._deactivateIfSingleton=function(e){var r=this;if(e.activated)return(0,js.isPromise)(e.cache)?e.cache.then(function(n){return r._deactivate(e,n)}):this._deactivate(e,e.cache)},t.prototype._deactivateSingletons=function(e){for(var r=0,n=e;r<n.length;r++){var i=n[r],o=this._deactivateIfSingleton(i);if((0,js.isPromise)(o))throw new Error(Ln.ASYNC_UNBIND_REQUIRED)}},t.prototype._deactivateSingletonsAsync=function(e){return Qr(this,void 0,void 0,function(){var r=this;return Zr(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return r._deactivateIfSingleton(i)}))];case 1:return n.sent(),[2]}})})},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,r,n){return this.parent?this._deactivate.bind(this.parent)(e,r):this._bindingDeactivationAndPreDestroy(e,r,n)},t.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,r,n){return Qr(this,void 0,void 0,function(){return Zr(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,r)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,r,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},t.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(Ln.CANNOT_UNBIND+" "+(0,cG.getServiceIdentifierAsString)(e))}},t.prototype._bindingDeactivationAndPreDestroy=function(e,r,n){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(r);if((0,js.isPromise)(o))return o.then(function(){return i._preDestroy(n,r)})}return this._preDestroy(n,r)},t.prototype._bindingDeactivationAndPreDestroyAsync=function(e,r,n){return Qr(this,void 0,void 0,function(){return Zr(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(r)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,r)];case 3:return i.sent(),[2]}})})},t}();Mt.Container=fG});var HP=y(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.AsyncContainerModule=lu.ContainerModule=void 0;var mP=Po(),dG=function(){function t(e){this.id=(0,mP.id)(),this.registry=e}return t}();lu.ContainerModule=dG;var hG=function(){function t(e){this.id=(0,mP.id)(),this.registry=e}return t}();lu.AsyncContainerModule=hG});var gP=y(Ud=>{"use strict";Object.defineProperty(Ud,"__esModule",{value:!0});Ud.getFirstArrayDuplicate=void 0;function mG(t){for(var e=new Set,r=0,n=t;r<n.length;r++){var i=n[r];if(e.has(i))return i;e.add(i)}}Ud.getFirstArrayDuplicate=mG});var qi=y(tr=>{"use strict";var HG=tr&&tr.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),gG=tr&&tr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),bP=tr&&tr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&HG(e,t,r);return gG(e,t),e};Object.defineProperty(tr,"__esModule",{value:!0});tr.createTaggedDecorator=tr.tagProperty=tr.tagParameter=tr.decorate=void 0;var jd=bP(Qt()),vP=bP(yt()),yG=gP();function bG(t){return t.prototype!==void 0}function vG(t){if(t!==void 0)throw new Error(jd.INVALID_DECORATOR_OPERATION)}function _P(t,e,r,n){vG(e),IP(vP.TAGGED,t,r.toString(),n)}tr.tagParameter=_P;function wP(t,e,r){if(bG(t))throw new Error(jd.INVALID_DECORATOR_OPERATION);IP(vP.TAGGED_PROP,t.constructor,e,r)}tr.tagProperty=wP;function _G(t){var e=[];if(Array.isArray(t)){e=t;var r=(0,yG.getFirstArrayDuplicate)(e.map(function(n){return n.key}));if(r!==void 0)throw new Error(jd.DUPLICATED_METADATA+" "+r.toString())}else e=[t];return e}function IP(t,e,r,n){var i=_G(n),o={};Reflect.hasOwnMetadata(t,e)&&(o=Reflect.getMetadata(t,e));var s=o[r];if(s===void 0)s=[];else for(var a=function(p){if(i.some(function(f){return f.key===p.key}))throw new Error(jd.DUPLICATED_METADATA+" "+p.key.toString())},u=0,c=s;u<c.length;u++){var l=c[u];a(l)}s.push.apply(s,i),o[r]=s,Reflect.defineMetadata(t,o,e)}function wG(t){return function(e,r,n){typeof n=="number"?_P(e,r,n,t):wP(e,r,t)}}tr.createTaggedDecorator=wG;function yP(t,e){Reflect.decorate(t,e)}function IG(t,e){return function(r,n){e(r,n,t)}}function AG(t,e,r){typeof r=="number"?yP([IG(r,t)],e):typeof r=="string"?Reflect.decorate([t],e,r):yP([t],e)}tr.decorate=AG});var SP=y(Yn=>{"use strict";var SG=Yn&&Yn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EG=Yn&&Yn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),AP=Yn&&Yn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&SG(e,t,r);return EG(e,t),e};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.injectable=void 0;var PG=AP(Qt()),Nb=AP(yt());function LG(){return function(t){if(Reflect.hasOwnMetadata(Nb.PARAM_TYPES,t))throw new Error(PG.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(Nb.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(Nb.PARAM_TYPES,e,t),t}}Yn.injectable=LG});var EP=y(Wd=>{"use strict";Object.defineProperty(Wd,"__esModule",{value:!0});Wd.tagged=void 0;var xG=Pn(),CG=qi();function DG(t,e){return(0,CG.createTaggedDecorator)(new xG.Metadata(t,e))}Wd.tagged=DG});var PP=y(Qn=>{"use strict";var $G=Qn&&Qn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),TG=Qn&&Qn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),MG=Qn&&Qn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&$G(e,t,r);return TG(e,t),e};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.named=void 0;var RG=MG(yt()),kG=Pn(),OG=qi();function NG(t){return(0,OG.createTaggedDecorator)(new kG.Metadata(RG.NAMED_TAG,t))}Qn.named=NG});var Bb=y(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.injectBase=void 0;var BG=Qt(),FG=Pn(),UG=qi();function jG(t){return function(e){return function(r,n,i){if(e===void 0){var o=typeof r=="function"?r.name:r.constructor.name;throw new Error((0,BG.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,UG.createTaggedDecorator)(new FG.Metadata(t,e))(r,n,i)}}}qd.injectBase=jG});var LP=y(Zn=>{"use strict";var WG=Zn&&Zn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),qG=Zn&&Zn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),VG=Zn&&Zn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&WG(e,t,r);return qG(e,t),e};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.inject=void 0;var GG=VG(yt()),XG=Bb(),KG=(0,XG.injectBase)(GG.INJECT_TAG);Zn.inject=KG});var xP=y(ei=>{"use strict";var zG=ei&&ei.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),JG=ei&&ei.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),YG=ei&&ei.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&zG(e,t,r);return JG(e,t),e};Object.defineProperty(ei,"__esModule",{value:!0});ei.optional=void 0;var QG=YG(yt()),ZG=Pn(),e4=qi();function t4(){return(0,e4.createTaggedDecorator)(new ZG.Metadata(QG.OPTIONAL_TAG,!0))}ei.optional=t4});var CP=y(ti=>{"use strict";var r4=ti&&ti.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),n4=ti&&ti.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i4=ti&&ti.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&r4(e,t,r);return n4(e,t),e};Object.defineProperty(ti,"__esModule",{value:!0});ti.unmanaged=void 0;var o4=i4(yt()),s4=Pn(),a4=qi();function u4(){return function(t,e,r){var n=new s4.Metadata(o4.UNMANAGED_TAG,!0);(0,a4.tagParameter)(t,e,r,n)}}ti.unmanaged=u4});var DP=y(ri=>{"use strict";var c4=ri&&ri.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),l4=ri&&ri.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),p4=ri&&ri.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&c4(e,t,r);return l4(e,t),e};Object.defineProperty(ri,"__esModule",{value:!0});ri.multiInject=void 0;var f4=p4(yt()),d4=Bb(),h4=(0,d4.injectBase)(f4.MULTI_INJECT_TAG);ri.multiInject=h4});var $P=y(ni=>{"use strict";var m4=ni&&ni.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),H4=ni&&ni.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),g4=ni&&ni.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m4(e,t,r);return H4(e,t),e};Object.defineProperty(ni,"__esModule",{value:!0});ni.targetName=void 0;var y4=g4(yt()),b4=Pn(),v4=qi();function _4(t){return function(e,r,n){var i=new b4.Metadata(y4.NAME_TAG,t);(0,v4.tagParameter)(e,r,n,i)}}ni.targetName=_4});var Fb=y(Vd=>{"use strict";Object.defineProperty(Vd,"__esModule",{value:!0});Vd.propertyEventDecorator=void 0;var w4=Pn();function I4(t,e){return function(){return function(r,n){var i=new w4.Metadata(t,n);if(Reflect.hasOwnMetadata(t,r.constructor))throw new Error(e);Reflect.defineMetadata(t,i,r.constructor)}}}Vd.propertyEventDecorator=I4});var MP=y(ii=>{"use strict";var A4=ii&&ii.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),S4=ii&&ii.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TP=ii&&ii.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&A4(e,t,r);return S4(e,t),e};Object.defineProperty(ii,"__esModule",{value:!0});ii.postConstruct=void 0;var E4=TP(Qt()),P4=TP(yt()),L4=Fb(),x4=(0,L4.propertyEventDecorator)(P4.POST_CONSTRUCT,E4.MULTIPLE_POST_CONSTRUCT_METHODS);ii.postConstruct=x4});var kP=y(oi=>{"use strict";var C4=oi&&oi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),D4=oi&&oi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RP=oi&&oi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&C4(e,t,r);return D4(e,t),e};Object.defineProperty(oi,"__esModule",{value:!0});oi.preDestroy=void 0;var $4=RP(Qt()),T4=RP(yt()),M4=Fb(),R4=(0,M4.propertyEventDecorator)(T4.PRE_DESTROY,$4.MULTIPLE_PRE_DESTROY_METHODS);oi.preDestroy=R4});var OP=y(Gd=>{"use strict";Object.defineProperty(Gd,"__esModule",{value:!0});Gd.interfaces=void 0;var Ub;Ub||(Ub={});Gd.interfaces=Ub});var ue=y(oe=>{"use strict";var k4=oe&&oe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),O4=oe&&oe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),N4=oe&&oe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&k4(e,t,r);return O4(e,t),e};Object.defineProperty(oe,"__esModule",{value:!0});oe.multiBindToService=oe.getServiceIdentifierAsString=oe.typeConstraint=oe.namedConstraint=oe.taggedConstraint=oe.traverseAncerstors=oe.decorate=oe.interfaces=oe.id=oe.MetadataReader=oe.preDestroy=oe.postConstruct=oe.targetName=oe.multiInject=oe.unmanaged=oe.optional=oe.LazyServiceIdentifer=oe.inject=oe.named=oe.tagged=oe.injectable=oe.createTaggedDecorator=oe.ContainerModule=oe.AsyncContainerModule=oe.TargetTypeEnum=oe.BindingTypeEnum=oe.BindingScopeEnum=oe.Container=oe.METADATA_KEY=void 0;var B4=N4(yt());oe.METADATA_KEY=B4;var F4=hP();Object.defineProperty(oe,"Container",{enumerable:!0,get:function(){return F4.Container}});var jb=En();Object.defineProperty(oe,"BindingScopeEnum",{enumerable:!0,get:function(){return jb.BindingScopeEnum}});Object.defineProperty(oe,"BindingTypeEnum",{enumerable:!0,get:function(){return jb.BindingTypeEnum}});Object.defineProperty(oe,"TargetTypeEnum",{enumerable:!0,get:function(){return jb.TargetTypeEnum}});var NP=HP();Object.defineProperty(oe,"AsyncContainerModule",{enumerable:!0,get:function(){return NP.AsyncContainerModule}});Object.defineProperty(oe,"ContainerModule",{enumerable:!0,get:function(){return NP.ContainerModule}});var U4=qi();Object.defineProperty(oe,"createTaggedDecorator",{enumerable:!0,get:function(){return U4.createTaggedDecorator}});var j4=SP();Object.defineProperty(oe,"injectable",{enumerable:!0,get:function(){return j4.injectable}});var W4=EP();Object.defineProperty(oe,"tagged",{enumerable:!0,get:function(){return W4.tagged}});var q4=PP();Object.defineProperty(oe,"named",{enumerable:!0,get:function(){return q4.named}});var V4=LP();Object.defineProperty(oe,"inject",{enumerable:!0,get:function(){return V4.inject}});var G4=mb();Object.defineProperty(oe,"LazyServiceIdentifer",{enumerable:!0,get:function(){return G4.LazyServiceIdentifer}});var X4=xP();Object.defineProperty(oe,"optional",{enumerable:!0,get:function(){return X4.optional}});var K4=CP();Object.defineProperty(oe,"unmanaged",{enumerable:!0,get:function(){return K4.unmanaged}});var z4=DP();Object.defineProperty(oe,"multiInject",{enumerable:!0,get:function(){return z4.multiInject}});var J4=$P();Object.defineProperty(oe,"targetName",{enumerable:!0,get:function(){return J4.targetName}});var Y4=MP();Object.defineProperty(oe,"postConstruct",{enumerable:!0,get:function(){return Y4.postConstruct}});var Q4=kP();Object.defineProperty(oe,"preDestroy",{enumerable:!0,get:function(){return Q4.preDestroy}});var Z4=db();Object.defineProperty(oe,"MetadataReader",{enumerable:!0,get:function(){return Z4.MetadataReader}});var e5=Po();Object.defineProperty(oe,"id",{enumerable:!0,get:function(){return e5.id}});var t5=OP();Object.defineProperty(oe,"interfaces",{enumerable:!0,get:function(){return t5.interfaces}});var r5=qi();Object.defineProperty(oe,"decorate",{enumerable:!0,get:function(){return r5.decorate}});var Xd=Tb();Object.defineProperty(oe,"traverseAncerstors",{enumerable:!0,get:function(){return Xd.traverseAncerstors}});Object.defineProperty(oe,"taggedConstraint",{enumerable:!0,get:function(){return Xd.taggedConstraint}});Object.defineProperty(oe,"namedConstraint",{enumerable:!0,get:function(){return Xd.namedConstraint}});Object.defineProperty(oe,"typeConstraint",{enumerable:!0,get:function(){return Xd.typeConstraint}});var n5=iu();Object.defineProperty(oe,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return n5.getServiceIdentifierAsString}});var i5=Eb();Object.defineProperty(oe,"multiBindToService",{enumerable:!0,get:function(){return i5.multiBindToService}})});var jP=y((Zle,Ol)=>{var FP={};FP.__wbindgen_placeholder__=Ol.exports;var xn,{TextDecoder:o5}=v("util"),UP=new o5("utf-8",{ignoreBOM:!0,fatal:!0});UP.decode();var Kd=null;function Vb(){return(Kd===null||Kd.buffer!==xn.memory.buffer)&&(Kd=new Uint8Array(xn.memory.buffer)),Kd}function s5(t,e){return UP.decode(Vb().subarray(t,t+e))}var Wb=0;function BP(t,e){let r=e(t.length*1);return Vb().set(t,r/1),Wb=t.length,r}var qb=class t{static __wrap(e){let r=Object.create(t.prototype);return r.ptr=e,r}__destroy_into_raw(){let e=this.ptr;return this.ptr=0,e}free(){let e=this.__destroy_into_raw();xn.__wbg_hasher_free(e)}constructor(){var e=xn.hasher_new();return t.__wrap(e)}update(e){var r=BP(e,xn.__wbindgen_malloc),n=Wb;xn.hasher_update(this.ptr,r,n)}digest(e){try{var r=BP(e,xn.__wbindgen_malloc),n=Wb;xn.hasher_digest(this.ptr,r,n)}finally{e.set(Vb().subarray(r/1,r/1+n)),xn.__wbindgen_free(r,n*1)}}};Ol.exports.Hasher=qb;Ol.exports.__wbindgen_throw=function(t,e){throw new Error(s5(t,e))};var a5=v("path").join(__dirname,"chromehash_bg.wasm"),u5=v("fs").readFileSync(a5),c5=new WebAssembly.Module(u5),l5=new WebAssembly.Instance(c5,FP);xn=l5.exports;Ol.exports.__wasm=xn});var KP=y(si=>{"use strict";Object.defineProperty(si,"__esModule",{value:!0});si.shaHashFile=si.hashFile=si.shaHash=si.hash=void 0;var VP=jP(),GP=v("fs"),WP=v("string_decoder"),XP=v("crypto"),Jd=Buffer.alloc(4*5),p5=t=>{let e=new VP.Hasher;return e.update(m5(t)),e.digest(Jd),e.free(),Jd.toString("hex")};si.hash=p5;var f5=t=>{let e=(0,XP.createHash)("sha256");return e.update(H5(t)),e.digest("hex")};si.shaHash=f5;var d5=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=new VP.Hasher,i;try{i=await GP.promises.open(t,"r");let o=await i.read(r,0,r.length,null),s=r.slice(0,o.bytesRead);if(Qd(s))for(n.update(s.slice(2));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));else if(Zd(s))for(n.update(s.slice(2).swap16());o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead).swap16());else if(Yd(s)){let a=new WP.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s.slice(3)),"utf16le"));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,o.bytesRead)),"utf16le"))}else{let a=new WP.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s),"utf16le"));o.bytesRead===r.length;)o=await i.read(r,0,r.length,null),n.update(Buffer.from(a.write(r.slice(0,o.bytesRead)),"utf16le"))}return n.digest(Jd),Jd.toString("hex")}finally{n.free(),i!==void 0&&await i.close()}};si.hashFile=d5;var zd={stream:!0},h5=async(t,e=4096)=>{e%2===1&&e++;let r=Buffer.alloc(e),n=(0,XP.createHash)("sha256"),i;try{i=await GP.promises.open(t,"r");let o=await i.read(r,0,r.length,null),s=r.slice(0,o.bytesRead);if(Qd(s)){let a=new TextDecoder("utf-16le");for(n.update(a.decode(s.slice(2),zd));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,o.bytesRead),zd))}else if(Zd(s)){let a=new TextDecoder("utf-16be");for(n.update(a.decode(s.slice(2),zd));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(a.decode(r.slice(0,o.bytesRead),zd))}else if(Yd(s))for(n.update(s.slice(3));o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));else for(n.update(s);o.bytesRead>0;)o=await i.read(r,0,r.length,null),n.update(r.slice(0,o.bytesRead));return n.digest("hex")}finally{await i?.close()}};si.shaHashFile=h5;var Yd=t=>t.length>=3&&t[0]===239&&t[1]===187&&t[2]===191,Qd=t=>t.length>=2&&t[0]===255&&t[1]===254,Zd=t=>t.length>=2&&t[0]===254&&t[1]===255,m5=t=>Yd(t)?qP(t.slice(3)):Qd(t)?t.slice(2):Zd(t)?t.slice(2).swap16():qP(t),H5=t=>Yd(t)?t.slice(3):Qd(t)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(t.slice(2))):Zd(t)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(t.slice(2))):t,qP=t=>Buffer.from(t.toString("utf8"),"utf16le")});var oL=y((hpe,iL)=>{iL.exports=nL;nL.sync=L5;var tL=v("fs");function P5(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&t.substr(-i.length).toLowerCase()===i)return!0}return!1}function rL(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:P5(e,r)}function nL(t,e,r){tL.stat(t,function(n,i){r(n,n?!1:rL(i,t,e))})}function L5(t,e){return rL(tL.statSync(t),t,e)}});var lL=y((mpe,cL)=>{cL.exports=aL;aL.sync=x5;var sL=v("fs");function aL(t,e,r){sL.stat(t,function(n,i){r(n,n?!1:uL(i,e))})}function x5(t,e){return uL(sL.statSync(t),e)}function uL(t,e){return t.isFile()&&C5(t,e)}function C5(t,e){var r=t.mode,n=t.uid,i=t.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),u=parseInt("010",8),c=parseInt("001",8),l=a|u,p=r&c||r&u&&i===s||r&a&&n===o||r&l&&o===0;return p}});var Jb=y((gpe,pL)=>{var Hpe=v("fs"),rh;process.platform==="win32"||global.TESTING_WINDOWS?rh=oL():rh=lL();pL.exports=zb;zb.sync=D5;function zb(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){zb(t,e||{},function(o,s){o?i(o):n(s)})})}rh(t,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function D5(t,e){try{return rh.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var yL=y((ype,gL)=>{var fu=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",fL=v("path"),$5=fu?";":":",dL=Jb(),hL=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),mL=(t,e)=>{let r=e.colon||$5,n=t.match(/\//)||fu&&t.match(/\\/)?[""]:[...fu?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],i=fu?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=fu?i.split(r):[""];return fu&&t.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},HL=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=mL(t,e),s=[],a=c=>new Promise((l,p)=>{if(c===n.length)return e.all&&s.length?l(s):p(hL(t));let f=n[c],m=/^".*"$/.test(f)?f.slice(1,-1):f,h=fL.join(m,t),g=!m&&/^\.[\\\/]/.test(t)?t.slice(0,2)+h:h;l(u(g,c,0))}),u=(c,l,p)=>new Promise((f,m)=>{if(p===i.length)return f(a(l+1));let h=i[p];dL(c+h,{pathExt:o},(g,b)=>{if(!g&&b)if(e.all)s.push(c+h);else return f(c+h);return f(u(c,l,p+1))})});return r?a(0).then(c=>r(null,c),r):a(0)},T5=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=mL(t,e),o=[];for(let s=0;s<r.length;s++){let a=r[s],u=/^".*"$/.test(a)?a.slice(1,-1):a,c=fL.join(u,t),l=!u&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let p=0;p<n.length;p++){let f=l+n[p];try{if(dL.sync(f,{pathExt:i}))if(e.all)o.push(f);else return f}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw hL(t)};gL.exports=HL;HL.sync=T5});var vL=y((bpe,Yb)=>{"use strict";var bL=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};Yb.exports=bL;Yb.exports.default=bL});var AL=y((vpe,IL)=>{"use strict";var _L=v("path"),M5=yL(),R5=vL();function wL(t,e){let r=t.options.env||process.env,n=process.cwd(),i=t.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(t.options.cwd)}catch{}let s;try{s=M5.sync(t.command,{path:r[R5({env:r})],pathExt:e?_L.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=_L.resolve(i?t.options.cwd:"",s)),s}function k5(t){return wL(t)||wL(t,!0)}IL.exports=k5});var SL=y((_pe,Zb)=>{"use strict";var Qb=/([()\][%!^"`<>&|;, *?])/g;function O5(t){return t=t.replace(Qb,"^$1"),t}function N5(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Qb,"^$1"),e&&(t=t.replace(Qb,"^$1")),t}Zb.exports.command=O5;Zb.exports.argument=N5});var PL=y((wpe,EL)=>{"use strict";EL.exports=/^#!(.*)/});var xL=y((Ipe,LL)=>{"use strict";var B5=PL();LL.exports=(t="")=>{let e=t.match(B5);if(!e)return null;let[r,n]=e[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var DL=y((Ape,CL)=>{"use strict";var ev=v("fs"),F5=xL();function U5(t){let r=Buffer.alloc(150),n;try{n=ev.openSync(t,"r"),ev.readSync(n,r,0,150,0),ev.closeSync(n)}catch{}return F5(r.toString())}CL.exports=U5});var RL=y((Spe,ML)=>{"use strict";var j5=v("path"),$L=AL(),TL=SL(),W5=DL(),q5=process.platform==="win32",V5=/\.(?:com|exe)$/i,G5=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function X5(t){t.file=$L(t);let e=t.file&&W5(t.file);return e?(t.args.unshift(t.file),t.command=e,$L(t)):t.file}function K5(t){if(!q5)return t;let e=X5(t),r=!V5.test(e);if(t.options.forceShell||r){let n=G5.test(e);t.command=j5.normalize(t.command),t.command=TL.command(t.command),t.args=t.args.map(o=>TL.argument(o,n));let i=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${i}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function z5(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let n={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?n:K5(n)}ML.exports=z5});var NL=y((Epe,OL)=>{"use strict";var tv=process.platform==="win32";function rv(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function J5(t,e){if(!tv)return;let r=t.emit;t.emit=function(n,i){if(n==="exit"){let o=kL(i,e,"spawn");if(o)return r.call(t,"error",o)}return r.apply(t,arguments)}}function kL(t,e){return tv&&t===1&&!e.file?rv(e.original,"spawn"):null}function Y5(t,e){return tv&&t===1&&!e.file?rv(e.original,"spawnSync"):null}OL.exports={hookChildProcess:J5,verifyENOENT:kL,verifyENOENTSync:Y5,notFoundError:rv}});var UL=y((Ppe,du)=>{"use strict";var BL=v("child_process"),nv=RL(),iv=NL();function FL(t,e,r){let n=nv(t,e,r),i=BL.spawn(n.command,n.args,n.options);return iv.hookChildProcess(i,n),i}function Q5(t,e,r){let n=nv(t,e,r),i=BL.spawnSync(n.command,n.args,n.options);return i.error=i.error||iv.verifyENOENTSync(i.status,n),i}du.exports=FL;du.exports.spawn=FL;du.exports.sync=Q5;du.exports._parse=nv;du.exports._enoent=iv});var WL=y((Lpe,jL)=>{"use strict";jL.exports=t=>{let e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var VL=y((xpe,ov)=>{"use strict";var qL=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};ov.exports=qL;ov.exports.default=qL});var KL=y((Cpe,Bl)=>{"use strict";var Nl=v("path"),GL=VL(),XL=t=>{t={cwd:process.cwd(),path:process.env[GL()],execPath:process.execPath,...t};let e,r=Nl.resolve(t.cwd),n=[];for(;e!==r;)n.push(Nl.join(r,"node_modules/.bin")),e=r,r=Nl.resolve(r,"..");let i=Nl.resolve(t.cwd,t.execPath,"..");return n.push(i),n.concat(t.path).join(Nl.delimiter)};Bl.exports=XL;Bl.exports.default=XL;Bl.exports.env=t=>{t={env:process.env,...t};let e={...t.env},r=GL({env:e});return t.path=e[r],e[r]=Bl.exports(t),e}});var JL=y((Dpe,sv)=>{"use strict";var zL=(t,e)=>{for(let r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};sv.exports=zL;sv.exports.default=zL});var QL=y(($pe,ih)=>{"use strict";var Z5=JL(),nh=new WeakMap,YL=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0,i=t.displayName||t.name||"<anonymous>",o=function(...s){if(nh.set(o,++n),n===1)r=t.apply(this,s),t=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return Z5(o,t),nh.set(o,n),o};ih.exports=YL;ih.exports.default=YL;ih.exports.callCount=t=>{if(!nh.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return nh.get(t)}});var ZL=y(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.SIGNALS=void 0;var e9=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];oh.SIGNALS=e9});var av=y(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.SIGRTMAX=hu.getRealtimeSignals=void 0;var t9=function(){let t=tx-ex+1;return Array.from({length:t},r9)};hu.getRealtimeSignals=t9;var r9=function(t,e){return{name:`SIGRT${e+1}`,number:ex+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},ex=34,tx=64;hu.SIGRTMAX=tx});var rx=y(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.getSignals=void 0;var n9=v("os"),i9=ZL(),o9=av(),s9=function(){let t=(0,o9.getRealtimeSignals)();return[...i9.SIGNALS,...t].map(a9)};sh.getSignals=s9;var a9=function({name:t,number:e,description:r,action:n,forced:i=!1,standard:o}){let{signals:{[t]:s}}=n9.constants,a=s!==void 0;return{name:t,number:a?s:e,description:r,supported:a,action:n,forced:i,standard:o}}});var ix=y(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.signalsByNumber=mu.signalsByName=void 0;var u9=v("os"),nx=rx(),c9=av(),l9=function(){return(0,nx.getSignals)().reduce(p9,{})},p9=function(t,{name:e,number:r,description:n,supported:i,action:o,forced:s,standard:a}){return{...t,[e]:{name:e,number:r,description:n,supported:i,action:o,forced:s,standard:a}}},f9=l9();mu.signalsByName=f9;var d9=function(){let t=(0,nx.getSignals)(),e=c9.SIGRTMAX+1,r=Array.from({length:e},(n,i)=>h9(i,t));return Object.assign({},...r)},h9=function(t,e){let r=m9(t,e);if(r===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:u}=r;return{[t]:{name:n,number:t,description:i,supported:o,action:s,forced:a,standard:u}}},m9=function(t,e){let r=e.find(({name:n})=>u9.constants.signals[n]===t);return r!==void 0?r:e.find(n=>n.number===t)},H9=d9();mu.signalsByNumber=H9});var sx=y((Ope,ox)=>{"use strict";var{signalsByName:g9}=ix(),y9=({timedOut:t,timeout:e,errorCode:r,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>t?`timed out after ${e} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",b9=({stdout:t,stderr:e,all:r,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:u,isCanceled:c,killed:l,parsed:{options:{timeout:p}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let f=i===void 0?void 0:g9[i].description,m=n&&n.code,g=`Command ${y9({timedOut:u,timeout:p,errorCode:m,signal:i,signalDescription:f,exitCode:o,isCanceled:c})}: ${s}`,b=Object.prototype.toString.call(n)==="[object Error]",A=b?`${g}
${n.message}`:g,D=[A,e,t].filter(Boolean).join(`
`);return b?(n.originalMessage=n.message,n.message=D):n=new Error(D),n.shortMessage=A,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=f,n.stdout=t,n.stderr=e,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!u,n.isCanceled=c,n.killed=l&&!u,n};ox.exports=b9});var ux=y((Npe,uv)=>{"use strict";var ah=["stdin","stdout","stderr"],v9=t=>ah.some(e=>t[e]!==void 0),ax=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return ah.map(n=>t[n]);if(v9(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ah.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,ah.length);return Array.from({length:r},(n,i)=>e[i])};uv.exports=ax;uv.exports.node=t=>{let e=ax(t);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var cx=y((Bpe,uh)=>{uh.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&uh.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&uh.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var fx=y((Fpe,jl)=>{var _9=v("assert"),Fl=cx(),w9=/^win/i.test(process.platform),ch=v("events");typeof ch!="function"&&(ch=ch.EventEmitter);var Vt;process.__signal_exit_emitter__?Vt=process.__signal_exit_emitter__:(Vt=process.__signal_exit_emitter__=new ch,Vt.count=0,Vt.emitted={});Vt.infinite||(Vt.setMaxListeners(1/0),Vt.infinite=!0);jl.exports=function(t,e){_9.equal(typeof t,"function","a callback must be provided for exit handler"),Ul===!1&&lx();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){Vt.removeListener(r,t),Vt.listeners("exit").length===0&&Vt.listeners("afterexit").length===0&&lv()};return Vt.on(r,t),n};jl.exports.unload=lv;function lv(){Ul&&(Ul=!1,Fl.forEach(function(t){try{process.removeListener(t,pv[t])}catch{}}),process.emit=cv,process.reallyExit=px,Vt.count-=1)}function Hu(t,e,r){Vt.emitted[t]||(Vt.emitted[t]=!0,Vt.emit(t,e,r))}var pv={};Fl.forEach(function(t){pv[t]=function(){var r=process.listeners(t);r.length===Vt.count&&(lv(),Hu("exit",null,t),Hu("afterexit",null,t),w9&&t==="SIGHUP"&&(t="SIGINT"),process.kill(process.pid,t))}});jl.exports.signals=function(){return Fl};jl.exports.load=lx;var Ul=!1;function lx(){Ul||(Ul=!0,Vt.count+=1,Fl=Fl.filter(function(t){try{return process.on(t,pv[t]),!0}catch{return!1}}),process.emit=A9,process.reallyExit=I9)}var px=process.reallyExit;function I9(t){process.exitCode=t||0,Hu("exit",process.exitCode,null),Hu("afterexit",process.exitCode,null),px.call(process,process.exitCode)}var cv=process.emit;function A9(t,e){if(t==="exit"){e!==void 0&&(process.exitCode=e);var r=cv.apply(this,arguments);return Hu("exit",process.exitCode,null),Hu("afterexit",process.exitCode,null),r}else return cv.apply(this,arguments)}});var hx=y((Upe,dx)=>{"use strict";var S9=v("os"),E9=fx(),P9=1e3*5,L9=(t,e="SIGTERM",r={})=>{let n=t(e);return x9(t,e,r,n),n},x9=(t,e,r,n)=>{if(!C9(e,r,n))return;let i=$9(r),o=setTimeout(()=>{t("SIGKILL")},i);o.unref&&o.unref()},C9=(t,{forceKillAfterTimeout:e},r)=>D9(t)&&e!==!1&&r,D9=t=>t===S9.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",$9=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return P9;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},T9=(t,e)=>{t.kill()&&(e.isCanceled=!0)},M9=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},R9=(t,{timeout:e,killSignal:r="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,o=new Promise((a,u)=>{i=setTimeout(()=>{M9(t,r,u)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},k9=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},O9=async(t,{cleanup:e,detached:r},n)=>{if(!e||r)return n;let i=E9(()=>{t.kill()});return n.finally(()=>{i()})};dx.exports={spawnedKill:L9,spawnedCancel:T9,setupTimeout:R9,validateTimeout:k9,setExitHandler:O9}});var Hx=y((jpe,mx)=>{"use strict";var ai=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";ai.writable=t=>ai(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";ai.readable=t=>ai(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";ai.duplex=t=>ai.writable(t)&&ai.readable(t);ai.transform=t=>ai.duplex(t)&&typeof t._transform=="function"&&typeof t._transformState=="object";mx.exports=ai});var yx=y((Wpe,gx)=>{"use strict";var{PassThrough:N9}=v("stream");gx.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new N9({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",u=>{a.push(u),i?s=a.length:s+=u.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var bx=y((qpe,Wl)=>{"use strict";var{constants:B9}=v("buffer"),F9=v("stream"),{promisify:U9}=v("util"),j9=yx(),W9=U9(F9.pipeline),lh=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function fv(t,e){if(!t)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n=j9(e);return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=B9.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await W9(t,n),i()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new lh)})}),n.getBufferedValue()}Wl.exports=fv;Wl.exports.buffer=(t,e)=>fv(t,{...e,encoding:"buffer"});Wl.exports.array=(t,e)=>fv(t,{...e,array:!0});Wl.exports.MaxBufferError=lh});var _x=y((Vpe,vx)=>{"use strict";var{PassThrough:q9}=v("stream");vx.exports=function(){var t=[],e=new q9({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),e;function r(o){return Array.isArray(o)?(o.forEach(r),this):(t.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return t.length==0}function i(o){t=t.filter(function(s){return s!==o}),!t.length&&e.readable&&e.end()}}});var Sx=y((Gpe,Ax)=>{"use strict";var Ix=Hx(),wx=bx(),V9=_x(),G9=(t,e)=>{e===void 0||t.stdin===void 0||(Ix(e)?e.pipe(t.stdin):t.stdin.end(e))},X9=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=V9();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},dv=async(t,e)=>{if(t){t.destroy();try{return await e}catch(r){return r.bufferedData}}},hv=(t,{encoding:e,buffer:r,maxBuffer:n})=>{if(!(!t||!r))return e?wx(t,{encoding:e,maxBuffer:n}):wx.buffer(t,{maxBuffer:n})},K9=async({stdout:t,stderr:e,all:r},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=hv(t,{encoding:n,buffer:i,maxBuffer:o}),u=hv(e,{encoding:n,buffer:i,maxBuffer:o}),c=hv(r,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,u,c])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},dv(t,a),dv(e,u),dv(r,c)])}},z9=({input:t})=>{if(Ix(t))throw new TypeError("The `input` option cannot be a stream in sync mode")};Ax.exports={handleInput:G9,makeAllStream:X9,getSpawnedResult:K9,validateInputSync:z9}});var Px=y((Xpe,Ex)=>{"use strict";var J9=(async()=>{})().constructor.prototype,Y9=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(J9,t)]),Q9=(t,e)=>{for(let[r,n]of Y9){let i=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(t,r,{...n,value:i})}return t},Z9=t=>new Promise((e,r)=>{t.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),t.on("error",n=>{r(n)}),t.stdin&&t.stdin.on("error",n=>{r(n)})});Ex.exports={mergePromise:Q9,getSpawnedPromise:Z9}});var Cx=y((Kpe,xx)=>{"use strict";var Lx=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],eX=/^[\w.-]+$/,tX=/"/g,rX=t=>typeof t!="string"||eX.test(t)?t:`"${t.replace(tX,'\\"')}"`,nX=(t,e)=>Lx(t,e).join(" "),iX=(t,e)=>Lx(t,e).map(r=>rX(r)).join(" "),oX=/ +/g,sX=t=>{let e=[];for(let r of t.trim().split(oX)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${r}`:e.push(r)}return e};xx.exports={joinCommand:nX,getEscapedCommand:iX,parseCommand:sX}});var Hv=y((zpe,gu)=>{"use strict";var aX=v("path"),mv=v("child_process"),uX=UL(),cX=WL(),lX=KL(),pX=QL(),ph=sx(),$x=ux(),{spawnedKill:fX,spawnedCancel:dX,setupTimeout:hX,validateTimeout:mX,setExitHandler:HX}=hx(),{handleInput:gX,getSpawnedResult:yX,makeAllStream:bX,validateInputSync:vX}=Sx(),{mergePromise:Dx,getSpawnedPromise:_X}=Px(),{joinCommand:Tx,parseCommand:Mx,getEscapedCommand:Rx}=Cx(),wX=1e3*1e3*100,IX=({env:t,extendEnv:e,preferLocal:r,localDir:n,execPath:i})=>{let o=e?{...process.env,...t}:t;return r?lX.env({env:o,cwd:n,execPath:i}):o},kx=(t,e,r={})=>{let n=uX._parse(t,e,r);return t=n.command,e=n.args,r=n.options,r={maxBuffer:wX,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...r},r.env=IX(r),r.stdio=$x(r),process.platform==="win32"&&aX.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:n}},ql=(t,e,r)=>typeof e!="string"&&!Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?cX(e):e,fh=(t,e,r)=>{let n=kx(t,e,r),i=Tx(t,e),o=Rx(t,e);mX(n.options);let s;try{s=mv.spawn(n.file,n.args,n.options)}catch(m){let h=new mv.ChildProcess,g=Promise.reject(ph({error:m,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Dx(h,g)}let a=_X(s),u=hX(s,n.options,a),c=HX(s,n.options,u),l={isCanceled:!1};s.kill=fX.bind(null,s.kill.bind(s)),s.cancel=dX.bind(null,s,l);let f=pX(async()=>{let[{error:m,exitCode:h,signal:g,timedOut:b},A,D,U]=await yX(s,n.options,c),$=ql(n.options,A),W=ql(n.options,D),z=ql(n.options,U);if(m||h!==0||g!==null){let X=ph({error:m,exitCode:h,signal:g,stdout:$,stderr:W,all:z,command:i,escapedCommand:o,parsed:n,timedOut:b,isCanceled:l.isCanceled,killed:s.killed});if(!n.options.reject)return X;throw X}return{command:i,escapedCommand:o,exitCode:0,stdout:$,stderr:W,all:z,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return gX(s,n.options.input),s.all=bX(s,n.options),Dx(s,f)};gu.exports=fh;gu.exports.sync=(t,e,r)=>{let n=kx(t,e,r),i=Tx(t,e),o=Rx(t,e);vX(n.options);let s;try{s=mv.spawnSync(n.file,n.args,n.options)}catch(c){throw ph({error:c,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=ql(n.options,s.stdout,s.error),u=ql(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let c=ph({stdout:a,stderr:u,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return c;throw c}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:u,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};gu.exports.command=(t,e)=>{let[r,...n]=Mx(t);return fh(r,n,e)};gu.exports.commandSync=(t,e)=>{let[r,...n]=Mx(t);return fh.sync(r,n,e)};gu.exports.node=(t,e,r={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(r=e,e=[]);let n=$x.node(r),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=r;return fh(o,[...s,t,...Array.isArray(e)?e:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var iC=y(nC=>{var rC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");nC.encode=function(t){if(0<=t&&t<rC.length)return rC[t];throw new TypeError("Must be between 0 and 63: "+t)}});var wv=y(aC=>{var MX=iC(),oC=5,sC=1<<oC,RX=sC-1,kX=sC;function OX(t){return t<0?(-t<<1)+1:(t<<1)+0}aC.encode=function(e){let r="",n,i=OX(e);do n=i&RX,i>>>=oC,i>0&&(n|=kX),r+=MX.encode(n);while(i>0);return r}});var cC=y((ofe,uC)=>{"use strict";uC.exports=typeof URL=="function"?URL:v("url").URL});var zl=y(ui=>{var Do=cC();function NX(t,e,r){if(e in t)return t[e];if(arguments.length===3)return r;throw new Error('"'+e+'" is a required argument.')}ui.getArg=NX;var pC=function(){return!("__proto__"in Object.create(null))}();function fC(t){return t}function BX(t){return dC(t)?"$"+t:t}ui.toSetString=pC?fC:BX;function FX(t){return dC(t)?t.slice(1):t}ui.fromSetString=pC?fC:FX;function dC(t){if(!t)return!1;let e=t.length;if(e<9||t.charCodeAt(e-1)!==95||t.charCodeAt(e-2)!==95||t.charCodeAt(e-3)!==111||t.charCodeAt(e-4)!==116||t.charCodeAt(e-5)!==111||t.charCodeAt(e-6)!==114||t.charCodeAt(e-7)!==112||t.charCodeAt(e-8)!==95||t.charCodeAt(e-9)!==95)return!1;for(let r=e-10;r>=0;r--)if(t.charCodeAt(r)!==36)return!1;return!0}function lC(t,e){return t===e?0:t===null?1:e===null?-1:t>e?1:-1}function UX(t,e){let r=t.generatedLine-e.generatedLine;return r!==0||(r=t.generatedColumn-e.generatedColumn,r!==0)||(r=lC(t.source,e.source),r!==0)||(r=t.originalLine-e.originalLine,r!==0)||(r=t.originalColumn-e.originalColumn,r!==0)?r:lC(t.name,e.name)}ui.compareByGeneratedPositionsInflated=UX;function jX(t){return JSON.parse(t.replace(/^\)]}'[^\n]*\n/,""))}ui.parseSourceMapInput=jX;var Av="http:",Xl=`${Av}//host`;function Sv(t){return e=>{let r=bu(e),n=Ev(e),i=new Do(e,n);t(i);let o=i.toString();return r==="absolute"?o:r==="scheme-relative"?o.slice(Av.length):r==="path-absolute"?o.slice(Xl.length):Pv(n,o)}}function Co(t,e){return new Do(t,e).toString()}function WX(t,e){let r=0;do{let n=t+r++;if(e.indexOf(n)===-1)return n}while(!0)}function Ev(t){let e=t.split("..").length-1,r=WX("p",t),n=`${Xl}/`;for(let i=0;i<e;i++)n+=`${r}/`;return n}var qX=/^[A-Za-z0-9\+\-\.]+:/;function bu(t){return t[0]==="/"?t[1]==="/"?"scheme-relative":"path-absolute":qX.test(t)?"absolute":"path-relative"}function Pv(t,e){typeof t=="string"&&(t=new Do(t)),typeof e=="string"&&(e=new Do(e));let r=e.pathname.split("/"),n=t.pathname.split("/");for(n.length>0&&!n[n.length-1]&&n.pop();r.length>0&&n.length>0&&r[0]===n[0];)r.shift(),n.shift();return n.map(()=>"..").concat(r).join("/")+e.search+e.hash}var VX=Sv(t=>{t.pathname=t.pathname.replace(/\/?$/,"/")}),GX=Sv(t=>{t.href=new Do(".",t.toString()).toString()}),Kl=Sv(t=>{});ui.normalize=Kl;function Iv(t,e){let r=bu(e),n=bu(t);if(t=VX(t),r==="absolute")return Co(e,void 0);if(n==="absolute")return Co(e,t);if(r==="scheme-relative")return Kl(e);if(n==="scheme-relative")return Co(e,Co(t,Xl)).slice(Av.length);if(r==="path-absolute")return Kl(e);if(n==="path-absolute")return Co(e,Co(t,Xl)).slice(Xl.length);let i=Ev(e+t),o=Co(e,Co(t,i));return Pv(i,o)}ui.join=Iv;function XX(t,e){let r=KX(t,e);return typeof r=="string"?r:Kl(e)}ui.relative=XX;function KX(t,e){if(bu(t)!==bu(e))return null;let n=Ev(t+e),i=new Do(t,n),o=new Do(e,n);try{new Do("",o.toString())}catch{return null}return o.protocol!==i.protocol||o.user!==i.user||o.password!==i.password||o.hostname!==i.hostname||o.port!==i.port?null:Pv(i,o)}function zX(t,e,r){t&&bu(e)==="path-absolute"&&(e=e.replace(/^\//,""));let n=Kl(e||"");return t&&(n=Iv(t,n)),r&&(n=Iv(GX(r),n)),n}ui.computeSourceURL=zX});var xv=y(hC=>{var Lv=class t{constructor(){this._array=[],this._set=new Map}static fromArray(e,r){let n=new t;for(let i=0,o=e.length;i<o;i++)n.add(e[i],r);return n}size(){return this._set.size}add(e,r){let n=this.has(e),i=this._array.length;(!n||r)&&this._array.push(e),n||this._set.set(e,i)}has(e){return this._set.has(e)}indexOf(e){let r=this._set.get(e);if(r>=0)return r;throw new Error('"'+e+'" is not in the set.')}at(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)}toArray(){return this._array.slice()}};hC.ArraySet=Lv});var gC=y(HC=>{var mC=zl();function JX(t,e){let r=t.generatedLine,n=e.generatedLine,i=t.generatedColumn,o=e.generatedColumn;return n>r||n==r&&o>=i||mC.compareByGeneratedPositionsInflated(t,e)<=0}var Cv=class{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(e,r){this._array.forEach(e,r)}add(e){JX(this._last,e)?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))}toArray(){return this._sorted||(this._array.sort(mC.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}};HC.MappingList=Cv});var Dv=y(yC=>{var Jl=wv(),vt=zl(),gh=xv().ArraySet,YX=gC().MappingList,yh=class t{constructor(e){e||(e={}),this._file=vt.getArg(e,"file",null),this._sourceRoot=vt.getArg(e,"sourceRoot",null),this._skipValidation=vt.getArg(e,"skipValidation",!1),this._sources=new gh,this._names=new gh,this._mappings=new YX,this._sourcesContents=null}static fromSourceMap(e){let r=e.sourceRoot,n=new t({file:e.file,sourceRoot:r});return e.eachMapping(function(i){let o={generated:{line:i.generatedLine,column:i.generatedColumn}};i.source!=null&&(o.source=i.source,r!=null&&(o.source=vt.relative(r,o.source)),o.original={line:i.originalLine,column:i.originalColumn},i.name!=null&&(o.name=i.name)),n.addMapping(o)}),e.sources.forEach(function(i){let o=i;r!==null&&(o=vt.relative(r,i)),n._sources.has(o)||n._sources.add(o);let s=e.sourceContentFor(i);s!=null&&n.setSourceContent(i,s)}),n}addMapping(e){let r=vt.getArg(e,"generated"),n=vt.getArg(e,"original",null),i=vt.getArg(e,"source",null),o=vt.getArg(e,"name",null);this._skipValidation||this._validateMapping(r,n,i,o),i!=null&&(i=String(i),this._sources.has(i)||this._sources.add(i)),o!=null&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:r.line,generatedColumn:r.column,originalLine:n!=null&&n.line,originalColumn:n!=null&&n.column,source:i,name:o})}setSourceContent(e,r){let n=e;this._sourceRoot!=null&&(n=vt.relative(this._sourceRoot,n)),r!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[vt.toSetString(n)]=r):this._sourcesContents&&(delete this._sourcesContents[vt.toSetString(n)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(e,r,n){let i=r;if(r==null){if(e.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);i=e.file}let o=this._sourceRoot;o!=null&&(i=vt.relative(o,i));let s=this._mappings.toArray().length>0?new gh:this._sources,a=new gh;this._mappings.unsortedForEach(function(u){if(u.source===i&&u.originalLine!=null){let p=e.originalPositionFor({line:u.originalLine,column:u.originalColumn});p.source!=null&&(u.source=p.source,n!=null&&(u.source=vt.join(n,u.source)),o!=null&&(u.source=vt.relative(o,u.source)),u.originalLine=p.line,u.originalColumn=p.column,p.name!=null&&(u.name=p.name))}let c=u.source;c!=null&&!s.has(c)&&s.add(c);let l=u.name;l!=null&&!a.has(l)&&a.add(l)},this),this._sources=s,this._names=a,e.sources.forEach(function(u){let c=e.sourceContentFor(u);c!=null&&(n!=null&&(u=vt.join(n,u)),o!=null&&(u=vt.relative(o,u)),this.setSourceContent(u,c))},this)}_validateMapping(e,r,n,i){if(r&&typeof r.line!="number"&&typeof r.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0&&!r&&!n&&!i)){if(!(e&&"line"in e&&"column"in e&&r&&"line"in r&&"column"in r&&e.line>0&&e.column>=0&&r.line>0&&r.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:r,name:i}))}}_serializeMappings(){let e=0,r=1,n=0,i=0,o=0,s=0,a="",u,c,l,p,f=this._mappings.toArray();for(let m=0,h=f.length;m<h;m++){if(c=f[m],u="",c.generatedLine!==r)for(e=0;c.generatedLine!==r;)u+=";",r++;else if(m>0){if(!vt.compareByGeneratedPositionsInflated(c,f[m-1]))continue;u+=","}u+=Jl.encode(c.generatedColumn-e),e=c.generatedColumn,c.source!=null&&(p=this._sources.indexOf(c.source),u+=Jl.encode(p-s),s=p,u+=Jl.encode(c.originalLine-1-i),i=c.originalLine-1,u+=Jl.encode(c.originalColumn-n),n=c.originalColumn,c.name!=null&&(l=this._names.indexOf(c.name),u+=Jl.encode(l-o),o=l)),a+=u}return a}_generateSourcesContent(e,r){return e.map(function(n){if(!this._sourcesContents)return null;r!=null&&(n=vt.relative(r,n));let i=vt.toSetString(n);return Object.prototype.hasOwnProperty.call(this._sourcesContents,i)?this._sourcesContents[i]:null},this)}toJSON(){let e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(e.file=this._file),this._sourceRoot!=null&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e}toString(){return JSON.stringify(this.toJSON())}};yh.prototype._version=3;yC.SourceMapGenerator=yh});var bC=y(qs=>{qs.GREATEST_LOWER_BOUND=1;qs.LEAST_UPPER_BOUND=2;function $v(t,e,r,n,i,o){let s=Math.floor((e-t)/2)+t,a=i(r,n[s],!0);return a===0?s:a>0?e-s>1?$v(s,e,r,n,i,o):o==qs.LEAST_UPPER_BOUND?e<n.length?e:-1:s:s-t>1?$v(t,s,r,n,i,o):o==qs.LEAST_UPPER_BOUND?s:t<0?-1:t}qs.search=function(e,r,n,i){if(r.length===0)return-1;let o=$v(-1,r.length,e,r,n,i||qs.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&n(r[o],r[o-1],!0)===0;)--o;return o}});var Mv=y((pfe,Tv)=>{"use strict";var QX=v("fs"),ZX=v("path");Tv.exports=function(){return new Promise((e,r)=>{let n=ZX.join(__dirname,"mappings.wasm");QX.readFile(n,null,(i,o)=>{if(i){r(i);return}e(o.buffer)})})};Tv.exports.initialize=t=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var _C=y((ffe,vC)=>{var eK=Mv();function tK(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var Yl=null;vC.exports=function(){if(Yl)return Yl;let e=[];return Yl=eK().then(r=>WebAssembly.instantiate(r,{env:{mapping_callback(n,i,o,s,a,u,c,l,p,f){let m=new tK;m.generatedLine=n+1,m.generatedColumn=i,o&&(m.lastGeneratedColumn=s-1),a&&(m.source=u,m.originalLine=c+1,m.originalColumn=l,p&&(m.name=f)),e[e.length-1](m)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(r=>({exports:r.instance.exports,withMappingCallback:(n,i)=>{e.push(n);try{i()}finally{e.pop()}}})).then(null,r=>{throw Yl=null,r}),Yl}});var wC=y(vh=>{var ve=zl(),rK=bC(),Rv=xv().ArraySet,dfe=wv(),nK=Mv(),iK=_C(),kv=Symbol("smcInternal"),Et=class t{constructor(e,r){return e==kv?Promise.resolve(this):oK(e,r)}static initialize(e){nK.initialize(e["lib/mappings.wasm"])}static fromSourceMap(e,r){return sK(e,r)}static async with(e,r,n){let i=await new t(e,r);try{return await n(i)}finally{i.destroy()}}eachMapping(e,r,n){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(e){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}};Et.prototype._version=3;Et.GENERATED_ORDER=1;Et.ORIGINAL_ORDER=2;Et.GREATEST_LOWER_BOUND=1;Et.LEAST_UPPER_BOUND=2;vh.SourceMapConsumer=Et;var vu=class t extends Et{constructor(e,r){return super(kv).then(n=>{let i=e;typeof e=="string"&&(i=ve.parseSourceMapInput(e));let o=ve.getArg(i,"version"),s=ve.getArg(i,"sources").map(String),a=ve.getArg(i,"names",[]),u=ve.getArg(i,"sourceRoot",null),c=ve.getArg(i,"sourcesContent",null),l=ve.getArg(i,"mappings"),p=ve.getArg(i,"file",null);if(o!=n._version)throw new Error("Unsupported version: "+o);return n._sourceLookupCache=new Map,n._names=Rv.fromArray(a.map(String),!0),n._sources=Rv.fromArray(s,!0),n._absoluteSources=Rv.fromArray(n._sources.toArray().map(function(f){return ve.computeSourceURL(u,f,r)}),!0),n.sourceRoot=u,n.sourcesContent=c,n._mappings=l,n._sourceMapURL=r,n.file=p,n._computedColumnSpans=!1,n._mappingsPtr=0,n._wasm=null,iK().then(f=>(n._wasm=f,n))})}_findSourceIndex(e){let r=this._sourceLookupCache.get(e);if(typeof r=="number")return r;let n=ve.computeSourceURL(null,e,this._sourceMapURL);if(this._absoluteSources.has(n)){let o=this._absoluteSources.indexOf(n);return this._sourceLookupCache.set(e,o),o}let i=ve.computeSourceURL(this.sourceRoot,e,this._sourceMapURL);if(this._absoluteSources.has(i)){let o=this._absoluteSources.indexOf(i);return this._sourceLookupCache.set(e,o),o}return-1}static fromSourceMap(e,r){return new t(e.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){let e=this._mappings,r=e.length,n=this._wasm.exports.allocate_mappings(r),i=new Uint8Array(this._wasm.exports.memory.buffer,n,r);for(let s=0;s<r;s++)i[s]=e.charCodeAt(s);let o=this._wasm.exports.parse_mappings(n);if(!o){let s=this._wasm.exports.get_last_error(),a=`Error parsing mappings (code ${s}): `;switch(s){case 1:a+="the mappings contained a negative line, column, source index, or name index";break;case 2:a+="the mappings contained a number larger than 2**32";break;case 3:a+="reached EOF while in the middle of parsing a VLQ";break;case 4:a+="invalid base 64 character while parsing a VLQ";break;default:a+="unknown error code";break}throw new Error(a)}this._mappingsPtr=o}eachMapping(e,r,n){let i=r||null,o=n||Et.GENERATED_ORDER;this._wasm.withMappingCallback(s=>{s.source!==null&&(s.source=this._absoluteSources.at(s.source),s.name!==null&&(s.name=this._names.at(s.name))),this._computedColumnSpans&&s.lastGeneratedColumn===null&&(s.lastGeneratedColumn=1/0),e.call(i,s)},()=>{switch(o){case Et.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case Et.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(e){let r=ve.getArg(e,"source"),n=ve.getArg(e,"line"),i=e.column||0;if(r=this._findSourceIndex(r),r<0)return[];if(n<1)throw new Error("Line numbers must be >= 1");if(i<0)throw new Error("Column numbers must be >= 0");let o=[];return this._wasm.withMappingCallback(s=>{let a=s.lastGeneratedColumn;this._computedColumnSpans&&a===null&&(a=1/0),o.push({line:s.generatedLine,column:s.generatedColumn,lastColumn:a})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),r,n-1,"column"in e,i)}),o}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(e){let r={generatedLine:ve.getArg(e,"line"),generatedColumn:ve.getArg(e,"column")};if(r.generatedLine<1)throw new Error("Line numbers must be >= 1");if(r.generatedColumn<0)throw new Error("Column numbers must be >= 0");let n=ve.getArg(e,"bias",Et.GREATEST_LOWER_BOUND);n==null&&(n=Et.GREATEST_LOWER_BOUND);let i;if(this._wasm.withMappingCallback(o=>i=o,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),r.generatedLine-1,r.generatedColumn,n)}),i&&i.generatedLine===r.generatedLine){let o=ve.getArg(i,"source",null);o!==null&&(o=this._absoluteSources.at(o));let s=ve.getArg(i,"name",null);return s!==null&&(s=this._names.at(s)),{source:o,line:ve.getArg(i,"originalLine",null),column:ve.getArg(i,"originalColumn",null),name:s}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return e==null}):!1}sourceContentFor(e,r){if(!this.sourcesContent)return null;let n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}generatedPositionFor(e){let r=ve.getArg(e,"source");if(r=this._findSourceIndex(r),r<0)return{line:null,column:null,lastColumn:null};let n={source:r,originalLine:ve.getArg(e,"line"),originalColumn:ve.getArg(e,"column")};if(n.originalLine<1)throw new Error("Line numbers must be >= 1");if(n.originalColumn<0)throw new Error("Column numbers must be >= 0");let i=ve.getArg(e,"bias",Et.GREATEST_LOWER_BOUND);i==null&&(i=Et.GREATEST_LOWER_BOUND);let o;if(this._wasm.withMappingCallback(s=>o=s,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),n.source,n.originalLine-1,n.originalColumn,i)}),o&&o.source===n.source){let s=o.lastGeneratedColumn;return this._computedColumnSpans&&s===null&&(s=1/0),{line:ve.getArg(o,"generatedLine",null),column:ve.getArg(o,"generatedColumn",null),lastColumn:s}}return{line:null,column:null,lastColumn:null}}};vu.prototype.consumer=Et;vh.BasicSourceMapConsumer=vu;var bh=class extends Et{constructor(e,r){return super(kv).then(n=>{let i=e;typeof e=="string"&&(i=ve.parseSourceMapInput(e));let o=ve.getArg(i,"version"),s=ve.getArg(i,"sections");if(o!=n._version)throw new Error("Unsupported version: "+o);let a={line:-1,column:0};return Promise.all(s.map(u=>{if(u.url)throw new Error("Support for url field in sections not implemented.");let c=ve.getArg(u,"offset"),l=ve.getArg(c,"line"),p=ve.getArg(c,"column");if(l<a.line||l===a.line&&p<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=c,new Et(ve.getArg(u,"map"),r).then(m=>({generatedOffset:{generatedLine:l+1,generatedColumn:p+1},consumer:m}))})).then(u=>(n._sections=u,n))})}get sources(){let e=[];for(let r=0;r<this._sections.length;r++)for(let n=0;n<this._sections[r].consumer.sources.length;n++)e.push(this._sections[r].consumer.sources[n]);return e}originalPositionFor(e){let r={generatedLine:ve.getArg(e,"line"),generatedColumn:ve.getArg(e,"column")},n=rK.search(r,this._sections,function(o,s){let a=o.generatedLine-s.generatedOffset.generatedLine;return a||o.generatedColumn-s.generatedOffset.generatedColumn}),i=this._sections[n];return i?i.consumer.originalPositionFor({line:r.generatedLine-(i.generatedOffset.generatedLine-1),column:r.generatedColumn-(i.generatedOffset.generatedLine===r.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})}sourceContentFor(e,r){for(let n=0;n<this._sections.length;n++){let o=this._sections[n].consumer.sourceContentFor(e,!0);if(o)return o}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')}_findSectionIndex(e){for(let r=0;r<this._sections.length;r++){let{consumer:n}=this._sections[r];if(n._findSourceIndex(e)!==-1)return r}return-1}generatedPositionFor(e){let r=this._findSectionIndex(ve.getArg(e,"source")),n=r>=0?this._sections[r]:null,i=r>=0&&r+1<this._sections.length?this._sections[r+1]:null,o=n&&n.consumer.generatedPositionFor(e);if(o&&o.line!==null){let s=n.generatedOffset.generatedLine-1,a=n.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=a,typeof o.lastColumn=="number"&&(o.lastColumn+=a)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(e){let r=this._findSectionIndex(ve.getArg(e,"source")),n=r>=0?this._sections[r]:null,i=r>=0&&r+1<this._sections.length?this._sections[r+1]:null;return n?n.consumer.allGeneratedPositionsFor(e).map(o=>{let s=n.generatedOffset.generatedLine-1,a=n.generatedOffset.generatedColumn-1;return o.line===1&&(o.column+=a,typeof o.lastColumn=="number"&&(o.lastColumn+=a)),o.lastColumn===1/0&&i&&o.line===i.generatedOffset.generatedLine&&(o.lastColumn=i.generatedOffset.generatedColumn-2),o.line+=s,o}):[]}eachMapping(e,r,n){this._sections.forEach((i,o)=>{let s=o+1<this._sections.length?this._sections[o+1]:null,{generatedOffset:a}=i,u=a.generatedLine-1,c=a.generatedColumn-1;i.consumer.eachMapping(function(l){l.generatedLine===1&&(l.generatedColumn+=c,typeof l.lastGeneratedColumn=="number"&&(l.lastGeneratedColumn+=c)),l.lastGeneratedColumn===1/0&&s&&l.generatedLine===s.generatedOffset.generatedLine&&(l.lastGeneratedColumn=s.generatedOffset.generatedColumn-2),l.generatedLine+=u,e.call(this,l)},r,n)})}computeColumnSpans(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.computeColumnSpans()}destroy(){for(let e=0;e<this._sections.length;e++)this._sections[e].consumer.destroy()}};vh.IndexedSourceMapConsumer=bh;function oK(t,e){let r=t;typeof t=="string"&&(r=ve.parseSourceMapInput(t));let n=r.sections!=null?new bh(r,e):new vu(r,e);return Promise.resolve(n)}function sK(t,e){return vu.fromSourceMap(t,e)}});var AC=y(IC=>{var aK=Dv().SourceMapGenerator,_h=zl(),uK=/(\r?\n)/,cK=10,_u="$$$isSourceNode$$$",Ov=class t{constructor(e,r,n,i,o){this.children=[],this.sourceContents={},this.line=e??null,this.column=r??null,this.source=n??null,this.name=o??null,this[_u]=!0,i!=null&&this.add(i)}static fromStringWithSourceMap(e,r,n){let i=new t,o=e.split(uK),s=0,a=function(){let m=g(),h=g()||"";return m+h;function g(){return s<o.length?o[s++]:void 0}},u=1,c=0,l=null,p;return r.eachMapping(function(m){if(l!==null)if(u<m.generatedLine)f(l,a()),u++,c=0;else{p=o[s]||"";let h=p.substr(0,m.generatedColumn-c);o[s]=p.substr(m.generatedColumn-c),c=m.generatedColumn,f(l,h),l=m;return}for(;u<m.generatedLine;)i.add(a()),u++;c<m.generatedColumn&&(p=o[s]||"",i.add(p.substr(0,m.generatedColumn)),o[s]=p.substr(m.generatedColumn),c=m.generatedColumn),l=m},this),s<o.length&&(l&&f(l,a()),i.add(o.splice(s).join(""))),r.sources.forEach(function(m){let h=r.sourceContentFor(m);h!=null&&(n!=null&&(m=_h.join(n,m)),i.setSourceContent(m,h))}),i;function f(m,h){if(m===null||m.source===void 0)i.add(h);else{let g=n?_h.join(n,m.source):m.source;i.add(new t(m.originalLine,m.originalColumn,g,h,m.name))}}}add(e){if(Array.isArray(e))e.forEach(function(r){this.add(r)},this);else if(e[_u]||typeof e=="string")e&&this.children.push(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}prepend(e){if(Array.isArray(e))for(let r=e.length-1;r>=0;r--)this.prepend(e[r]);else if(e[_u]||typeof e=="string")this.children.unshift(e);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this}walk(e){let r;for(let n=0,i=this.children.length;n<i;n++)r=this.children[n],r[_u]?r.walk(e):r!==""&&e(r,{source:this.source,line:this.line,column:this.column,name:this.name})}join(e){let r,n,i=this.children.length;if(i>0){for(r=[],n=0;n<i-1;n++)r.push(this.children[n]),r.push(e);r.push(this.children[n]),this.children=r}return this}replaceRight(e,r){let n=this.children[this.children.length-1];return n[_u]?n.replaceRight(e,r):typeof n=="string"?this.children[this.children.length-1]=n.replace(e,r):this.children.push("".replace(e,r)),this}setSourceContent(e,r){this.sourceContents[_h.toSetString(e)]=r}walkSourceContents(e){for(let n=0,i=this.children.length;n<i;n++)this.children[n][_u]&&this.children[n].walkSourceContents(e);let r=Object.keys(this.sourceContents);for(let n=0,i=r.length;n<i;n++)e(_h.fromSetString(r[n]),this.sourceContents[r[n]])}toString(){let e="";return this.walk(function(r){e+=r}),e}toStringWithSourceMap(e){let r={code:"",line:1,column:0},n=new aK(e),i=!1,o=null,s=null,a=null,u=null;return this.walk(function(c,l){r.code+=c,l.source!==null&&l.line!==null&&l.column!==null?((o!==l.source||s!==l.line||a!==l.column||u!==l.name)&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name}),o=l.source,s=l.line,a=l.column,u=l.name,i=!0):i&&(n.addMapping({generated:{line:r.line,column:r.column}}),o=null,i=!1);for(let p=0,f=c.length;p<f;p++)c.charCodeAt(p)===cK?(r.line++,r.column=0,p+1===f?(o=null,i=!1):i&&n.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:r.line,column:r.column},name:l.name})):r.column++}),this.walkSourceContents(function(c,l){n.setSourceContent(c,l)}),{code:r.code,map:n}}};IC.SourceNode=Ov});var Ih=y(wh=>{wh.SourceMapGenerator=Dv().SourceMapGenerator;wh.SourceMapConsumer=wC().SourceMapConsumer;wh.SourceNode=AC().SourceNode});var cm=y(sn=>{"use strict";sn.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;sn.find=(t,e)=>t.nodes.find(r=>r.type===e);sn.exceedsLimit=(t,e,r=1,n)=>n===!1||!sn.isInteger(t)||!sn.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;sn.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};sn.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);sn.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;sn.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;sn.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);sn.flatten=(...t)=>{let e=[],r=n=>{for(let i=0;i<n.length;i++){let o=n[i];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var lm=y((Xme,FD)=>{"use strict";var BD=cm();FD.exports=(t,e={})=>{let r=(n,i={})=>{let o=e.escapeInvalid&&BD.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||s)&&BD.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let u of n.nodes)a+=r(u);return a};return r(t)}});var jD=y((Kme,UD)=>{"use strict";UD.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var YD=y((zme,JD)=>{"use strict";var WD=jD(),sa=(t,e,r)=>{if(WD(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(WD(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),u=t+":"+e+"="+i+o+s+a;if(sa.cache.hasOwnProperty(u))return sa.cache[u].result;let c=Math.min(t,e),l=Math.max(t,e);if(Math.abs(c-l)===1){let g=t+"|"+e;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=zD(t)||zD(e),f={min:t,max:e,a:c,b:l},m=[],h=[];if(p&&(f.isPadded=p,f.maxLen=String(f.max).length),c<0){let g=l<0?Math.abs(l):1;h=qD(g,Math.abs(c),f,n),c=f.a=0}return l>=0&&(m=qD(c,l,f,n)),f.negatives=h,f.positives=m,f.result=n6(h,m,n),n.capture===!0?f.result=`(${f.result})`:n.wrap!==!1&&m.length+h.length>1&&(f.result=`(?:${f.result})`),sa.cache[u]=f,f.result};function n6(t,e,r){let n=u_(t,e,"-",!1,r)||[],i=u_(e,t,"",!1,r)||[],o=u_(t,e,"-?",!0,r)||[];return n.concat(o).concat(i).join("|")}function i6(t,e){let r=1,n=1,i=GD(t,r),o=new Set([e]);for(;t<=i&&i<=e;)o.add(i),r+=1,i=GD(t,r);for(i=XD(e+1,n)-1;t<i&&i<=e;)o.add(i),n+=1,i=XD(e+1,n)-1;return o=[...o],o.sort(a6),o}function o6(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=s6(t,e),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[u,c]=n[a];u===c?o+=u:u!=="0"||c!=="9"?o+=u6(u,c,r):s++}return s&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function qD(t,e,r,n){let i=i6(t,e),o=[],s=t,a;for(let u=0;u<i.length;u++){let c=i[u],l=o6(String(s),String(c),n),p="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+KD(a.count),s=c+1;continue}r.isPadded&&(p=c6(c,r,n)),l.string=p+l.pattern+KD(l.count),o.push(l),s=c+1,a=l}return o}function u_(t,e,r,n,i){let o=[];for(let s of t){let{string:a}=s;!n&&!VD(e,"string",a)&&o.push(r+a),n&&VD(e,"string",a)&&o.push(r+a)}return o}function s6(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function a6(t,e){return t>e?1:e>t?-1:0}function VD(t,e,r){return t.some(n=>n[e]===r)}function GD(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function XD(t,e){return t-t%Math.pow(10,e)}function KD(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function u6(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function zD(t){return/^-?(0+)\d/.test(t)}function c6(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}sa.cache={};sa.clearCache=()=>sa.cache={};JD.exports=sa});var p_=y((Jme,o$)=>{"use strict";var l6=v("util"),e$=YD(),QD=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),p6=t=>e=>t===!0?Number(e):String(e),c_=t=>typeof t=="number"||typeof t=="string"&&t!=="",Hp=t=>Number.isInteger(+t),l_=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},f6=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,d6=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},ZD=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},h6=(t,e)=>{t.negatives.sort((s,a)=>s<a?-1:s>a?1:0),t.positives.sort((s,a)=>s<a?-1:s>a?1:0);let r=e.capture?"":"?:",n="",i="",o;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(i=`-(${r}${t.negatives.join("|")})`),n&&i?o=`${n}|${i}`:o=n||i,e.wrap?`(${r}${o})`:o},t$=(t,e,r,n)=>{if(r)return e$(t,e,{wrap:!1,...n});let i=String.fromCharCode(t);if(t===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},r$=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${t.join("|")})`:t.join("|")}return e$(t,e,r)},n$=(...t)=>new RangeError("Invalid range arguments: "+l6.inspect(...t)),i$=(t,e,r)=>{if(r.strictRanges===!0)throw n$([t,e]);return[]},m6=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},H6=(t,e,r=1,n={})=>{let i=Number(t),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw n$([t,e]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(t),u=String(e),c=String(r);r=Math.max(Math.abs(r),1);let l=l_(a)||l_(u)||l_(c),p=l?Math.max(a.length,u.length,c.length):0,f=l===!1&&f6(t,e,n)===!1,m=n.transform||p6(f);if(n.toRegex&&r===1)return t$(ZD(t,p),ZD(e,p),!0,n);let h={negatives:[],positives:[]},g=D=>h[D<0?"negatives":"positives"].push(Math.abs(D)),b=[],A=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&r>1?g(i):b.push(d6(m(i,A),p,f)),i=s?i-r:i+r,A++;return n.toRegex===!0?r>1?h6(h,n):r$(b,null,{wrap:!1,...n}):b},g6=(t,e,r=1,n={})=>{if(!Hp(t)&&t.length>1||!Hp(e)&&e.length>1)return i$(t,e,n);let i=n.transform||(f=>String.fromCharCode(f)),o=`${t}`.charCodeAt(0),s=`${e}`.charCodeAt(0),a=o>s,u=Math.min(o,s),c=Math.max(o,s);if(n.toRegex&&r===1)return t$(u,c,!1,n);let l=[],p=0;for(;a?o>=s:o<=s;)l.push(i(o,p)),o=a?o-r:o+r,p++;return n.toRegex===!0?r$(l,null,{wrap:!1,options:n}):l},pm=(t,e,r,n={})=>{if(e==null&&c_(t))return[t];if(!c_(t)||!c_(e))return i$(t,e,n);if(typeof r=="function")return pm(t,e,1,{transform:r});if(QD(r))return pm(t,e,0,r);let i={...n};return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,Hp(r)?Hp(t)&&Hp(e)?H6(t,e,r,i):g6(t,e,Math.max(Math.abs(r),1),i):r!=null&&!QD(r)?m6(r,i):pm(t,e,1,r)};o$.exports=pm});var u$=y((Yme,a$)=>{"use strict";var y6=p_(),s$=cm(),b6=(t,e={})=>{let r=(n,i={})=>{let o=s$.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||s===!0,u=e.escapeInvalid===!0?"\\":"",c="";if(n.isOpen===!0||n.isClose===!0)return u+n.value;if(n.type==="open")return a?u+n.value:"(";if(n.type==="close")return a?u+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=s$.reduce(n.nodes),p=y6(...l,{...e,wrap:!1,toRegex:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)c+=r(l,n);return c};return r(t)};a$.exports=b6});var p$=y((Qme,l$)=>{"use strict";var v6=p_(),c$=lm(),Ku=cm(),aa=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Ku.flatten(e).map(i=>`{${i}}`):e;for(let i of t)if(Array.isArray(i))for(let o of i)n.push(aa(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?aa(i,o,r):i+o);return Ku.flatten(n)},_6=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(aa(a.pop(),c$(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(aa(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=Ku.reduce(i.nodes);if(Ku.exceedsLimit(...p,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let f=v6(...p,e);f.length===0&&(f=c$(i,e)),a.push(aa(a.pop(),f)),i.nodes=[];return}let u=Ku.encloseBrace(i),c=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,c=l.queue;for(let p=0;p<i.nodes.length;p++){let f=i.nodes[p];if(f.type==="comma"&&i.type==="brace"){p===1&&c.push(""),c.push("");continue}if(f.type==="close"){a.push(aa(a.pop(),c,u));continue}if(f.value&&f.type!=="open"){c.push(aa(c.pop(),f.value));continue}f.nodes&&n(f,i)}return c};return Ku.flatten(n(t))};l$.exports=_6});var d$=y((Zme,f$)=>{"use strict";f$.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var y$=y((eHe,g$)=>{"use strict";var w6=lm(),{MAX_LENGTH:h$,CHAR_BACKSLASH:f_,CHAR_BACKTICK:I6,CHAR_COMMA:A6,CHAR_DOT:S6,CHAR_LEFT_PARENTHESES:E6,CHAR_RIGHT_PARENTHESES:P6,CHAR_LEFT_CURLY_BRACE:L6,CHAR_RIGHT_CURLY_BRACE:x6,CHAR_LEFT_SQUARE_BRACKET:m$,CHAR_RIGHT_SQUARE_BRACKET:H$,CHAR_DOUBLE_QUOTE:C6,CHAR_SINGLE_QUOTE:D6,CHAR_NO_BREAK_SPACE:$6,CHAR_ZERO_WIDTH_NOBREAK_SPACE:T6}=d$(),M6=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(h$,r.maxLength):h$;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let i={type:"root",input:t,nodes:[]},o=[i],s=i,a=i,u=0,c=t.length,l=0,p=0,f,m={},h=()=>t[l++],g=b=>{if(b.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&b.type==="text"){a.value+=b.value;return}return s.nodes.push(b),b.parent=s,b.prev=a,a=b,b};for(g({type:"bos"});l<c;)if(s=o[o.length-1],f=h(),!(f===T6||f===$6)){if(f===f_){g({type:"text",value:(e.keepEscaping?f:"")+h()});continue}if(f===H$){g({type:"text",value:"\\"+f});continue}if(f===m$){u++;let b=!0,A;for(;l<c&&(A=h());){if(f+=A,A===m$){u++;continue}if(A===f_){f+=h();continue}if(A===H$&&(u--,u===0))break}g({type:"text",value:f});continue}if(f===E6){s=g({type:"paren",nodes:[]}),o.push(s),g({type:"text",value:f});continue}if(f===P6){if(s.type!=="paren"){g({type:"text",value:f});continue}s=o.pop(),g({type:"text",value:f}),s=o[o.length-1];continue}if(f===C6||f===D6||f===I6){let b=f,A;for(e.keepQuotes!==!0&&(f="");l<c&&(A=h());){if(A===f_){f+=A+h();continue}if(A===b){e.keepQuotes===!0&&(f+=A);break}f+=A}g({type:"text",value:f});continue}if(f===L6){p++;let A={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||s.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};s=g(A),o.push(s),g({type:"open",value:f});continue}if(f===x6){if(s.type!=="brace"){g({type:"text",value:f});continue}let b="close";s=o.pop(),s.close=!0,g({type:b,value:f}),p--,s=o[o.length-1];continue}if(f===A6&&p>0){if(s.ranges>0){s.ranges=0;let b=s.nodes.shift();s.nodes=[b,{type:"text",value:w6(s)}]}g({type:"comma",value:f}),s.commas++;continue}if(f===S6&&p>0&&s.commas===0){let b=s.nodes;if(p===0||b.length===0){g({type:"text",value:f});continue}if(a.type==="dot"){if(s.range=[],a.value+=f,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){b.pop();let A=b[b.length-1];A.value+=a.value+f,a=A,s.ranges--;continue}g({type:"dot",value:f});continue}g({type:"text",value:f})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(D=>{D.nodes||(D.type==="open"&&(D.isOpen=!0),D.type==="close"&&(D.isClose=!0),D.nodes||(D.type="text"),D.invalid=!0)});let b=o[o.length-1],A=b.nodes.indexOf(s);b.nodes.splice(A,1,...s.nodes)}while(o.length>0);return g({type:"eos"}),i};g$.exports=M6});var _$=y((tHe,v$)=>{"use strict";var b$=lm(),R6=u$(),k6=p$(),O6=y$(),kr=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let i=kr.create(n,e);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(kr.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};kr.parse=(t,e={})=>O6(t,e);kr.stringify=(t,e={})=>b$(typeof t=="string"?kr.parse(t,e):t,e);kr.compile=(t,e={})=>(typeof t=="string"&&(t=kr.parse(t,e)),R6(t,e));kr.expand=(t,e={})=>{typeof t=="string"&&(t=kr.parse(t,e));let r=k6(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};kr.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?kr.compile(t,e):kr.expand(t,e);v$.exports=kr});var gp=y((rHe,E$)=>{"use strict";var N6=v("path"),yi="\\\\/",w$=`[^${yi}]`,Yi="\\.",B6="\\+",F6="\\?",fm="\\/",U6="(?=.)",I$="[^/]",d_=`(?:${fm}|$)`,A$=`(?:^|${fm})`,h_=`${Yi}{1,2}${d_}`,j6=`(?!${Yi})`,W6=`(?!${A$}${h_})`,q6=`(?!${Yi}{0,1}${d_})`,V6=`(?!${h_})`,G6=`[^.${fm}]`,X6=`${I$}*?`,S$={DOT_LITERAL:Yi,PLUS_LITERAL:B6,QMARK_LITERAL:F6,SLASH_LITERAL:fm,ONE_CHAR:U6,QMARK:I$,END_ANCHOR:d_,DOTS_SLASH:h_,NO_DOT:j6,NO_DOTS:W6,NO_DOT_SLASH:q6,NO_DOTS_SLASH:V6,QMARK_NO_DOT:G6,STAR:X6,START_ANCHOR:A$},K6={...S$,SLASH_LITERAL:`[${yi}]`,QMARK:w$,STAR:`${w$}*?`,DOTS_SLASH:`${Yi}{1,2}(?:[${yi}]|$)`,NO_DOT:`(?!${Yi})`,NO_DOTS:`(?!(?:^|[${yi}])${Yi}{1,2}(?:[${yi}]|$))`,NO_DOT_SLASH:`(?!${Yi}{0,1}(?:[${yi}]|$))`,NO_DOTS_SLASH:`(?!${Yi}{1,2}(?:[${yi}]|$))`,QMARK_NO_DOT:`[^.${yi}]`,START_ANCHOR:`(?:^|[${yi}])`,END_ANCHOR:`(?:[${yi}]|$)`},z6={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};E$.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:z6,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:N6.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?K6:S$}}});var yp=y(xr=>{"use strict";var J6=v("path"),Y6=process.platform==="win32",{REGEX_BACKSLASH:Q6,REGEX_REMOVE_BACKSLASH:Z6,REGEX_SPECIAL_CHARS:ez,REGEX_SPECIAL_CHARS_GLOBAL:tz}=gp();xr.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);xr.hasRegexChars=t=>ez.test(t);xr.isRegexChar=t=>t.length===1&&xr.hasRegexChars(t);xr.escapeRegex=t=>t.replace(tz,"\\$1");xr.toPosixSlashes=t=>t.replace(Q6,"/");xr.removeBackslashes=t=>t.replace(Z6,e=>e==="\\"?"":e);xr.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};xr.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:Y6===!0||J6.sep==="\\";xr.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?xr.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};xr.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};xr.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",o=`${n}(?:${t})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var M$=y((iHe,T$)=>{"use strict";var P$=yp(),{CHAR_ASTERISK:m_,CHAR_AT:rz,CHAR_BACKWARD_SLASH:bp,CHAR_COMMA:nz,CHAR_DOT:H_,CHAR_EXCLAMATION_MARK:g_,CHAR_FORWARD_SLASH:$$,CHAR_LEFT_CURLY_BRACE:y_,CHAR_LEFT_PARENTHESES:b_,CHAR_LEFT_SQUARE_BRACKET:iz,CHAR_PLUS:oz,CHAR_QUESTION_MARK:L$,CHAR_RIGHT_CURLY_BRACE:sz,CHAR_RIGHT_PARENTHESES:x$,CHAR_RIGHT_SQUARE_BRACKET:az}=gp(),C$=t=>t===$$||t===bp,D$=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},uz=(t,e)=>{let r=e||{},n=t.length-1,i=r.parts===!0||r.scanToEnd===!0,o=[],s=[],a=[],u=t,c=-1,l=0,p=0,f=!1,m=!1,h=!1,g=!1,b=!1,A=!1,D=!1,U=!1,$=!1,W=!1,z=0,X,j,O={value:"",depth:0,isGlob:!1},N=()=>c>=n,E=()=>u.charCodeAt(c+1),q=()=>(X=j,u.charCodeAt(++c));for(;c<n;){j=q();let se;if(j===bp){D=O.backslashes=!0,j=q(),j===y_&&(A=!0);continue}if(A===!0||j===y_){for(z++;N()!==!0&&(j=q());){if(j===bp){D=O.backslashes=!0,q();continue}if(j===y_){z++;continue}if(A!==!0&&j===H_&&(j=q())===H_){if(f=O.isBrace=!0,h=O.isGlob=!0,W=!0,i===!0)continue;break}if(A!==!0&&j===nz){if(f=O.isBrace=!0,h=O.isGlob=!0,W=!0,i===!0)continue;break}if(j===sz&&(z--,z===0)){A=!1,f=O.isBrace=!0,W=!0;break}}if(i===!0)continue;break}if(j===$$){if(o.push(c),s.push(O),O={value:"",depth:0,isGlob:!1},W===!0)continue;if(X===H_&&c===l+1){l+=2;continue}p=c+1;continue}if(r.noext!==!0&&(j===oz||j===rz||j===m_||j===L$||j===g_)===!0&&E()===b_){if(h=O.isGlob=!0,g=O.isExtglob=!0,W=!0,j===g_&&c===l&&($=!0),i===!0){for(;N()!==!0&&(j=q());){if(j===bp){D=O.backslashes=!0,j=q();continue}if(j===x$){h=O.isGlob=!0,W=!0;break}}continue}break}if(j===m_){if(X===m_&&(b=O.isGlobstar=!0),h=O.isGlob=!0,W=!0,i===!0)continue;break}if(j===L$){if(h=O.isGlob=!0,W=!0,i===!0)continue;break}if(j===iz){for(;N()!==!0&&(se=q());){if(se===bp){D=O.backslashes=!0,q();continue}if(se===az){m=O.isBracket=!0,h=O.isGlob=!0,W=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&j===g_&&c===l){U=O.negated=!0,l++;continue}if(r.noparen!==!0&&j===b_){if(h=O.isGlob=!0,i===!0){for(;N()!==!0&&(j=q());){if(j===b_){D=O.backslashes=!0,j=q();continue}if(j===x$){W=!0;break}}continue}break}if(h===!0){if(W=!0,i===!0)continue;break}}r.noext===!0&&(g=!1,h=!1);let F=u,G="",P="";l>0&&(G=u.slice(0,l),u=u.slice(l),p-=l),F&&h===!0&&p>0?(F=u.slice(0,p),P=u.slice(p)):h===!0?(F="",P=u):F=u,F&&F!==""&&F!=="/"&&F!==u&&C$(F.charCodeAt(F.length-1))&&(F=F.slice(0,-1)),r.unescape===!0&&(P&&(P=P$.removeBackslashes(P)),F&&D===!0&&(F=P$.removeBackslashes(F)));let x={prefix:G,input:t,start:l,base:F,glob:P,isBrace:f,isBracket:m,isGlob:h,isExtglob:g,isGlobstar:b,negated:U,negatedExtglob:$};if(r.tokens===!0&&(x.maxDepth=0,C$(j)||s.push(O),x.tokens=s),r.parts===!0||r.tokens===!0){let se;for(let re=0;re<o.length;re++){let pe=se?se+1:l,ce=o[re],te=t.slice(pe,ce);r.tokens&&(re===0&&l!==0?(s[re].isPrefix=!0,s[re].value=G):s[re].value=te,D$(s[re]),x.maxDepth+=s[re].depth),(re!==0||te!=="")&&a.push(te),se=ce}if(se&&se+1<t.length){let re=t.slice(se+1);a.push(re),r.tokens&&(s[s.length-1].value=re,D$(s[s.length-1]),x.maxDepth+=s[s.length-1].depth)}x.slashes=o,x.parts=a}return x};T$.exports=uz});var O$=y((oHe,k$)=>{"use strict";var dm=gp(),Or=yp(),{MAX_LENGTH:hm,POSIX_REGEX_SOURCE:cz,REGEX_NON_SPECIAL_CHARS:lz,REGEX_SPECIAL_CHARS_BACKREF:pz,REPLACEMENTS:R$}=dm,fz=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(i=>Or.escapeRegex(i)).join("..")}return r},zu=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,v_=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=R$[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(hm,r.maxLength):hm,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},s=[o],a=r.capture?"":"?:",u=Or.isWindows(e),c=dm.globChars(u),l=dm.extglobChars(c),{DOT_LITERAL:p,PLUS_LITERAL:f,SLASH_LITERAL:m,ONE_CHAR:h,DOTS_SLASH:g,NO_DOT:b,NO_DOT_SLASH:A,NO_DOTS_SLASH:D,QMARK:U,QMARK_NO_DOT:$,STAR:W,START_ANCHOR:z}=c,X=Y=>`(${a}(?:(?!${z}${Y.dot?g:p}).)*?)`,j=r.dot?"":b,O=r.dot?U:$,N=r.bash===!0?X(r):W;r.capture&&(N=`(${N})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let E={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};t=Or.removePrefix(t,E),i=t.length;let q=[],F=[],G=[],P=o,x,se=()=>E.index===i-1,re=E.peek=(Y=1)=>t[E.index+Y],pe=E.advance=()=>t[++E.index]||"",ce=()=>t.slice(E.index+1),te=(Y="",Ie=0)=>{E.consumed+=Y,E.index+=Ie},fe=Y=>{E.output+=Y.output!=null?Y.output:Y.value,te(Y.value)},be=()=>{let Y=1;for(;re()==="!"&&(re(2)!=="("||re(3)==="?");)pe(),E.start++,Y++;return Y%2===0?!1:(E.negated=!0,E.start++,!0)},ge=Y=>{E[Y]++,G.push(Y)},Wt=Y=>{E[Y]--,G.pop()},me=Y=>{if(P.type==="globstar"){let Ie=E.braces>0&&(Y.type==="comma"||Y.type==="brace"),J=Y.extglob===!0||q.length&&(Y.type==="pipe"||Y.type==="paren");Y.type!=="slash"&&Y.type!=="paren"&&!Ie&&!J&&(E.output=E.output.slice(0,-P.output.length),P.type="star",P.value="*",P.output=N,E.output+=P.output)}if(q.length&&Y.type!=="paren"&&(q[q.length-1].inner+=Y.value),(Y.value||Y.output)&&fe(Y),P&&P.type==="text"&&Y.type==="text"){P.value+=Y.value,P.output=(P.output||"")+Y.value;return}Y.prev=P,s.push(Y),P=Y},pr=(Y,Ie)=>{let J={...l[Ie],conditions:1,inner:""};J.prev=P,J.parens=E.parens,J.output=E.output;let he=(r.capture?"(":"")+J.open;ge("parens"),me({type:Y,value:Ie,output:E.output?"":h}),me({type:"paren",extglob:!0,value:pe(),output:he}),q.push(J)},$r=Y=>{let Ie=Y.close+(r.capture?")":""),J;if(Y.type==="negate"){let he=N;if(Y.inner&&Y.inner.length>1&&Y.inner.includes("/")&&(he=X(r)),(he!==N||se()||/^\)+$/.test(ce()))&&(Ie=Y.close=`)$))${he}`),Y.inner.includes("*")&&(J=ce())&&/^\.[^\\/.]+$/.test(J)){let Te=v_(J,{...e,fastpaths:!1}).output;Ie=Y.close=`)${Te})${he})`}Y.prev.type==="bos"&&(E.negatedExtglob=!0)}me({type:"paren",extglob:!0,value:x,output:Ie}),Wt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let Y=!1,Ie=t.replace(pz,(J,he,Te,Ze,ot,Ao)=>Ze==="\\"?(Y=!0,J):Ze==="?"?he?he+Ze+(ot?U.repeat(ot.length):""):Ao===0?O+(ot?U.repeat(ot.length):""):U.repeat(Te.length):Ze==="."?p.repeat(Te.length):Ze==="*"?he?he+Ze+(ot?N:""):N:he?J:`\\${J}`);return Y===!0&&(r.unescape===!0?Ie=Ie.replace(/\\/g,""):Ie=Ie.replace(/\\+/g,J=>J.length%2===0?"\\\\":J?"\\":"")),Ie===t&&r.contains===!0?(E.output=t,E):(E.output=Or.wrapOutput(Ie,E,e),E)}for(;!se();){if(x=pe(),x==="\0")continue;if(x==="\\"){let J=re();if(J==="/"&&r.bash!==!0||J==="."||J===";")continue;if(!J){x+="\\",me({type:"text",value:x});continue}let he=/^\\+/.exec(ce()),Te=0;if(he&&he[0].length>2&&(Te=he[0].length,E.index+=Te,Te%2!==0&&(x+="\\")),r.unescape===!0?x=pe():x+=pe(),E.brackets===0){me({type:"text",value:x});continue}}if(E.brackets>0&&(x!=="]"||P.value==="["||P.value==="[^")){if(r.posix!==!1&&x===":"){let J=P.value.slice(1);if(J.includes("[")&&(P.posix=!0,J.includes(":"))){let he=P.value.lastIndexOf("["),Te=P.value.slice(0,he),Ze=P.value.slice(he+2),ot=cz[Ze];if(ot){P.value=Te+ot,E.backtrack=!0,pe(),!o.output&&s.indexOf(P)===1&&(o.output=h);continue}}}(x==="["&&re()!==":"||x==="-"&&re()==="]")&&(x=`\\${x}`),x==="]"&&(P.value==="["||P.value==="[^")&&(x=`\\${x}`),r.posix===!0&&x==="!"&&P.value==="["&&(x="^"),P.value+=x,fe({value:x});continue}if(E.quotes===1&&x!=='"'){x=Or.escapeRegex(x),P.value+=x,fe({value:x});continue}if(x==='"'){E.quotes=E.quotes===1?0:1,r.keepQuotes===!0&&me({type:"text",value:x});continue}if(x==="("){ge("parens"),me({type:"paren",value:x});continue}if(x===")"){if(E.parens===0&&r.strictBrackets===!0)throw new SyntaxError(zu("opening","("));let J=q[q.length-1];if(J&&E.parens===J.parens+1){$r(q.pop());continue}me({type:"paren",value:x,output:E.parens?")":"\\)"}),Wt("parens");continue}if(x==="["){if(r.nobracket===!0||!ce().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(zu("closing","]"));x=`\\${x}`}else ge("brackets");me({type:"bracket",value:x});continue}if(x==="]"){if(r.nobracket===!0||P&&P.type==="bracket"&&P.value.length===1){me({type:"text",value:x,output:`\\${x}`});continue}if(E.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(zu("opening","["));me({type:"text",value:x,output:`\\${x}`});continue}Wt("brackets");let J=P.value.slice(1);if(P.posix!==!0&&J[0]==="^"&&!J.includes("/")&&(x=`/${x}`),P.value+=x,fe({value:x}),r.literalBrackets===!1||Or.hasRegexChars(J))continue;let he=Or.escapeRegex(P.value);if(E.output=E.output.slice(0,-P.value.length),r.literalBrackets===!0){E.output+=he,P.value=he;continue}P.value=`(${a}${he}|${P.value})`,E.output+=P.value;continue}if(x==="{"&&r.nobrace!==!0){ge("braces");let J={type:"brace",value:x,output:"(",outputIndex:E.output.length,tokensIndex:E.tokens.length};F.push(J),me(J);continue}if(x==="}"){let J=F[F.length-1];if(r.nobrace===!0||!J){me({type:"text",value:x,output:x});continue}let he=")";if(J.dots===!0){let Te=s.slice(),Ze=[];for(let ot=Te.length-1;ot>=0&&(s.pop(),Te[ot].type!=="brace");ot--)Te[ot].type!=="dots"&&Ze.unshift(Te[ot].value);he=fz(Ze,r),E.backtrack=!0}if(J.comma!==!0&&J.dots!==!0){let Te=E.output.slice(0,J.outputIndex),Ze=E.tokens.slice(J.tokensIndex);J.value=J.output="\\{",x=he="\\}",E.output=Te;for(let ot of Ze)E.output+=ot.output||ot.value}me({type:"brace",value:x,output:he}),Wt("braces"),F.pop();continue}if(x==="|"){q.length>0&&q[q.length-1].conditions++,me({type:"text",value:x});continue}if(x===","){let J=x,he=F[F.length-1];he&&G[G.length-1]==="braces"&&(he.comma=!0,J="|"),me({type:"comma",value:x,output:J});continue}if(x==="/"){if(P.type==="dot"&&E.index===E.start+1){E.start=E.index+1,E.consumed="",E.output="",s.pop(),P=o;continue}me({type:"slash",value:x,output:m});continue}if(x==="."){if(E.braces>0&&P.type==="dot"){P.value==="."&&(P.output=p);let J=F[F.length-1];P.type="dots",P.output+=x,P.value+=x,J.dots=!0;continue}if(E.braces+E.parens===0&&P.type!=="bos"&&P.type!=="slash"){me({type:"text",value:x,output:p});continue}me({type:"dot",value:x,output:p});continue}if(x==="?"){if(!(P&&P.value==="(")&&r.noextglob!==!0&&re()==="("&&re(2)!=="?"){pr("qmark",x);continue}if(P&&P.type==="paren"){let he=re(),Te=x;if(he==="<"&&!Or.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(P.value==="("&&!/[!=<:]/.test(he)||he==="<"&&!/<([!=]|\w+>)/.test(ce()))&&(Te=`\\${x}`),me({type:"text",value:x,output:Te});continue}if(r.dot!==!0&&(P.type==="slash"||P.type==="bos")){me({type:"qmark",value:x,output:$});continue}me({type:"qmark",value:x,output:U});continue}if(x==="!"){if(r.noextglob!==!0&&re()==="("&&(re(2)!=="?"||!/[!=<:]/.test(re(3)))){pr("negate",x);continue}if(r.nonegate!==!0&&E.index===0){be();continue}}if(x==="+"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){pr("plus",x);continue}if(P&&P.value==="("||r.regex===!1){me({type:"plus",value:x,output:f});continue}if(P&&(P.type==="bracket"||P.type==="paren"||P.type==="brace")||E.parens>0){me({type:"plus",value:x});continue}me({type:"plus",value:f});continue}if(x==="@"){if(r.noextglob!==!0&&re()==="("&&re(2)!=="?"){me({type:"at",extglob:!0,value:x,output:""});continue}me({type:"text",value:x});continue}if(x!=="*"){(x==="$"||x==="^")&&(x=`\\${x}`);let J=lz.exec(ce());J&&(x+=J[0],E.index+=J[0].length),me({type:"text",value:x});continue}if(P&&(P.type==="globstar"||P.star===!0)){P.type="star",P.star=!0,P.value+=x,P.output=N,E.backtrack=!0,E.globstar=!0,te(x);continue}let Y=ce();if(r.noextglob!==!0&&/^\([^?]/.test(Y)){pr("star",x);continue}if(P.type==="star"){if(r.noglobstar===!0){te(x);continue}let J=P.prev,he=J.prev,Te=J.type==="slash"||J.type==="bos",Ze=he&&(he.type==="star"||he.type==="globstar");if(r.bash===!0&&(!Te||Y[0]&&Y[0]!=="/")){me({type:"star",value:x,output:""});continue}let ot=E.braces>0&&(J.type==="comma"||J.type==="brace"),Ao=q.length&&(J.type==="pipe"||J.type==="paren");if(!Te&&J.type!=="paren"&&!ot&&!Ao){me({type:"star",value:x,output:""});continue}for(;Y.slice(0,3)==="/**";){let So=t[E.index+4];if(So&&So!=="/")break;Y=Y.slice(3),te("/**",3)}if(J.type==="bos"&&se()){P.type="globstar",P.value+=x,P.output=X(r),E.output=P.output,E.globstar=!0,te(x);continue}if(J.type==="slash"&&J.prev.type!=="bos"&&!Ze&&se()){E.output=E.output.slice(0,-(J.output+P.output).length),J.output=`(?:${J.output}`,P.type="globstar",P.output=X(r)+(r.strictSlashes?")":"|$)"),P.value+=x,E.globstar=!0,E.output+=J.output+P.output,te(x);continue}if(J.type==="slash"&&J.prev.type!=="bos"&&Y[0]==="/"){let So=Y[1]!==void 0?"|$":"";E.output=E.output.slice(0,-(J.output+P.output).length),J.output=`(?:${J.output}`,P.type="globstar",P.output=`${X(r)}${m}|${m}${So})`,P.value+=x,E.output+=J.output+P.output,E.globstar=!0,te(x+pe()),me({type:"slash",value:"/",output:""});continue}if(J.type==="bos"&&Y[0]==="/"){P.type="globstar",P.value+=x,P.output=`(?:^|${m}|${X(r)}${m})`,E.output=P.output,E.globstar=!0,te(x+pe()),me({type:"slash",value:"/",output:""});continue}E.output=E.output.slice(0,-P.output.length),P.type="globstar",P.output=X(r),P.value+=x,E.output+=P.output,E.globstar=!0,te(x);continue}let Ie={type:"star",value:x,output:N};if(r.bash===!0){Ie.output=".*?",(P.type==="bos"||P.type==="slash")&&(Ie.output=j+Ie.output),me(Ie);continue}if(P&&(P.type==="bracket"||P.type==="paren")&&r.regex===!0){Ie.output=x,me(Ie);continue}(E.index===E.start||P.type==="slash"||P.type==="dot")&&(P.type==="dot"?(E.output+=A,P.output+=A):r.dot===!0?(E.output+=D,P.output+=D):(E.output+=j,P.output+=j),re()!=="*"&&(E.output+=h,P.output+=h)),me(Ie)}for(;E.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(zu("closing","]"));E.output=Or.escapeLast(E.output,"["),Wt("brackets")}for(;E.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(zu("closing",")"));E.output=Or.escapeLast(E.output,"("),Wt("parens")}for(;E.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(zu("closing","}"));E.output=Or.escapeLast(E.output,"{"),Wt("braces")}if(r.strictSlashes!==!0&&(P.type==="star"||P.type==="bracket")&&me({type:"maybe_slash",value:"",output:`${m}?`}),E.backtrack===!0){E.output="";for(let Y of E.tokens)E.output+=Y.output!=null?Y.output:Y.value,Y.suffix&&(E.output+=Y.suffix)}return E};v_.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(hm,r.maxLength):hm,i=t.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);t=R$[t]||t;let o=Or.isWindows(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:u,DOTS_SLASH:c,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:f,STAR:m,START_ANCHOR:h}=dm.globChars(o),g=r.dot?p:l,b=r.dot?f:l,A=r.capture?"":"?:",D={negated:!1,prefix:""},U=r.bash===!0?".*?":m;r.capture&&(U=`(${U})`);let $=j=>j.noglobstar===!0?U:`(${A}(?:(?!${h}${j.dot?c:s}).)*?)`,W=j=>{switch(j){case"*":return`${g}${u}${U}`;case".*":return`${s}${u}${U}`;case"*.*":return`${g}${U}${s}${u}${U}`;case"*/*":return`${g}${U}${a}${u}${b}${U}`;case"**":return g+$(r);case"**/*":return`(?:${g}${$(r)}${a})?${b}${u}${U}`;case"**/*.*":return`(?:${g}${$(r)}${a})?${b}${U}${s}${u}${U}`;case"**/.*":return`(?:${g}${$(r)}${a})?${s}${u}${U}`;default:{let O=/^(.*?)\.(\w+)$/.exec(j);if(!O)return;let N=W(O[1]);return N?N+s+O[2]:void 0}}},z=Or.removePrefix(t,D),X=W(z);return X&&r.strictSlashes!==!0&&(X+=`${a}?`),X};k$.exports=v_});var B$=y((sHe,N$)=>{"use strict";var dz=v("path"),hz=M$(),__=O$(),w_=yp(),mz=gp(),Hz=t=>t&&typeof t=="object"&&!Array.isArray(t),ht=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(f=>ht(f,e,r));return f=>{for(let m of l){let h=m(f);if(h)return h}return!1}}let n=Hz(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=w_.isWindows(e),s=n?ht.compileRe(t,e):ht.makeRe(t,e,!1,!0),a=s.state;delete s.state;let u=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};u=ht(i.ignore,l,r)}let c=(l,p=!1)=>{let{isMatch:f,match:m,output:h}=ht.test(l,s,e,{glob:t,posix:o}),g={glob:t,state:a,regex:s,posix:o,input:l,output:h,match:m,isMatch:f};return typeof i.onResult=="function"&&i.onResult(g),f===!1?(g.isMatch=!1,p?g:!1):u(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return r&&(c.state=a),c};ht.test=(t,e,r,{glob:n,posix:i}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},s=o.format||(i?w_.toPosixSlashes:null),a=t===n,u=a&&s?s(t):t;return a===!1&&(u=s?s(t):t,a=u===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=ht.matchBase(t,e,r,i):a=e.exec(u)),{isMatch:!!a,match:a,output:u}};ht.matchBase=(t,e,r,n=w_.isWindows(r))=>(e instanceof RegExp?e:ht.makeRe(e,r)).test(dz.basename(t));ht.isMatch=(t,e,r)=>ht(e,r)(t);ht.parse=(t,e)=>Array.isArray(t)?t.map(r=>ht.parse(r,e)):__(t,{...e,fastpaths:!1});ht.scan=(t,e)=>hz(t,e);ht.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let i=e||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${t.output})${s}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let u=ht.toRegex(a,e);return n===!0&&(u.state=t),u};ht.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(i.output=__.fastpaths(t,e)),i.output||(i=__(t,e)),ht.compileRe(i,e,r,n)};ht.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};ht.constants=mz;N$.exports=ht});var U$=y((aHe,F$)=>{"use strict";F$.exports=B$()});var vp=y((uHe,V$)=>{"use strict";var W$=v("util"),q$=_$(),bi=U$(),I_=yp(),j$=t=>t===""||t==="./",nt=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let p=bi(String(e[l]),{...r,onResult:a},!0),f=p.state.negated||p.state.negatedExtglob;f&&s++;for(let m of t){let h=p(m,!0);(f?!h.isMatch:h.isMatch)&&(f?n.add(h.output):(n.delete(h.output),i.add(h.output)))}}let c=(s===e.length?[...o]:[...i]).filter(l=>!n.has(l));if(r&&c.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return c};nt.match=nt;nt.matcher=(t,e)=>bi(t,e);nt.isMatch=(t,e,r)=>bi(e,r)(t);nt.any=nt.isMatch;nt.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=a=>{r.onResult&&r.onResult(a),i.push(a.output)},s=new Set(nt(t,e,{...r,onResult:o}));for(let a of i)s.has(a)||n.add(a);return[...n]};nt.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${W$.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>nt.contains(t,n,r));if(typeof e=="string"){if(j$(t)||j$(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return nt.isMatch(t,e,{...r,contains:!0})};nt.matchKeys=(t,e,r)=>{if(!I_.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=nt(Object.keys(t),e,r),i={};for(let o of n)i[o]=t[o];return i};nt.some=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let o=bi(String(i),r);if(n.some(s=>o(s)))return!0}return!1};nt.every=(t,e,r)=>{let n=[].concat(t);for(let i of[].concat(e)){let o=bi(String(i),r);if(!n.every(s=>o(s)))return!1}return!0};nt.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${W$.inspect(t)}"`);return[].concat(e).every(n=>bi(n,r)(t))};nt.capture=(t,e,r)=>{let n=I_.isWindows(r),o=bi.makeRe(String(t),{...r,capture:!0}).exec(n?I_.toPosixSlashes(e):e);if(o)return o.slice(1).map(s=>s===void 0?"":s)};nt.makeRe=(...t)=>bi.makeRe(...t);nt.scan=(...t)=>bi.scan(...t);nt.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let i of q$(String(n),e))r.push(bi.parse(i,e));return r};nt.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:q$(t,e)};nt.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return nt.braces(t,{...e,expand:!0})};V$.exports=nt});var z$=y(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});function vz(t){let e=[],r=new Array(4),n=[0,192,224,240],i=[127,63,63,63],o=[0,128,128,128];for(let s of t){let a=r,u=s.codePointAt(0),c=0-(-(u&4294967168)>>31)-(-(u&4294965248)>>31)-(-(u&4294901760)>>31),l=i[c],p=o[c];a[3]=p|u&l,a[2]=p|u>>>6&l,a[1]=p|u>>>12&l,a[0]=p|u>>>18&l;let f=3-c;a[f]|=n[c],Array.prototype.push.apply(e,a.slice(f))}return new Uint8Array(e)}Go.toUtf8_1=vz;function _z(t){let e=[];for(let r of t){let n=r.codePointAt(0);n<128?e.push(n):n<2048?e.push(192|n>>6&31,128|n&63):n<65536?e.push(224|n>>12&15,128|n>>6&63,128|n&63):e.push(240|n>>18&7,128|n>>12&63,128|n>>6&63,128|n&63)}return new Uint8Array(e)}Go.toUtf8_2=_z;function K$(t){let e=[];for(let r=0,n=t.length;r<n;++r){let i=t.charCodeAt(r);if(i<128)e.push(i);else if(i<2048)e.push(192|i>>6,128|i&63);else if(i<55296||i>=57344)e.push(224|i>>12,128|i>>6&63,128|i&63);else{let o=65536+((i&1023)<<10|t.charCodeAt(++r)&1023);e.push(240|o>>18&7,128|o>>12&63,128|o>>6&63,128|o&63)}}return new Uint8Array(e)}Go.toUtf8_3=K$;Go.toUtf8=K$;Go.default=Go.toUtf8});var Q$=y(A_=>{"use strict";Object.defineProperty(A_,"__esModule",{value:!0});var wz=z$(),Yu=2654435761,Qu=2246822519,Hm=3266489917,J$=668265263,Y$=374761393;function Iz(t,e=0){t=typeof t=="string"?wz.default(t):t;let r=t,n=e+Y$&4294967295,i=0;if(r.length>=16){let s=[e+Yu+Qu&4294967295,e+Qu&4294967295,e+0&4294967295,e-Yu&4294967295],a=t,u=a.length-16,c=0;for(i=0;(i&4294967280)<=u;i+=4){let l=i,p=a[l+0]+(a[l+1]<<8),f=a[l+2]+(a[l+3]<<8),m=p*Qu+(f*Qu<<16),h=s[c]+m&4294967295;h=h<<13|h>>>19;let g=h&65535,b=h>>>16;s[c]=g*Yu+(b*Yu<<16)&4294967295,c=c+1&3}n=(s[0]<<1|s[0]>>>31)+(s[1]<<7|s[1]>>>25)+(s[2]<<12|s[2]>>>20)+(s[3]<<18|s[3]>>>14)&4294967295}n=n+t.length&4294967295;let o=t.length-4;for(;i<=o;i+=4){let s=i,a=r[s+0]+(r[s+1]<<8),u=r[s+2]+(r[s+3]<<8),c=a*Hm+(u*Hm<<16);n=n+c&4294967295,n=n<<17|n>>>15,n=(n&65535)*J$+((n>>>16)*J$<<16)&4294967295}for(;i<r.length;++i){let s=r[i];n=n+s*Y$,n=n<<11|n>>>21,n=(n&65535)*Yu+((n>>>16)*Yu<<16)&4294967295}return n=n^n>>>15,n=((n&65535)*Qu&4294967295)+((n>>>16)*Qu<<16),n=n^n>>>13,n=((n&65535)*Hm&4294967295)+((n>>>16)*Hm<<16),n=n^n>>>16,n<0?n+4294967296:n}A_.xxHash32=Iz});var Z$=y(gm=>{"use strict";function Az(t){for(var e in t)gm.hasOwnProperty(e)||(gm[e]=t[e])}Object.defineProperty(gm,"__esModule",{value:!0});Az(Q$())});var yT=y((tye,gT)=>{"use strict";var{Duplex:Dz}=v("stream");function mT(t){t.emit("close")}function $z(){!this.destroyed&&this._writableState.finished&&this.destroy()}function HT(t){this.removeListener("error",HT),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function Tz(t,e){let r=!0,n=new Dz({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||t.pause()}),t.once("error",function(o){n.destroyed||(r=!1,n.destroy(o))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(t.readyState===t.CLOSED){o(i),process.nextTick(mT,n);return}let s=!1;t.once("error",function(u){s=!0,o(u)}),t.once("close",function(){s||o(i),process.nextTick(mT,n)}),r&&t.terminate()},n._final=function(i){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(i)});return}t._socket!==null&&(t._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){i()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(i,o,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(i,o,s)});return}t.send(i,s)},n.on("end",$z),n.on("error",HT),n}gT.exports=Tz});var Ko=y((rye,bT)=>{"use strict";bT.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var Sp=y((nye,wm)=>{"use strict";var{EMPTY_BUFFER:Mz}=Ko(),D_=Buffer[Symbol.species];function Rz(t,e){if(t.length===0)return Mz;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),n=0;for(let i=0;i<t.length;i++){let o=t[i];r.set(o,n),n+=o.length}return n<e?new D_(r.buffer,r.byteOffset,n):r}function vT(t,e,r,n,i){for(let o=0;o<i;o++)r[n+o]=t[o]^e[o&3]}function _T(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function kz(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function $_(t){if($_.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new D_(t):ArrayBuffer.isView(t)?e=new D_(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),$_.readOnly=!1),e}wm.exports={concat:Rz,mask:vT,toArrayBuffer:kz,toBuffer:$_,unmask:_T};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=v("bufferutil");wm.exports.mask=function(e,r,n,i,o){o<48?vT(e,r,n,i,o):t.mask(e,r,n,i,o)},wm.exports.unmask=function(e,r){e.length<32?_T(e,r):t.unmask(e,r)}}catch{}});var AT=y((iye,IT)=>{"use strict";var wT=Symbol("kDone"),T_=Symbol("kRun"),M_=class{constructor(e){this[wT]=()=>{this.pending--,this[T_]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[T_]()}[T_](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[wT])}}};IT.exports=M_});var Lp=y((oye,LT)=>{"use strict";var Ep=v("zlib"),ST=Sp(),Oz=AT(),{kStatusCode:ET}=Ko(),Nz=Buffer[Symbol.species],Bz=Buffer.from([0,0,255,255]),Sm=Symbol("permessage-deflate"),Qi=Symbol("total-length"),Pp=Symbol("callback"),zo=Symbol("buffers"),Am=Symbol("error"),Im,R_=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Im){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Im=new Oz(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Pp];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,n=e.find(i=>!(r.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>i.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let i=r[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=i})}),e}decompress(e,r,n){Im.add(i=>{this._decompress(e,r,(o,s)=>{i(),n(o,s)})})}compress(e,r,n){Im.add(i=>{this._compress(e,r,(o,s)=>{i(),n(o,s)})})}_decompress(e,r,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Ep.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=Ep.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[Sm]=this,this._inflate[Qi]=0,this._inflate[zo]=[],this._inflate.on("error",Uz),this._inflate.on("data",PT)}this._inflate[Pp]=n,this._inflate.write(e),r&&this._inflate.write(Bz),this._inflate.flush(()=>{let o=this._inflate[Am];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=ST.concat(this._inflate[zo],this._inflate[Qi]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Qi]=0,this._inflate[zo]=[],r&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?Ep.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=Ep.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Qi]=0,this._deflate[zo]=[],this._deflate.on("data",Fz)}this._deflate[Pp]=n,this._deflate.write(e),this._deflate.flush(Ep.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=ST.concat(this._deflate[zo],this._deflate[Qi]);r&&(o=new Nz(o.buffer,o.byteOffset,o.length-4)),this._deflate[Pp]=null,this._deflate[Qi]=0,this._deflate[zo]=[],r&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};LT.exports=R_;function Fz(t){this[zo].push(t),this[Qi]+=t.length}function PT(t){if(this[Qi]+=t.length,this[Sm]._maxPayload<1||this[Qi]<=this[Sm]._maxPayload){this[zo].push(t);return}this[Am]=new RangeError("Max payload size exceeded"),this[Am].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Am][ET]=1009,this.removeListener("data",PT),this.reset()}function Uz(t){this[Sm]._inflate=null,t[ET]=1007,this[Pp](t)}});var xp=y((sye,Em)=>{"use strict";var{isUtf8:xT}=v("buffer"),jz=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Wz(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function k_(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}Em.exports={isValidStatusCode:Wz,isValidUTF8:k_,tokenChars:jz};if(xT)Em.exports.isValidUTF8=function(t){return t.length<24?k_(t):xT(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=v("utf-8-validate");Em.exports.isValidUTF8=function(e){return e.length<32?k_(e):t(e)}}catch{}});var U_=y((aye,OT)=>{"use strict";var{Writable:qz}=v("stream"),CT=Lp(),{BINARY_TYPES:Vz,EMPTY_BUFFER:DT,kStatusCode:Gz,kWebSocket:Xz}=Ko(),{concat:O_,toArrayBuffer:Kz,unmask:zz}=Sp(),{isValidStatusCode:Jz,isValidUTF8:$T}=xp(),Pm=Buffer[Symbol.species],Yz=Promise.resolve(),Qz=typeof queueMicrotask=="function"?queueMicrotask:Zz,rc=0,TT=1,MT=2,RT=3,N_=4,kT=5,B_=6,F_=class extends qz{constructor(e={}){super(),this._binaryType=e.binaryType||Vz[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Xz]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=rc,this._loop=!1}_write(e,r,n){if(this._opcode===8&&this._state==rc)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Pm(n.buffer,n.byteOffset+e,n.length-e),new Pm(n.buffer,n.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=r.length-e;e>=n.length?r.set(this._buffers.shift(),i):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new Pm(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case rc:r=this.getInfo();break;case TT:r=this.getPayloadLength16();break;case MT:r=this.getPayloadLength64();break;case RT:this.getMask();break;case N_:r=this.getData(e);break;case kT:this._loop=!1;return;default:this._loop=!1,Qz(()=>{this._state=rc,this.startLoop(e)});return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}let e=this.consume(2);if(e[0]&48)return this._loop=!1,Nt(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");let r=(e[0]&64)===64;if(r&&!this._extensions[CT.extensionName])return this._loop=!1,Nt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,Nt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,Nt(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,Nt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,Nt(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,Nt(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,Nt(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,Nt(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,Nt(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,Nt(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=TT;else if(this._payloadLength===127)this._state=MT;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}let e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,53-32)-1?(this._loop=!1,Nt(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,Nt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=RT:this._state=N_}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=N_}getData(e){let r=DT;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&zz(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=kT,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[CT.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return r(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(Nt(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(o)}let s=this.dataMessage();if(s)return r(s);this.startLoop(r)})}dataMessage(){if(this._fin){let e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=O_(r,e):this._binaryType==="arraybuffer"?n=Kz(O_(r,e)):n=r,this.emit("message",n,!0)}else{let n=O_(r,e);if(!this._skipUTF8Validation&&!$T(n))return this._loop=!1,Nt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=B_}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,DT),this.end(),this._state=rc;else{let r=e.readUInt16BE(0);if(!Jz(r))return Nt(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");let n=new Pm(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!$T(n))return Nt(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end(),this._state=rc}else this._opcode===9?(this.emit("ping",e),this._state=B_):(this.emit("pong",e),this._state=B_)}};OT.exports=F_;function Nt(t,e,r,n,i){let o=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(o,Nt),o.code=i,o[Gz]=n,o}function Zz(t){Yz.then(t).catch(tJ)}function eJ(t){throw t}function tJ(t){process.nextTick(eJ,t)}});var W_=y((cye,FT)=>{"use strict";var{Duplex:uye}=v("stream"),{randomFillSync:rJ}=v("crypto"),NT=Lp(),{EMPTY_BUFFER:nJ}=Ko(),{isValidStatusCode:iJ}=xp(),{mask:BT,toBuffer:nc}=Sp(),Tn=Symbol("kByteLength"),oJ=Buffer.alloc(4),j_=class t{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,i=!1,o=2,s=!1;r.mask&&(n=r.maskBuffer||oJ,r.generateMask?r.generateMask(n):rJ(n,0,4),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!r.mask||s)&&r[Tn]!==void 0?a=r[Tn]:(e=Buffer.from(e),a=e.length):(a=e.length,i=r.mask&&r.readOnly&&!s);let u=a;a>=65536?(o+=8,u=127):a>125&&(o+=2,u=126);let c=Buffer.allocUnsafe(i?a+o:o);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=u,u===126?c.writeUInt16BE(a,2):u===127&&(c[2]=c[3]=0,c.writeUIntBE(a,4,6)),r.mask?(c[1]|=128,c[o-4]=n[0],c[o-3]=n[1],c[o-2]=n[2],c[o-1]=n[3],s?[c,e]:i?(BT(e,n,c,o,a),[c]):(BT(e,n,e,0,a),[c,e])):[c,e]}close(e,r,n,i){let o;if(e===void 0)o=nJ;else{if(typeof e!="number"||!iJ(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof r=="string"?o.write(r,2):o.set(r,2)}}let s={[Tn]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(t.frame(o,s),i)}ping(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=nc(e),i=e.length,o=nc.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Tn]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}pong(e,r,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=nc(e),i=e.length,o=nc.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Tn]:i,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(t.frame(e,s),n)}send(e,r,n){let i=this._extensions[NT.extensionName],o=r.binary?2:1,s=r.compress,a,u;if(typeof e=="string"?(a=Buffer.byteLength(e),u=!1):(e=nc(e),a=e.length,u=nc.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),r.fin&&(this._firstFragment=!0),i){let c={[Tn]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:u,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,c,n]):this.dispatch(e,this._compress,c,n)}else this.sendFrame(t.frame(e,{[Tn]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:u,rsv1:!1}),n)}dispatch(e,r,n,i){if(!r){this.sendFrame(t.frame(e,n),i);return}let o=this._extensions[NT.extensionName];this._bufferedBytes+=n[Tn],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let u=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(u);for(let c=0;c<this._queue.length;c++){let l=this._queue[c],p=l[l.length-1];typeof p=="function"&&p(u)}return}this._bufferedBytes-=n[Tn],this._deflating=!1,n.readOnly=!1,this.sendFrame(t.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Tn],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Tn],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};FT.exports=j_});var zT=y((lye,KT)=>{"use strict";var{kForOnEventAttribute:Cp,kListener:q_}=Ko(),UT=Symbol("kCode"),jT=Symbol("kData"),WT=Symbol("kError"),qT=Symbol("kMessage"),VT=Symbol("kReason"),ic=Symbol("kTarget"),GT=Symbol("kType"),XT=Symbol("kWasClean"),Zi=class{constructor(e){this[ic]=null,this[GT]=e}get target(){return this[ic]}get type(){return this[GT]}};Object.defineProperty(Zi.prototype,"target",{enumerable:!0});Object.defineProperty(Zi.prototype,"type",{enumerable:!0});var ua=class extends Zi{constructor(e,r={}){super(e),this[UT]=r.code===void 0?0:r.code,this[VT]=r.reason===void 0?"":r.reason,this[XT]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[UT]}get reason(){return this[VT]}get wasClean(){return this[XT]}};Object.defineProperty(ua.prototype,"code",{enumerable:!0});Object.defineProperty(ua.prototype,"reason",{enumerable:!0});Object.defineProperty(ua.prototype,"wasClean",{enumerable:!0});var oc=class extends Zi{constructor(e,r={}){super(e),this[WT]=r.error===void 0?null:r.error,this[qT]=r.message===void 0?"":r.message}get error(){return this[WT]}get message(){return this[qT]}};Object.defineProperty(oc.prototype,"error",{enumerable:!0});Object.defineProperty(oc.prototype,"message",{enumerable:!0});var Dp=class extends Zi{constructor(e,r={}){super(e),this[jT]=r.data===void 0?null:r.data}get data(){return this[jT]}};Object.defineProperty(Dp.prototype,"data",{enumerable:!0});var sJ={addEventListener(t,e,r={}){for(let i of this.listeners(t))if(!r[Cp]&&i[q_]===e&&!i[Cp])return;let n;if(t==="message")n=function(o,s){let a=new Dp("message",{data:s?o:o.toString()});a[ic]=this,Lm(e,this,a)};else if(t==="close")n=function(o,s){let a=new ua("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[ic]=this,Lm(e,this,a)};else if(t==="error")n=function(o){let s=new oc("error",{error:o,message:o.message});s[ic]=this,Lm(e,this,s)};else if(t==="open")n=function(){let o=new Zi("open");o[ic]=this,Lm(e,this,o)};else return;n[Cp]=!!r[Cp],n[q_]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[q_]===e&&!r[Cp]){this.removeListener(t,r);break}}};KT.exports={CloseEvent:ua,ErrorEvent:oc,Event:Zi,EventTarget:sJ,MessageEvent:Dp};function Lm(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var V_=y((pye,JT)=>{"use strict";var{tokenChars:$p}=xp();function Si(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function aJ(t){let e=Object.create(null),r=Object.create(null),n=!1,i=!1,o=!1,s,a,u=-1,c=-1,l=-1,p=0;for(;p<t.length;p++)if(c=t.charCodeAt(p),s===void 0)if(l===-1&&$p[c]===1)u===-1&&(u=p);else if(p!==0&&(c===32||c===9))l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(u,l);c===44?(Si(e,m,r),r=Object.create(null)):s=m,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&$p[c]===1)u===-1&&(u=p);else if(c===32||c===9)l===-1&&u!==-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Si(r,t.slice(u,l),!0),c===44&&(Si(e,s,r),r=Object.create(null),s=void 0),u=l=-1}else if(c===61&&u!==-1&&l===-1)a=t.slice(u,p),u=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(i){if($p[c]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);u===-1?u=p:n||(n=!0),i=!1}else if(o)if($p[c]===1)u===-1&&(u=p);else if(c===34&&u!==-1)o=!1,l=p;else if(c===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(c===34&&t.charCodeAt(p-1)===61)o=!0;else if(l===-1&&$p[c]===1)u===-1&&(u=p);else if(u!==-1&&(c===32||c===9))l===-1&&(l=p);else if(c===59||c===44){if(u===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let m=t.slice(u,l);n&&(m=m.replace(/\\/g,""),n=!1),Si(r,a,m),c===44&&(Si(e,s,r),r=Object.create(null),s=void 0),a=void 0,u=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(u===-1||o||c===32||c===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let f=t.slice(u,l);return s===void 0?Si(e,f,r):(a===void 0?Si(r,f,!0):n?Si(r,a,f.replace(/\\/g,"")):Si(r,a,f),Si(e,s,r)),e}function uJ(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}JT.exports={format:uJ,parse:aJ}});var J_=y((hye,aM)=>{"use strict";var cJ=v("events"),lJ=v("https"),pJ=v("http"),ZT=v("net"),fJ=v("tls"),{randomBytes:dJ,createHash:hJ}=v("crypto"),{Duplex:fye,Readable:dye}=v("stream"),{URL:G_}=v("url"),Jo=Lp(),mJ=U_(),HJ=W_(),{BINARY_TYPES:YT,EMPTY_BUFFER:xm,GUID:gJ,kForOnEventAttribute:X_,kListener:yJ,kStatusCode:bJ,kWebSocket:or,NOOP:eM}=Ko(),{EventTarget:{addEventListener:vJ,removeEventListener:_J}}=zT(),{format:wJ,parse:IJ}=V_(),{toBuffer:AJ}=Sp(),SJ=30*1e3,tM=Symbol("kAborted"),K_=[8,13],eo=["CONNECTING","OPEN","CLOSING","CLOSED"],EJ=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,mt=class t extends cJ{constructor(e,r,n){super(),this._binaryType=YT[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=xm,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),rM(this,e,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){YT.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){let i=new mJ({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new HJ(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[or]=this,e[or]=this,i.on("conclude",xJ),i.on("drain",CJ),i.on("error",DJ),i.on("message",$J),i.on("ping",TJ),i.on("pong",MJ),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",iM),e.on("data",Dm),e.on("end",oM),e.on("error",sM),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Jo.extensionName]&&this._extensions[Jo.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let n="WebSocket was closed before the connection was established";Nr(this,this._req,n);return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),SJ)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){z_(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||xm,r,n)}pong(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){z_(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||xm,r,n)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){z_(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Jo.extensionName]||(i.compress=!1),this._sender.send(e||xm,i,n)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){let e="WebSocket was closed before the connection was established";Nr(this,this._req,e);return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(mt,"CONNECTING",{enumerable:!0,value:eo.indexOf("CONNECTING")});Object.defineProperty(mt.prototype,"CONNECTING",{enumerable:!0,value:eo.indexOf("CONNECTING")});Object.defineProperty(mt,"OPEN",{enumerable:!0,value:eo.indexOf("OPEN")});Object.defineProperty(mt.prototype,"OPEN",{enumerable:!0,value:eo.indexOf("OPEN")});Object.defineProperty(mt,"CLOSING",{enumerable:!0,value:eo.indexOf("CLOSING")});Object.defineProperty(mt.prototype,"CLOSING",{enumerable:!0,value:eo.indexOf("CLOSING")});Object.defineProperty(mt,"CLOSED",{enumerable:!0,value:eo.indexOf("CLOSED")});Object.defineProperty(mt.prototype,"CLOSED",{enumerable:!0,value:eo.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(mt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(mt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[X_])return e[yJ];return null},set(e){for(let r of this.listeners(t))if(r[X_]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[X_]:!0})}})});mt.prototype.addEventListener=vJ;mt.prototype.removeEventListener=_J;aM.exports=mt;function rM(t,e,r,n){let i={protocolVersion:K_[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!K_.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${K_.join(", ")})`);let o;if(e instanceof G_)o=e;else try{o=new G_(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),t._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",u;if(o.protocol!=="ws:"&&!s&&!a?u=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?u="The URL's pathname is empty":o.hash&&(u="The URL contains a fragment identifier"),u){let g=new SyntaxError(u);if(t._redirects===0)throw g;Cm(t,g);return}let c=s?443:80,l=dJ(16).toString("base64"),p=s?lJ.request:pJ.request,f=new Set,m;if(i.createConnection=s?LJ:PJ,i.defaultPort=i.defaultPort||c,i.port=o.port||c,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(m=new Jo(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=wJ({[Jo.extensionName]:m.offer()})),r.length){for(let g of r){if(typeof g!="string"||!EJ.test(g)||f.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");f.add(g)}i.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let g=i.path.split(":");i.socketPath=g[0],i.path=g[1]}let h;if(i.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?i.socketPath:o.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[b,A]of Object.entries(g))n.headers[b.toLowerCase()]=A}else if(t.listenerCount("redirect")===0){let g=a?t._originalIpc?i.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:o.host===t._originalHostOrSocketPath;(!g||t._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,g||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=t._req=p(i),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=p(i);i.timeout&&h.on("timeout",()=>{Nr(t,h,"Opening handshake has timed out")}),h.on("error",g=>{h===null||h[tM]||(h=t._req=null,Cm(t,g))}),h.on("response",g=>{let b=g.headers.location,A=g.statusCode;if(b&&i.followRedirects&&A>=300&&A<400){if(++t._redirects>i.maxRedirects){Nr(t,h,"Maximum redirects exceeded");return}h.abort();let D;try{D=new G_(b,e)}catch{let $=new SyntaxError(`Invalid URL: ${b}`);Cm(t,$);return}rM(t,D,r,n)}else t.emit("unexpected-response",h,g)||Nr(t,h,`Unexpected server response: ${g.statusCode}`)}),h.on("upgrade",(g,b,A)=>{if(t.emit("upgrade",g),t.readyState!==mt.CONNECTING)return;if(h=t._req=null,g.headers.upgrade.toLowerCase()!=="websocket"){Nr(t,b,"Invalid Upgrade header");return}let D=hJ("sha1").update(l+gJ).digest("base64");if(g.headers["sec-websocket-accept"]!==D){Nr(t,b,"Invalid Sec-WebSocket-Accept header");return}let U=g.headers["sec-websocket-protocol"],$;if(U!==void 0?f.size?f.has(U)||($="Server sent an invalid subprotocol"):$="Server sent a subprotocol but none was requested":f.size&&($="Server sent no subprotocol"),$){Nr(t,b,$);return}U&&(t._protocol=U);let W=g.headers["sec-websocket-extensions"];if(W!==void 0){if(!m){Nr(t,b,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let z;try{z=IJ(W)}catch{Nr(t,b,"Invalid Sec-WebSocket-Extensions header");return}let X=Object.keys(z);if(X.length!==1||X[0]!==Jo.extensionName){Nr(t,b,"Server indicated an extension that was not requested");return}try{m.accept(z[Jo.extensionName])}catch{Nr(t,b,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Jo.extensionName]=m}t.setSocket(b,A,{generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,t):h.end()}function Cm(t,e){t._readyState=mt.CLOSING,t.emit("error",e),t.emitClose()}function PJ(t){return t.path=t.socketPath,ZT.connect(t)}function LJ(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=ZT.isIP(t.host)?"":t.host),fJ.connect(t)}function Nr(t,e,r){t._readyState=mt.CLOSING;let n=new Error(r);Error.captureStackTrace(n,Nr),e.setHeader?(e[tM]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Cm,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function z_(t,e,r){if(e){let n=AJ(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){let n=new Error(`WebSocket is not open: readyState ${t.readyState} (${eo[t.readyState]})`);process.nextTick(r,n)}}function xJ(t,e){let r=this[or];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[or]!==void 0&&(r._socket.removeListener("data",Dm),process.nextTick(nM,r._socket),t===1005?r.close():r.close(t,e))}function CJ(){let t=this[or];t.isPaused||t._socket.resume()}function DJ(t){let e=this[or];e._socket[or]!==void 0&&(e._socket.removeListener("data",Dm),process.nextTick(nM,e._socket),e.close(t[bJ])),e.emit("error",t)}function QT(){this[or].emitClose()}function $J(t,e){this[or].emit("message",t,e)}function TJ(t){let e=this[or];e.pong(t,!e._isServer,eM),e.emit("ping",t)}function MJ(t){this[or].emit("pong",t)}function nM(t){t.resume()}function iM(){let t=this[or];this.removeListener("close",iM),this.removeListener("data",Dm),this.removeListener("end",oM),t._readyState=mt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[or]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",QT),t._receiver.on("finish",QT))}function Dm(t){this[or]._receiver.write(t)||this.pause()}function oM(){let t=this[or];t._readyState=mt.CLOSING,t._receiver.end(),this.end()}function sM(){let t=this[or];this.removeListener("error",sM),this.on("error",eM),t&&(t._readyState=mt.CLOSING,this.destroy())}});var cM=y((mye,uM)=>{"use strict";var{tokenChars:RJ}=xp();function kJ(t){let e=new Set,r=-1,n=-1,i=0;for(i;i<t.length;i++){let s=t.charCodeAt(i);if(n===-1&&RJ[s]===1)r===-1&&(r=i);else if(i!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=i);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=t.slice(r,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}uM.exports={parse:kJ}});var HM=y((gye,mM)=>{"use strict";var OJ=v("events"),$m=v("http"),{Duplex:Hye}=v("stream"),{createHash:NJ}=v("crypto"),lM=V_(),ca=Lp(),BJ=cM(),FJ=J_(),{GUID:UJ,kWebSocket:jJ}=Ko(),WJ=/^[+/0-9A-Za-z]{22}==$/,pM=0,fM=1,hM=2,Y_=class extends OJ{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:FJ,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=$m.createServer((n,i)=>{let o=$m.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=qJ(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=pM}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===hM){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(Tp,this);return}if(e&&this.once("close",e),this._state!==fM)if(this._state=fM,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(Tp,this):process.nextTick(Tp,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{Tp(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,i){r.on("error",dM);let o=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){la(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){la(this,e,r,400,"Invalid Upgrade header");return}if(!o||!WJ.test(o)){la(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){la(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){Mp(r,400);return}let a=e.headers["sec-websocket-protocol"],u=new Set;if(a!==void 0)try{u=BJ.parse(a)}catch{la(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let c=e.headers["sec-websocket-extensions"],l={};if(this.options.perMessageDeflate&&c!==void 0){let p=new ca(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=lM.parse(c);f[ca.extensionName]&&(p.accept(f[ca.extensionName]),l[ca.extensionName]=p)}catch{la(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let p={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(f,m,h,g)=>{if(!f)return Mp(r,m||401,h,g);this.completeUpgrade(l,o,u,e,r,n,i)});return}if(!this.options.verifyClient(p))return Mp(r,401)}this.completeUpgrade(l,o,u,e,r,n,i)}completeUpgrade(e,r,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[jJ])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>pM)return Mp(o,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${NJ("sha1").update(r+UJ).digest("base64")}`],l=new this.options.WebSocket(null);if(n.size){let p=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;p&&(c.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[ca.extensionName]){let p=e[ca.extensionName].params,f=lM.format({[ca.extensionName]:[p]});c.push(`Sec-WebSocket-Extensions: ${f}`),l._extensions=e}this.emit("headers",c,i),o.write(c.concat(`\r
`).join(`\r
`)),o.removeListener("error",dM),l.setSocket(o,s,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(Tp,this)})),a(l,i)}};mM.exports=Y_;function qJ(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let n of Object.keys(e))t.removeListener(n,e[n])}}function Tp(t){t._state=hM,t.emit("close")}function dM(){this.destroy()}function Mp(t,e,r,n){r=r||$m.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${$m.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+r)}function la(t,e,r,n,i){if(t.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,la),t.emit("wsClientError",o,r,e)}else Mp(r,n,i)}});var xM=y((Qye,LM)=>{"use strict";LM.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var DM=y((Zye,CM)=>{CM.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var MM=y((ebe,TM)=>{"use strict";var ZJ=DM(),eY=Array.prototype.concat,tY=Array.prototype.slice,$M=TM.exports=function(e){for(var r=[],n=0,i=e.length;n<i;n++){var o=e[n];ZJ(o)?r=eY.call(r,tY.call(o)):r.push(o)}return r};$M.wrap=function(t){return function(){return t($M(arguments))}}});var NM=y((tbe,OM)=>{var kp=xM(),Op=MM(),RM=Object.hasOwnProperty,kM={};for(Nm in kp)RM.call(kp,Nm)&&(kM[kp[Nm]]=Nm);var Nm,Br=OM.exports={to:{},get:{}};Br.get=function(t){var e=t.substring(0,3).toLowerCase(),r,n;switch(e){case"hsl":r=Br.get.hsl(t),n="hsl";break;case"hwb":r=Br.get.hwb(t),n="hwb";break;default:r=Br.get.rgb(t),n="rgb";break}return r?{model:n,value:r}:null};Br.get.rgb=function(t){if(!t)return null;var e=/^#([a-f0-9]{3,4})$/i,r=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,u,c;if(a=t.match(r)){for(c=a[2],a=a[1],u=0;u<3;u++){var l=u*2;s[u]=parseInt(a.slice(l,l+2),16)}c&&(s[3]=parseInt(c,16)/255)}else if(a=t.match(e)){for(a=a[1],c=a[3],u=0;u<3;u++)s[u]=parseInt(a[u]+a[u],16);c&&(s[3]=parseInt(c+c,16)/255)}else if(a=t.match(n)){for(u=0;u<3;u++)s[u]=parseInt(a[u+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=t.match(i)){for(u=0;u<3;u++)s[u]=Math.round(parseFloat(a[u+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=t.match(o))?a[1]==="transparent"?[0,0,0,0]:RM.call(kp,a[1])?(s=kp[a[1]],s[3]=1,s):null:null;for(u=0;u<3;u++)s[u]=Yo(s[u],0,255);return s[3]=Yo(s[3],0,1),s};Br.get.hsl=function(t){if(!t)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=Yo(parseFloat(r[2]),0,100),s=Yo(parseFloat(r[3]),0,100),a=Yo(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Br.get.hwb=function(t){if(!t)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,r=t.match(e);if(r){var n=parseFloat(r[4]),i=(parseFloat(r[1])%360+360)%360,o=Yo(parseFloat(r[2]),0,100),s=Yo(parseFloat(r[3]),0,100),a=Yo(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Br.to.hex=function(){var t=Op(arguments);return"#"+Bm(t[0])+Bm(t[1])+Bm(t[2])+(t[3]<1?Bm(Math.round(t[3]*255)):"")};Br.to.rgb=function(){var t=Op(arguments);return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};Br.to.rgb.percent=function(){var t=Op(arguments),e=Math.round(t[0]/255*100),r=Math.round(t[1]/255*100),n=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+r+"%, "+n+"%)":"rgba("+e+"%, "+r+"%, "+n+"%, "+t[3]+")"};Br.to.hsl=function(){var t=Op(arguments);return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};Br.to.hwb=function(){var t=Op(arguments),e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};Br.to.keyword=function(t){return kM[t.slice(0,3)]};function Yo(t,e,r){return Math.min(Math.max(e,t),r)}function Bm(t){var e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var FM=y((rbe,BM)=>{"use strict";BM.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var rw=y((nbe,jM)=>{var Np=FM(),UM={};for(let t of Object.keys(Np))UM[Np[t]]=t;var le={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};jM.exports=le;for(let t of Object.keys(le)){if(!("channels"in le[t]))throw new Error("missing channels property: "+t);if(!("labels"in le[t]))throw new Error("missing channel labels property: "+t);if(le[t].labels.length!==le[t].channels)throw new Error("channel and label counts mismatch: "+t);let{channels:e,labels:r}=le[t];delete le[t].channels,delete le[t].labels,Object.defineProperty(le[t],"channels",{value:e}),Object.defineProperty(le[t],"labels",{value:r})}le.rgb.hsl=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),o=Math.max(e,r,n),s=o-i,a,u;o===i?a=0:e===o?a=(r-n)/s:r===o?a=2+(n-e)/s:n===o&&(a=4+(e-r)/s),a=Math.min(a*60,360),a<0&&(a+=360);let c=(i+o)/2;return o===i?u=0:c<=.5?u=s/(o+i):u=s/(2-o-i),[a,u*100,c*100]};le.rgb.hsv=function(t){let e,r,n,i,o,s=t[0]/255,a=t[1]/255,u=t[2]/255,c=Math.max(s,a,u),l=c-Math.min(s,a,u),p=function(f){return(c-f)/6/l+1/2};return l===0?(i=0,o=0):(o=l/c,e=p(s),r=p(a),n=p(u),s===c?i=n-r:a===c?i=1/3+e-n:u===c&&(i=2/3+r-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,c*100]};le.rgb.hwb=function(t){let e=t[0],r=t[1],n=t[2],i=le.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[i,o*100,n*100]};le.rgb.cmyk=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(1-e,1-r,1-n),o=(1-e-i)/(1-i)||0,s=(1-r-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function rY(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}le.rgb.keyword=function(t){let e=UM[t];if(e)return e;let r=1/0,n;for(let i of Object.keys(Np)){let o=Np[i],s=rY(t,o);s<r&&(r=s,n=i)}return n};le.keyword.rgb=function(t){return Np[t]};le.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+r*.3576+n*.1805,o=e*.2126+r*.7152+n*.0722,s=e*.0193+r*.1192+n*.9505;return[i*100,o*100,s*100]};le.rgb.lab=function(t){let e=le.rgb.xyz(t),r=e[0],n=e[1],i=e[2];r/=95.047,n/=100,i/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(r-n),a=200*(n-i);return[o,s,a]};le.hsl.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i,o,s;if(r===0)return s=n*255,[s,s,s];n<.5?i=n*(1+r):i=n+r-n*r;let a=2*n-i,u=[0,0,0];for(let c=0;c<3;c++)o=e+1/3*-(c-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,u[c]=s*255;return u};le.hsl.hsv=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=r,o=Math.max(n,.01);n*=2,r*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+r)/2,a=n===0?2*i/(o+i):2*r/(n+r);return[e,a*100,s*100]};le.hsv.rgb=function(t){let e=t[0]/60,r=t[1]/100,n=t[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-r),a=255*n*(1-r*o),u=255*n*(1-r*(1-o));switch(n*=255,i){case 0:return[n,u,s];case 1:return[a,n,s];case 2:return[s,n,u];case 3:return[s,a,n];case 4:return[u,s,n];case 5:return[n,s,a]}};le.hsv.hsl=function(t){let e=t[0],r=t[1]/100,n=t[2]/100,i=Math.max(n,.01),o,s;s=(2-r)*n;let a=(2-r)*i;return o=r*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};le.hwb.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100,i=r+n,o;i>1&&(r/=i,n/=i);let s=Math.floor(6*e),a=1-n;o=6*e-s,s&1&&(o=1-o);let u=r+o*(a-r),c,l,p;switch(s){default:case 6:case 0:c=a,l=u,p=r;break;case 1:c=u,l=a,p=r;break;case 2:c=r,l=a,p=u;break;case 3:c=r,l=u,p=a;break;case 4:c=u,l=r,p=a;break;case 5:c=a,l=r,p=u;break}return[c*255,l*255,p*255]};le.cmyk.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i=t[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,r*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};le.xyz.rgb=function(t){let e=t[0]/100,r=t[1]/100,n=t[2]/100,i,o,s;return i=e*3.2406+r*-1.5372+n*-.4986,o=e*-.9689+r*1.8758+n*.0415,s=e*.0557+r*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};le.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*r-16,o=500*(e-r),s=200*(r-n);return[i,o,s]};le.lab.xyz=function(t){let e=t[0],r=t[1],n=t[2],i,o,s;o=(e+16)/116,i=r/500+o,s=o-n/200;let a=o**3,u=i**3,c=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,s=c>.008856?c:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};le.lab.lch=function(t){let e=t[0],r=t[1],n=t[2],i;i=Math.atan2(n,r)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(r*r+n*n);return[e,s,i]};le.lch.lab=function(t){let e=t[0],r=t[1],i=t[2]/360*2*Math.PI,o=r*Math.cos(i),s=r*Math.sin(i);return[e,o,s]};le.rgb.ansi16=function(t,e=null){let[r,n,i]=t,o=e===null?le.rgb.hsv(t)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return o===2&&(s+=60),s};le.hsv.ansi16=function(t){return le.rgb.ansi16(le.hsv.rgb(t),t[2])};le.rgb.ansi256=function(t){let e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)};le.ansi16.rgb=function(t){let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let r=(~~(t>50)+1)*.5,n=(e&1)*r*255,i=(e>>1&1)*r*255,o=(e>>2&1)*r*255;return[n,i,o]};le.ansi256.rgb=function(t){if(t>=232){let o=(t-232)*10+8;return[o,o,o]}t-=16;let e,r=Math.floor(t/36)/5*255,n=Math.floor((e=t%36)/6)/5*255,i=e%6/5*255;return[r,n,i]};le.rgb.hex=function(t){let r=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".substring(r.length)+r};le.hex.rgb=function(t){let e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];e[0].length===3&&(r=r.split("").map(a=>a+a).join(""));let n=parseInt(r,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};le.rgb.hcg=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(Math.max(e,r),n),o=Math.min(Math.min(e,r),n),s=i-o,a,u;return s<1?a=o/(1-s):a=0,s<=0?u=0:i===e?u=(r-n)/s%6:i===r?u=2+(n-e)/s:u=4+(e-r)/s,u/=6,u%=1,[u*360,s*100,a*100]};le.hsl.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r),i=0;return n<1&&(i=(r-.5*n)/(1-n)),[t[0],n*100,i*100]};le.hsv.hcg=function(t){let e=t[1]/100,r=t[2]/100,n=e*r,i=0;return n<1&&(i=(r-n)/(1-n)),[t[0],n*100,i*100]};le.hcg.rgb=function(t){let e=t[0]/360,r=t[1]/100,n=t[2]/100;if(r===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,s=o%1,a=1-s,u=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return u=(1-r)*n,[(r*i[0]+u)*255,(r*i[1]+u)*255,(r*i[2]+u)*255]};le.hcg.hsv=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e),i=0;return n>0&&(i=e/n),[t[0],i*100,n*100]};le.hcg.hsl=function(t){let e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],i*100,n*100]};le.hcg.hwb=function(t){let e=t[1]/100,r=t[2]/100,n=e+r*(1-e);return[t[0],(n-e)*100,(1-n)*100]};le.hwb.hcg=function(t){let e=t[1]/100,n=1-t[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[t[0],i*100,o*100]};le.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};le.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};le.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};le.gray.hsl=function(t){return[0,0,t[0]]};le.gray.hsv=le.gray.hsl;le.gray.hwb=function(t){return[0,100,t[0]]};le.gray.cmyk=function(t){return[0,0,0,t[0]]};le.gray.lab=function(t){return[t[0],0,0]};le.gray.hex=function(t){let e=Math.round(t[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};le.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});var qM=y((ibe,WM)=>{var Fm=rw();function nY(){let t={},e=Object.keys(Fm);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}function iY(t){let e=nY(),r=[t];for(e[t].distance=0;r.length;){let n=r.pop(),i=Object.keys(Fm[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],u=e[a];u.distance===-1&&(u.distance=e[n].distance+1,u.parent=n,r.unshift(a))}}return e}function oY(t,e){return function(r){return e(t(r))}}function sY(t,e){let r=[e[t].parent,t],n=Fm[e[t].parent][t],i=e[t].parent;for(;e[i].parent;)r.unshift(e[i].parent),n=oY(Fm[e[i].parent][i],n),i=e[i].parent;return n.conversion=r,n}WM.exports=function(t){let e=iY(t),r={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let s=n[o];e[s].parent!==null&&(r[s]=sY(s,e))}return r}});var GM=y((obe,VM)=>{var nw=rw(),aY=qM(),lc={},uY=Object.keys(nw);function cY(t){let e=function(...r){let n=r[0];return n==null?n:(n.length>1&&(r=n),t(r))};return"conversion"in t&&(e.conversion=t.conversion),e}function lY(t){let e=function(...r){let n=r[0];if(n==null)return n;n.length>1&&(r=n);let i=t(r);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in t&&(e.conversion=t.conversion),e}uY.forEach(t=>{lc[t]={},Object.defineProperty(lc[t],"channels",{value:nw[t].channels}),Object.defineProperty(lc[t],"labels",{value:nw[t].labels});let e=aY(t);Object.keys(e).forEach(n=>{let i=e[n];lc[t][n]=lY(i),lc[t][n].raw=cY(i)})});VM.exports=lc});var zM=y((sbe,KM)=>{var pc=NM(),Fr=GM(),XM=["keyword","gray","hex"],iw={};for(let t of Object.keys(Fr))iw[[...Fr[t].labels].sort().join("")]=t;var Um={};function Bt(t,e){if(!(this instanceof Bt))return new Bt(t,e);if(e&&e in XM&&(e=null),e&&!(e in Fr))throw new Error("Unknown model: "+e);let r,n;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof Bt)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){let i=pc.get(t);if(i===null)throw new Error("Unable to parse color from string: "+t);this.model=i.model,n=Fr[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(t.length>0){this.model=e||"rgb",n=Fr[this.model].channels;let i=Array.prototype.slice.call(t,0,n);this.color=ow(i,n),this.valpha=typeof t[n]=="number"?t[n]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(t);"alpha"in t&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);let o=i.sort().join("");if(!(o in iw))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=iw[o];let{labels:s}=Fr[this.model],a=[];for(r=0;r<s.length;r++)a.push(t[s[r]]);this.color=ow(a)}if(Um[this.model])for(n=Fr[this.model].channels,r=0;r<n;r++){let i=Um[this.model][r];i&&(this.color[r]=i(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Bt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in pc.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);let r=e.valpha===1?e.color:[...e.color,this.valpha];return pc.to[e.model](r)},percentString(t){let e=this.rgb().round(typeof t=="number"?t:1),r=e.valpha===1?e.color:[...e.color,this.valpha];return pc.to.rgb.percent(r)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let t={},{channels:e}=Fr[this.model],{labels:r}=Fr[this.model];for(let n=0;n<e;n++)t[r[n]]=this.color[n];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){let t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){let t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new Bt([...this.color.map(fY(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new Bt([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:ut("rgb",0,Pt(255)),green:ut("rgb",1,Pt(255)),blue:ut("rgb",2,Pt(255)),hue:ut(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:ut("hsl",1,Pt(100)),lightness:ut("hsl",2,Pt(100)),saturationv:ut("hsv",1,Pt(100)),value:ut("hsv",2,Pt(100)),chroma:ut("hcg",1,Pt(100)),gray:ut("hcg",2,Pt(100)),white:ut("hwb",1,Pt(100)),wblack:ut("hwb",2,Pt(100)),cyan:ut("cmyk",0,Pt(100)),magenta:ut("cmyk",1,Pt(100)),yellow:ut("cmyk",2,Pt(100)),black:ut("cmyk",3,Pt(100)),x:ut("xyz",0,Pt(95.047)),y:ut("xyz",1,Pt(100)),z:ut("xyz",2,Pt(108.833)),l:ut("lab",0,Pt(100)),a:ut("lab",1),b:ut("lab",2),keyword(t){return t!==void 0?new Bt(t):Fr[this.model].keyword(this.color)},hex(t){return t!==void 0?new Bt(t):pc.to.hex(this.rgb().round().color)},hexa(t){if(t!==void 0)return new Bt(t);let e=this.rgb().round().color,r=Math.round(this.valpha*255).toString(16).toUpperCase();return r.length===1&&(r="0"+r),pc.to.hex(e)+r},rgbNumber(){let t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){let t=this.rgb().color,e=[];for(let[r,n]of t.entries()){let i=n/255;e[r]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){let e=this.luminosity(),r=t.luminosity();return e>r?(e+.05)/(r+.05):(r+.05)/(e+.05)},level(t){let e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){let e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){let e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){let e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){let e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){let e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){let e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){let t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return Bt.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){let e=this.hsl(),r=e.color[0];return r=(r+t)%360,r=r<0?360+r:r,e.color[0]=r,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);let r=t.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=r.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,u=1-a;return Bt.rgb(a*r.red()+u*n.red(),a*r.green()+u*n.green(),a*r.blue()+u*n.blue(),r.alpha()*i+n.alpha()*(1-i))}};for(let t of Object.keys(Fr)){if(XM.includes(t))continue;let{channels:e}=Fr[t];Bt.prototype[t]=function(...r){return this.model===t?new Bt(this):r.length>0?new Bt(r,t):new Bt([...dY(Fr[this.model][t].raw(this.color)),this.valpha],t)},Bt[t]=function(...r){let n=r[0];return typeof n=="number"&&(n=ow(r,e)),new Bt(n,t)}}function pY(t,e){return Number(t.toFixed(e))}function fY(t){return function(e){return pY(e,t)}}function ut(t,e,r){t=Array.isArray(t)?t:[t];for(let n of t)(Um[n]||(Um[n]=[]))[e]=r;return t=t[0],function(n){let i;return n!==void 0?(r&&(n=r(n)),i=this[t](),i.color[e]=n,i):(i=this[t]().color[e],r&&(i=r(i)),i)}}function Pt(t){return function(e){return Math.max(0,Math.min(t,e))}}function dY(t){return Array.isArray(t)?t:[t]}function ow(t,e){for(let r=0;r<e;r++)typeof t[r]!="number"&&(t[r]=0);return t}KM.exports=Bt});var no=y(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.findWindowsCandidates=ar.sort=ar.preferredEdgePath=ar.preferredFirefoxPath=ar.preferredChromePath=ar.escapeRegexSpecialChars=ar.canAccess=void 0;var XY=v("path");async function zp({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}ar.canAccess=zp;var KY="/\\.?*()^${}|[]+";function zY(t,e){let r=KY.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}ar.escapeRegexSpecialChars=zY;async function JY(t,e){if(await zp(t,e.CHROME_PATH))return e.CHROME_PATH}ar.preferredChromePath=JY;async function YY(t,e){if(await zp(t,e.FIREFOX_PATH))return e.FIREFOX_PATH}ar.preferredFirefoxPath=YY;async function QY(t,e){if(await zp(t,e.EDGE_PATH))return e.EDGE_PATH}ar.preferredEdgePath=QY;function ZY(t,e){return[...t].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}ar.sort=ZY;async function e7(t,e,r){let n=[t.LOCALAPPDATA,t.PROGRAMFILES,t["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of r){let a=XY.win32.join(o,s.name);i.push(zp(e,a).then(u=>u?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}ar.findWindowsCandidates=e7});var vH=y(bH=>{"use strict";Object.defineProperty(bH,"__esModule",{value:!0});bH.DarwinFinderBase=void 0;var t7=v("path"),r7=v("fs"),Bw=no(),GR=/( \(0x[a-f0-9]+\))/,Fw=class{constructor(e=process.env,r=r7.promises,n=n){this.env=e,this.fs=r,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let r of this.wellKnownPaths)if(e(r)&&await(0,Bw.canAccess)(this.fs,r.path))return r;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,r,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${GR.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...r,...i.split(`
`).map(u=>u.trim().replace(GR,""))].filter(u=>!!u),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let u of o)for(let c of n){let l=t7.posix.join(u.trim(),c);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let r=this.env.HOME&&(0,Bw.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${r}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,Bw.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};bH.DarwinFinderBase=Fw});var XR=y(_H=>{"use strict";Object.defineProperty(_H,"__esModule",{value:!0});_H.DarwinChromeBrowserFinder=void 0;var n7=no(),i7=vH(),Uw=class extends i7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],r=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",r,e);return(0,n7.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};_H.DarwinChromeBrowserFinder=Uw});var KR=y(wH=>{"use strict";Object.defineProperty(wH,"__esModule",{value:!0});wH.DarwinEdgeBrowserFinder=void 0;var o7=no(),s7=vH(),jw=class extends s7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],r=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",r,e);return(0,o7.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};wH.DarwinEdgeBrowserFinder=jw});var zR=y(IH=>{"use strict";Object.defineProperty(IH,"__esModule",{value:!0});IH.DarwinFirefoxBrowserFinder=void 0;var a7=no(),u7=vH(),Ww=class extends u7.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],r=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",r,e);return(0,a7.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};IH.DarwinFirefoxBrowserFinder=Ww});var SH=y(AH=>{"use strict";Object.defineProperty(AH,"__esModule",{value:!0});AH.LinuxChromeBrowserFinder=void 0;var c7=v("path"),vc=no(),qw=v("child_process"),l7=v("os"),p7=v("fs"),JR=/\r?\n/,Vw=class{constructor(e=process.env,r=p7.promises){this.env=e,this.fs=r,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/google-chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,r=this.env[this.pathEnvironmentVar];r&&await(0,vc.canAccess)(this.fs,r)&&e.add(r),[c7.posix.join((0,l7.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,qw.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(JR)[0];await(0,vc.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=r?[{regex:new RegExp((0,vc.escapeRegexSpecialChars)(r)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,vc.sort)(e,o)}async findChromeExecutables(e){let r=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,vc.canAccess)(this.fs,e)){let o;try{o=(0,qw.execSync)(`grep -ER "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,qw.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(JR).map(a=>a.replace(r,"$1"));await Promise.all(s.map(async a=>{await(0,vc.canAccess)(this.fs,a)&&i.push(a)}))}return i}};AH.LinuxChromeBrowserFinder=Vw});var YR=y(EH=>{"use strict";Object.defineProperty(EH,"__esModule",{value:!0});EH.LinuxEdgeBrowserFinder=void 0;var f7=SH(),Gw=class extends f7.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};EH.LinuxEdgeBrowserFinder=Gw});var QR=y(PH=>{"use strict";Object.defineProperty(PH,"__esModule",{value:!0});PH.LinuxFirefoxBrowserFinder=void 0;var d7=SH(),Xw=class extends d7.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};PH.LinuxFirefoxBrowserFinder=Xw});var ek=y(LH=>{"use strict";Object.defineProperty(LH,"__esModule",{value:!0});LH.WindowsChromeBrowserFinder=void 0;var h7=v("path"),ZR=no(),m7=v("fs"),Kw=class{constructor(e=process.env,r=m7.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=h7.win32.sep,r=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,ZR.findWindowsCandidates)(this.env,this.fs,r),i=await(0,ZR.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};LH.WindowsChromeBrowserFinder=Kw});var rk=y(xH=>{"use strict";Object.defineProperty(xH,"__esModule",{value:!0});xH.WindowsEdgeBrowserFinder=void 0;var ur=v("path"),H7=v("fs"),tk=no(),zw=class{constructor(e=process.env,r=H7.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${ur.sep}Microsoft${ur.sep}Edge SxS${ur.sep}Application${ur.sep}msedge.exe`,type:"canary"},{name:`${ur.sep}Microsoft${ur.sep}Edge Dev${ur.sep}Application${ur.sep}msedge.exe`,type:"dev"},{name:`${ur.sep}Microsoft${ur.sep}Edge Beta${ur.sep}Application${ur.sep}msedge.exe`,type:"beta"},{name:`${ur.sep}Microsoft${ur.sep}Edge${ur.sep}Application${ur.sep}msedge.exe`,type:"stable"}],r=await(0,tk.findWindowsCandidates)(this.env,this.fs,e),n=await(0,tk.preferredEdgePath)(this.fs,this.env);return n&&r.unshift({path:n,quality:"custom"}),r}};xH.WindowsEdgeBrowserFinder=zw});var ik=y(CH=>{"use strict";Object.defineProperty(CH,"__esModule",{value:!0});CH.WindowsFirefoxBrowserFinder=void 0;var g7=v("path"),nk=no(),y7=v("fs"),Jw=class{constructor(e=process.env,r=y7.promises){this.env=e,this.fs=r}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=g7.win32.sep,r=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,nk.findWindowsCandidates)(this.env,this.fs,r),i=await(0,nk.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};CH.WindowsFirefoxBrowserFinder=Jw});var Yw=y(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.FirefoxBrowserFinder=Wr.EdgeBrowserFinder=Wr.ChromeBrowserFinder=Wr.isQuality=Wr.allQualities=void 0;var b7=XR(),v7=KR(),_7=zR(),w7=SH(),I7=YR(),A7=QR(),S7=ek(),E7=rk(),P7=ik(),L7={canary:null,stable:null,beta:null,dev:null,custom:null};Wr.allQualities=new Set(Object.keys(L7));var x7=t=>Wr.allQualities.has(t);Wr.isQuality=x7;Wr.ChromeBrowserFinder=process.platform==="win32"?S7.WindowsChromeBrowserFinder:process.platform==="darwin"?b7.DarwinChromeBrowserFinder:w7.LinuxChromeBrowserFinder;Wr.EdgeBrowserFinder=process.platform==="win32"?E7.WindowsEdgeBrowserFinder:process.platform==="darwin"?v7.DarwinEdgeBrowserFinder:I7.LinuxEdgeBrowserFinder;Wr.FirefoxBrowserFinder=process.platform==="win32"?P7.WindowsFirefoxBrowserFinder:process.platform==="darwin"?_7.DarwinFirefoxBrowserFinder:A7.LinuxFirefoxBrowserFinder});var lk=y(MH=>{"use strict";Object.defineProperty(MH,"__esModule",{value:!0});MH.dataUriToBuffer=void 0;function D7(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let o=0;o<t.length;o+=4){let s=e.indexOf(t.charAt(o)),a=e.indexOf(t.charAt(o+1)),u=t.charAt(o+2)==="="?0:e.indexOf(t.charAt(o+2)),c=t.charAt(o+3)==="="?0:e.indexOf(t.charAt(o+3)),l=s<<2|a>>4,p=(a&15)<<4|u>>2,f=(u&3)<<6|c;r.push(l),t.charAt(o+2)!=="="&&r.push(p),t.charAt(o+3)!=="="&&r.push(f)}let n=new ArrayBuffer(r.length);return new Uint8Array(n).set(r),n}function $7(t){let e=new ArrayBuffer(t.length),r=new Uint8Array(e);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return e}function T7(t){if(t=String(t),!/^data:/i.test(t))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');t=t.replace(/\r?\n/g,"");let e=t.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let r=t.substring(5,e).split(";"),n="",i=!1,o=r[0]||"text/plain",s=o;for(let c=1;c<r.length;c++)r[c]==="base64"?i=!0:r[c]&&(s+=`;${r[c]}`,r[c].indexOf("charset=")===0&&(n=r[c].substring(8)));!r[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let a=unescape(t.substring(e+1)),u=i?D7(a):$7(a);return{type:o,typeFull:s,charset:n,buffer:u}}MH.dataUriToBuffer=T7});var oo=y((io,RH)=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});var pk=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function M7(t){return pk.includes(t)}var R7=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...pk];function k7(t){return R7.includes(t)}var O7=["null","undefined","string","number","bigint","boolean","symbol"];function N7(t){return O7.includes(t)}function Ic(t){return e=>typeof e===t}var{toString:fk}=Object.prototype,Qp=t=>{let e=fk.call(t).slice(8,-1);if(/HTML\w+Element/.test(e)&&S.domElement(t))return"HTMLElement";if(k7(e))return e},qe=t=>e=>Qp(e)===t;function S(t){if(t===null)return"null";switch(typeof t){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(S.observable(t))return"Observable";if(S.array(t))return"Array";if(S.buffer(t))return"Buffer";let e=Qp(t);if(e)return e;if(t instanceof String||t instanceof Boolean||t instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}S.undefined=Ic("undefined");S.string=Ic("string");var B7=Ic("number");S.number=t=>B7(t)&&!S.nan(t);S.bigint=Ic("bigint");S.function_=Ic("function");S.null_=t=>t===null;S.class_=t=>S.function_(t)&&t.toString().startsWith("class ");S.boolean=t=>t===!0||t===!1;S.symbol=Ic("symbol");S.numericString=t=>S.string(t)&&!S.emptyStringOrWhitespace(t)&&!Number.isNaN(Number(t));S.array=(t,e)=>Array.isArray(t)?S.function_(e)?t.every(e):!0:!1;S.buffer=t=>{var e,r,n,i;return(i=(n=(r=(e=t)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.isBuffer)===null||n===void 0?void 0:n.call(r,t))!==null&&i!==void 0?i:!1};S.blob=t=>qe("Blob")(t);S.nullOrUndefined=t=>S.null_(t)||S.undefined(t);S.object=t=>!S.null_(t)&&(typeof t=="object"||S.function_(t));S.iterable=t=>{var e;return S.function_((e=t)===null||e===void 0?void 0:e[Symbol.iterator])};S.asyncIterable=t=>{var e;return S.function_((e=t)===null||e===void 0?void 0:e[Symbol.asyncIterator])};S.generator=t=>{var e,r;return S.iterable(t)&&S.function_((e=t)===null||e===void 0?void 0:e.next)&&S.function_((r=t)===null||r===void 0?void 0:r.throw)};S.asyncGenerator=t=>S.asyncIterable(t)&&S.function_(t.next)&&S.function_(t.throw);S.nativePromise=t=>qe("Promise")(t);var F7=t=>{var e,r;return S.function_((e=t)===null||e===void 0?void 0:e.then)&&S.function_((r=t)===null||r===void 0?void 0:r.catch)};S.promise=t=>S.nativePromise(t)||F7(t);S.generatorFunction=qe("GeneratorFunction");S.asyncGeneratorFunction=t=>Qp(t)==="AsyncGeneratorFunction";S.asyncFunction=t=>Qp(t)==="AsyncFunction";S.boundFunction=t=>S.function_(t)&&!t.hasOwnProperty("prototype");S.regExp=qe("RegExp");S.date=qe("Date");S.error=qe("Error");S.map=t=>qe("Map")(t);S.set=t=>qe("Set")(t);S.weakMap=t=>qe("WeakMap")(t);S.weakSet=t=>qe("WeakSet")(t);S.int8Array=qe("Int8Array");S.uint8Array=qe("Uint8Array");S.uint8ClampedArray=qe("Uint8ClampedArray");S.int16Array=qe("Int16Array");S.uint16Array=qe("Uint16Array");S.int32Array=qe("Int32Array");S.uint32Array=qe("Uint32Array");S.float32Array=qe("Float32Array");S.float64Array=qe("Float64Array");S.bigInt64Array=qe("BigInt64Array");S.bigUint64Array=qe("BigUint64Array");S.arrayBuffer=qe("ArrayBuffer");S.sharedArrayBuffer=qe("SharedArrayBuffer");S.dataView=qe("DataView");S.enumCase=(t,e)=>Object.values(e).includes(t);S.directInstanceOf=(t,e)=>Object.getPrototypeOf(t)===e.prototype;S.urlInstance=t=>qe("URL")(t);S.urlString=t=>{if(!S.string(t))return!1;try{return new URL(t),!0}catch{return!1}};S.truthy=t=>!!t;S.falsy=t=>!t;S.nan=t=>Number.isNaN(t);S.primitive=t=>S.null_(t)||N7(typeof t);S.integer=t=>Number.isInteger(t);S.safeInteger=t=>Number.isSafeInteger(t);S.plainObject=t=>{if(fk.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})};S.typedArray=t=>M7(Qp(t));var U7=t=>S.safeInteger(t)&&t>=0;S.arrayLike=t=>!S.nullOrUndefined(t)&&!S.function_(t)&&U7(t.length);S.inRange=(t,e)=>{if(S.number(e))return t>=Math.min(0,e)&&t<=Math.max(e,0);if(S.array(e)&&e.length===2)return t>=Math.min(...e)&&t<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var j7=1,W7=["innerHTML","ownerDocument","style","attributes","nodeValue"];S.domElement=t=>S.object(t)&&t.nodeType===j7&&S.string(t.nodeName)&&!S.plainObject(t)&&W7.every(e=>e in t);S.observable=t=>{var e,r,n,i;return t?t===((r=(e=t)[Symbol.observable])===null||r===void 0?void 0:r.call(e))||t===((i=(n=t)["@@observable"])===null||i===void 0?void 0:i.call(n)):!1};S.nodeStream=t=>S.object(t)&&S.function_(t.pipe)&&!S.observable(t);S.infinite=t=>t===1/0||t===-1/0;var dk=t=>e=>S.integer(e)&&Math.abs(e%2)===t;S.evenInteger=dk(0);S.oddInteger=dk(1);S.emptyArray=t=>S.array(t)&&t.length===0;S.nonEmptyArray=t=>S.array(t)&&t.length>0;S.emptyString=t=>S.string(t)&&t.length===0;var q7=t=>S.string(t)&&!/\S/.test(t);S.emptyStringOrWhitespace=t=>S.emptyString(t)||q7(t);S.nonEmptyString=t=>S.string(t)&&t.length>0;S.nonEmptyStringAndNotWhitespace=t=>S.string(t)&&!S.emptyStringOrWhitespace(t);S.emptyObject=t=>S.object(t)&&!S.map(t)&&!S.set(t)&&Object.keys(t).length===0;S.nonEmptyObject=t=>S.object(t)&&!S.map(t)&&!S.set(t)&&Object.keys(t).length>0;S.emptySet=t=>S.set(t)&&t.size===0;S.nonEmptySet=t=>S.set(t)&&t.size>0;S.emptyMap=t=>S.map(t)&&t.size===0;S.nonEmptyMap=t=>S.map(t)&&t.size>0;S.propertyKey=t=>S.any([S.string,S.number,S.symbol],t);S.formData=t=>qe("FormData")(t);S.urlSearchParams=t=>qe("URLSearchParams")(t);var hk=(t,e,r)=>{if(!S.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(r.length===0)throw new TypeError("Invalid number of values");return t.call(r,e)};S.any=(t,...e)=>(S.array(t)?t:[t]).some(n=>hk(Array.prototype.some,n,e));S.all=(t,...e)=>hk(Array.prototype.every,t,e);var Z=(t,e,r,n={})=>{if(!t){let{multipleValues:i}=n,o=i?`received values of types ${[...new Set(r.map(s=>`\`${S(s)}\``))].join(", ")}`:`received value of type \`${S(r)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${o}.`)}};io.assert={undefined:t=>Z(S.undefined(t),"undefined",t),string:t=>Z(S.string(t),"string",t),number:t=>Z(S.number(t),"number",t),bigint:t=>Z(S.bigint(t),"bigint",t),function_:t=>Z(S.function_(t),"Function",t),null_:t=>Z(S.null_(t),"null",t),class_:t=>Z(S.class_(t),"Class",t),boolean:t=>Z(S.boolean(t),"boolean",t),symbol:t=>Z(S.symbol(t),"symbol",t),numericString:t=>Z(S.numericString(t),"string with a number",t),array:(t,e)=>{Z(S.array(t),"Array",t),e&&t.forEach(e)},buffer:t=>Z(S.buffer(t),"Buffer",t),blob:t=>Z(S.blob(t),"Blob",t),nullOrUndefined:t=>Z(S.nullOrUndefined(t),"null or undefined",t),object:t=>Z(S.object(t),"Object",t),iterable:t=>Z(S.iterable(t),"Iterable",t),asyncIterable:t=>Z(S.asyncIterable(t),"AsyncIterable",t),generator:t=>Z(S.generator(t),"Generator",t),asyncGenerator:t=>Z(S.asyncGenerator(t),"AsyncGenerator",t),nativePromise:t=>Z(S.nativePromise(t),"native Promise",t),promise:t=>Z(S.promise(t),"Promise",t),generatorFunction:t=>Z(S.generatorFunction(t),"GeneratorFunction",t),asyncGeneratorFunction:t=>Z(S.asyncGeneratorFunction(t),"AsyncGeneratorFunction",t),asyncFunction:t=>Z(S.asyncFunction(t),"AsyncFunction",t),boundFunction:t=>Z(S.boundFunction(t),"Function",t),regExp:t=>Z(S.regExp(t),"RegExp",t),date:t=>Z(S.date(t),"Date",t),error:t=>Z(S.error(t),"Error",t),map:t=>Z(S.map(t),"Map",t),set:t=>Z(S.set(t),"Set",t),weakMap:t=>Z(S.weakMap(t),"WeakMap",t),weakSet:t=>Z(S.weakSet(t),"WeakSet",t),int8Array:t=>Z(S.int8Array(t),"Int8Array",t),uint8Array:t=>Z(S.uint8Array(t),"Uint8Array",t),uint8ClampedArray:t=>Z(S.uint8ClampedArray(t),"Uint8ClampedArray",t),int16Array:t=>Z(S.int16Array(t),"Int16Array",t),uint16Array:t=>Z(S.uint16Array(t),"Uint16Array",t),int32Array:t=>Z(S.int32Array(t),"Int32Array",t),uint32Array:t=>Z(S.uint32Array(t),"Uint32Array",t),float32Array:t=>Z(S.float32Array(t),"Float32Array",t),float64Array:t=>Z(S.float64Array(t),"Float64Array",t),bigInt64Array:t=>Z(S.bigInt64Array(t),"BigInt64Array",t),bigUint64Array:t=>Z(S.bigUint64Array(t),"BigUint64Array",t),arrayBuffer:t=>Z(S.arrayBuffer(t),"ArrayBuffer",t),sharedArrayBuffer:t=>Z(S.sharedArrayBuffer(t),"SharedArrayBuffer",t),dataView:t=>Z(S.dataView(t),"DataView",t),enumCase:(t,e)=>Z(S.enumCase(t,e),"EnumCase",t),urlInstance:t=>Z(S.urlInstance(t),"URL",t),urlString:t=>Z(S.urlString(t),"string with a URL",t),truthy:t=>Z(S.truthy(t),"truthy",t),falsy:t=>Z(S.falsy(t),"falsy",t),nan:t=>Z(S.nan(t),"NaN",t),primitive:t=>Z(S.primitive(t),"primitive",t),integer:t=>Z(S.integer(t),"integer",t),safeInteger:t=>Z(S.safeInteger(t),"integer",t),plainObject:t=>Z(S.plainObject(t),"plain object",t),typedArray:t=>Z(S.typedArray(t),"TypedArray",t),arrayLike:t=>Z(S.arrayLike(t),"array-like",t),domElement:t=>Z(S.domElement(t),"HTMLElement",t),observable:t=>Z(S.observable(t),"Observable",t),nodeStream:t=>Z(S.nodeStream(t),"Node.js Stream",t),infinite:t=>Z(S.infinite(t),"infinite number",t),emptyArray:t=>Z(S.emptyArray(t),"empty array",t),nonEmptyArray:t=>Z(S.nonEmptyArray(t),"non-empty array",t),emptyString:t=>Z(S.emptyString(t),"empty string",t),emptyStringOrWhitespace:t=>Z(S.emptyStringOrWhitespace(t),"empty string or whitespace",t),nonEmptyString:t=>Z(S.nonEmptyString(t),"non-empty string",t),nonEmptyStringAndNotWhitespace:t=>Z(S.nonEmptyStringAndNotWhitespace(t),"non-empty string and not whitespace",t),emptyObject:t=>Z(S.emptyObject(t),"empty object",t),nonEmptyObject:t=>Z(S.nonEmptyObject(t),"non-empty object",t),emptySet:t=>Z(S.emptySet(t),"empty set",t),nonEmptySet:t=>Z(S.nonEmptySet(t),"non-empty set",t),emptyMap:t=>Z(S.emptyMap(t),"empty map",t),nonEmptyMap:t=>Z(S.nonEmptyMap(t),"non-empty map",t),propertyKey:t=>Z(S.propertyKey(t),"PropertyKey",t),formData:t=>Z(S.formData(t),"FormData",t),urlSearchParams:t=>Z(S.urlSearchParams(t),"URLSearchParams",t),evenInteger:t=>Z(S.evenInteger(t),"even integer",t),oddInteger:t=>Z(S.oddInteger(t),"odd integer",t),directInstanceOf:(t,e)=>Z(S.directInstanceOf(t,e),"T",t),inRange:(t,e)=>Z(S.inRange(t,e),"in range",t),any:(t,...e)=>Z(S.any(t,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(t,...e)=>Z(S.all(t,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(S,{class:{value:S.class_},function:{value:S.function_},null:{value:S.null_}});Object.defineProperties(io.assert,{class:{value:io.assert.class_},function:{value:io.assert.function_},null:{value:io.assert.null_}});io.default=S;RH.exports=S;RH.exports.default=S;RH.exports.assert=io.assert});var mk=y((PAe,Zw)=>{"use strict";var kH=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},OH=class t{static fn(e){return(...r)=>new t((n,i,o)=>{r.push(o),e(...r).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((r,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!s.shouldReject)&&(this._isPending=!1,r(a))},o=a=>{this._isPending=!1,n(a)},s=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,o,s)})}then(e,r){return this._promise.then(e,r)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let r of this._cancelHandlers)r()}catch(r){this._reject(r);return}this._rejectOnCancel&&this._reject(new kH(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(OH.prototype,Promise.prototype);Zw.exports=OH;Zw.exports.CancelError=kH});var Hk=y((tI,rI)=>{"use strict";Object.defineProperty(tI,"__esModule",{value:!0});function V7(t){return t.encrypted}var eI=(t,e)=>{let r;typeof e=="function"?r={connect:e}:r=e;let n=typeof r.connect=="function",i=typeof r.secureConnect=="function",o=typeof r.close=="function",s=()=>{n&&r.connect(),V7(t)&&i&&(t.authorized?r.secureConnect():t.authorizationError||t.once("secureConnect",r.secureConnect)),o&&t.once("close",r.close)};t.writable&&!t.connecting?s():t.connecting?t.once("connect",s):t.destroyed&&o&&r.close(t._hadError)};tI.default=eI;rI.exports=eI;rI.exports.default=eI});var gk=y((iI,oI)=>{"use strict";Object.defineProperty(iI,"__esModule",{value:!0});var G7=Hk(),X7=v("util"),K7=Number(process.versions.node.split(".")[0]),nI=t=>{if(t.timings)return t.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};t.timings=e;let r=a=>{let u=a.emit.bind(a);a.emit=(c,...l)=>(c==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=u),u(c,...l))};r(t);let n=()=>{e.abort=Date.now(),(!e.response||K7>=13)&&(e.phases.total=Date.now()-e.start)};t.prependOnceListener("abort",n);let i=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,X7.types.isProxy(a))return;let u=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",u),G7.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",u),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};t.socket?i(t.socket):t.prependOnceListener("socket",i);let o=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(()=>typeof t.writableFinished=="boolean"?t.writableFinished:t.finished&&t.outputSize===0&&(!t.socket||t.socket.writableLength===0))()?o():t.prependOnceListener("finish",o),t.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,r(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",n)}),e};iI.default=nI;oI.exports=nI;oI.exports.default=nI});var Ak=y((LAe,uI)=>{"use strict";var{V4MAPPED:z7,ADDRCONFIG:J7,ALL:Ik,promises:{Resolver:yk},lookup:Y7}=v("dns"),{promisify:sI}=v("util"),Q7=v("os"),Ac=Symbol("cacheableLookupCreateConnection"),aI=Symbol("cacheableLookupInstance"),bk=Symbol("expires"),Z7=typeof Ik=="number",vk=t=>{if(!(t&&typeof t.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},eQ=t=>{for(let e of t)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},_k=()=>{let t=!1,e=!1;for(let r of Object.values(Q7.networkInterfaces()))for(let n of r)if(!n.internal&&(n.family==="IPv6"?e=!0:t=!0,t&&e))return{has4:t,has6:e};return{has4:t,has6:e}},tQ=t=>Symbol.iterator in t,wk={ttl:!0},rQ={all:!0},NH=class{constructor({cache:e=new Map,maxTtl:r=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:o=new yk,lookup:s=Y7}={}){if(this.maxTtl=r,this.errorTtl=i,this._cache=e,this._resolver=o,this._dnsLookup=sI(s),this._resolver instanceof yk?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=sI(this._resolver.resolve4.bind(this._resolver)),this._resolve6=sI(this._resolver.resolve6.bind(this._resolver))),this._iface=_k(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,r,n){if(typeof r=="function"?(n=r,r={}):typeof r=="number"&&(r={family:r}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,r).then(i=>{r.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl)},n)}async lookupAsync(e,r={}){typeof r=="number"&&(r={family:r});let n=await this.query(e);if(r.family===6){let i=n.filter(o=>o.family===6);r.hints&z7&&(Z7&&r.hints&Ik||i.length===0)?eQ(n):n=i}else r.family===4&&(n=n.filter(i=>i.family===4));if(r.hints&J7){let{_iface:i}=this;n=n.filter(o=>o.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return r.all?n:n[0]}async query(e){let r=await this._cache.get(e);if(!r){let n=this._pending[e];if(n)r=await n;else{let i=this.queryAndCache(e);this._pending[e]=i;try{r=await i}finally{delete this._pending[e]}}}return r=r.map(n=>({...n})),r}async _resolve(e){let r=async c=>{try{return await c}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[n,i]=await Promise.all([this._resolve4(e,wk),this._resolve6(e,wk)].map(c=>r(c))),o=0,s=0,a=0,u=Date.now();for(let c of n)c.family=4,c.expires=u+c.ttl*1e3,o=Math.max(o,c.ttl);for(let c of i)c.family=6,c.expires=u+c.ttl*1e3,s=Math.max(s,c.ttl);return n.length>0?i.length>0?a=Math.min(o,s):a=o:a=s,{entries:[...n,...i],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,r,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,r[bk]=Date.now()+n;try{await this._cache.set(e,r,n)}catch(i){this.lookupAsync=async()=>{let o=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw o.cause=i,o}}tQ(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,rQ);let r=await this._resolve(e);r.entries.length===0&&this._fallback&&(r=await this._lookup(e),r.entries.length!==0&&this._hostnamesToFallback.add(e));let n=r.entries.length===0?this.errorTtl:r.cacheTtl;return await this._set(e,r.entries,n),r.entries}_tick(e){let r=this._nextRemovalTime;(!r||e<r)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[o,s]of this._cache){let a=s[bk];i>=a?this._cache.delete(o):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(vk(e),Ac in e)throw new Error("CacheableLookup has been already installed");e[Ac]=e.createConnection,e[aI]=this,e.createConnection=(r,n)=>("lookup"in r||(r.lookup=this.lookup),e[Ac](r,n))}uninstall(e){if(vk(e),e[Ac]){if(e[aI]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[Ac],delete e[Ac],delete e[aI]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=_k(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};uI.exports=NH;uI.exports.default=NH});var Pk=y((xAe,Ek)=>{"use strict";var nQ="text/plain",iQ="us-ascii",Sk=(t,e)=>e.some(r=>r instanceof RegExp?r.test(t):r===t),oQ=(t,{stripHash:e})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(t);if(!r)throw new Error(`Invalid URL: ${t}`);let{type:n,data:i,hash:o}=r.groups,s=n.split(";");o=e?"":o;let a=!1;s[s.length-1]==="base64"&&(s.pop(),a=!0);let u=(s.shift()||"").toLowerCase(),l=[...s.map(p=>{let[f,m=""]=p.split("=").map(h=>h.trim());return f==="charset"&&(m=m.toLowerCase(),m===iQ)?"":`${f}${m?`=${m}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||u&&u!==nQ)&&l.unshift(u),`data:${l.join(";")},${a?i.trim():i}${o?`#${o}`:""}`},sQ=(t,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},t=t.trim(),/^data:/i.test(t))return oQ(t,e);if(/^view-source:/i.test(t))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=t.startsWith("//");!r&&/^\.*\//.test(t)||(t=t.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(t);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let s=i.pathname.split("/"),a=s[s.length-1];Sk(a,e.removeDirectoryIndex)&&(s=s.slice(0,s.length-1),i.pathname=s.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let s of[...i.searchParams.keys()])Sk(s,e.removeQueryParameters)&&i.searchParams.delete(s);e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters&&i.searchParams.sort(),e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=t;return t=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(t=t.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(t=t.replace(/\/$/,"")),r&&!e.normalizeProtocol&&(t=t.replace(/^http:\/\//,"//")),e.stripProtocol&&(t=t.replace(/^(?:https?:)?\/\//,"")),t};Ek.exports=sQ});var cI=y((CAe,xk)=>{xk.exports=Lk;function Lk(t,e){if(t&&e)return Lk(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var Sc=y((DAe,lI)=>{var Ck=cI();lI.exports=Ck(BH);lI.exports.strict=Ck(Dk);BH.proto=BH(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return BH(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return Dk(this)},configurable:!0})});function BH(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function Dk(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var FH=y(($Ae,Tk)=>{var aQ=Sc(),uQ=function(){},cQ=function(t){return t.setHeader&&typeof t.abort=="function"},lQ=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},$k=function(t,e,r){if(typeof e=="function")return $k(t,null,e);e||(e={}),r=aQ(r||uQ);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,s=e.writable||e.writable!==!1&&t.writable,a=!1,u=function(){t.writable||c()},c=function(){s=!1,o||r.call(t)},l=function(){o=!1,s||r.call(t)},p=function(b){r.call(t,b?new Error("exited with error code: "+b):null)},f=function(b){r.call(t,b)},m=function(){process.nextTick(h)},h=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},g=function(){t.req.on("finish",c)};return cQ(t)?(t.on("complete",c),t.on("abort",m),t.req?g():t.on("request",g)):s&&!n&&(t.on("end",u),t.on("close",u)),lQ(t)&&t.on("exit",p),t.on("end",l),t.on("finish",c),e.error!==!1&&t.on("error",f),t.on("close",m),function(){a=!0,t.removeListener("complete",c),t.removeListener("abort",m),t.removeListener("request",g),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("exit",p),t.removeListener("end",l),t.removeListener("error",f),t.removeListener("close",m)}};Tk.exports=$k});var kk=y((TAe,Rk)=>{var pQ=Sc(),fQ=FH(),pI=v("fs"),Zp=function(){},dQ=/^v?\.0/.test(process.version),UH=function(t){return typeof t=="function"},hQ=function(t){return!dQ||!pI?!1:(t instanceof(pI.ReadStream||Zp)||t instanceof(pI.WriteStream||Zp))&&UH(t.close)},mQ=function(t){return t.setHeader&&UH(t.abort)},HQ=function(t,e,r,n){n=pQ(n);var i=!1;t.on("close",function(){i=!0}),fQ(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,hQ(t))return t.close(Zp);if(mQ(t))return t.abort();if(UH(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},Mk=function(t){t()},gQ=function(t,e){return t.pipe(e)},yQ=function(){var t=Array.prototype.slice.call(arguments),e=UH(t[t.length-1]||Zp)&&t.pop()||Zp;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,a=o>0;return HQ(i,s,a,function(u){r||(r=u),u&&n.forEach(Mk),!s&&(n.forEach(Mk),e(r))})});return t.reduce(gQ)};Rk.exports=yQ});var Nk=y((MAe,Ok)=>{"use strict";var{PassThrough:bQ}=v("stream");Ok.exports=t=>{t={...t};let{array:e}=t,{encoding:r}=t,n=r==="buffer",i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);let o=new bQ({objectMode:i});r&&o.setEncoding(r);let s=0,a=[];return o.on("data",u=>{a.push(u),i?s=a.length:s+=u.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var Bk=y((RAe,Ec)=>{"use strict";var{constants:vQ}=v("buffer"),_Q=kk(),wQ=Nk(),jH=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function WH(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:r}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=vQ.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=_Q(t,wQ(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&s(new jH)})}),n.getBufferedValue()}Ec.exports=WH;Ec.exports.default=WH;Ec.exports.buffer=(t,e)=>WH(t,{...e,encoding:"buffer"});Ec.exports.array=(t,e)=>WH(t,{...e,array:!0});Ec.exports.MaxBufferError=jH});var Uk=y((OAe,Fk)=>{"use strict";var IQ=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),AQ=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),SQ=new Set([500,502,503,504]),EQ={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},PQ={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function wa(t){let e=parseInt(t,10);return isFinite(e)?e:0}function LQ(t){return t?SQ.has(t.status):!0}function fI(t){let e={};if(!t)return e;let r=t.trim().split(/,/);for(let n of r){let[i,o]=n.split(/=/,2);e[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return e}function xQ(t){let e=[];for(let r in t){let n=t[r];e.push(n===!0?r:r+"="+n)}if(e.length)return e.join(", ")}Fk.exports=class{constructor(e,r,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:s,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!r||!r.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in r?r.status:200,this._resHeaders=r.headers,this._rescc=fI(r.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=r.headers.vary?e.headers:null,this._reqcc=fI(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":xQ(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),r.headers["cache-control"]==null&&/no-cache/.test(r.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&AQ.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||IQ.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let r=fI(e.headers["cache-control"]);return r["no-cache"]||/no-cache/.test(e.headers.pragma)||r["max-age"]&&this.age()>r["max-age"]||r["min-fresh"]&&this.timeToLive()<1e3*r["min-fresh"]||this.stale()&&!(r["max-stale"]&&!this._rescc["must-revalidate"]&&(r["max-stale"]===!0||r["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,r){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||r&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let r=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of r)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let r={};for(let n in e)EQ[n]||(r[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete r[i]}if(r.warning){let n=r.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?r.warning=n.join(",").trim():delete r.warning}return r}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),r=this.age();return r>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(r)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),r=(this.now()-this._responseTime)/1e3;return e+r}_ageValue(){return wa(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return wa(this._rescc["s-maxage"])}if(this._rescc["max-age"])return wa(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,r=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<r?0:Math.max(e,(n-r)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&r>n)return Math.max(e,(r-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),r=e+wa(this._rescc["stale-if-error"]),n=e+wa(this._rescc["stale-while-revalidate"]);return Math.max(0,e,r,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+wa(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+wa(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let r=this._copyWithoutHopByHopHeaders(e.headers);if(delete r["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete r["if-none-match"],delete r["if-modified-since"],r;if(this._resHeaders.etag&&(r["if-none-match"]=r["if-none-match"]?`${r["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),r["accept-ranges"]||r["if-match"]||r["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete r["if-modified-since"],r["if-none-match"]){let i=r["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?r["if-none-match"]=i.join(",").trim():delete r["if-none-match"]}}else this._resHeaders["last-modified"]&&!r["if-modified-since"]&&(r["if-modified-since"]=this._resHeaders["last-modified"]);return r}revalidatedPolicy(e,r){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&LQ(r))return{modified:!1,matches:!1,policy:this};if(!r||!r.headers)throw Error("Response headers missing");let n=!1;if(r.status!==void 0&&r.status!=304?n=!1:r.headers.etag&&!/^\s*W\//.test(r.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag:this._resHeaders.etag&&r.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===r.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===r.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!r.headers.etag&&!r.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,r),modified:r.status!=304,matches:!1};let i={};for(let s in this._resHeaders)i[s]=s in r.headers&&!PQ[s]?r.headers[s]:this._resHeaders[s];let o=Object.assign({},r,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var qH=y((NAe,jk)=>{"use strict";jk.exports=t=>{let e={};for(let[r,n]of Object.entries(t))e[r.toLowerCase()]=n;return e}});var qk=y((BAe,Wk)=>{"use strict";var CQ=v("stream").Readable,DQ=qH(),dI=class extends CQ{constructor(e,r,n,i){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof r!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=DQ(r),this.body=n,this.url=i}_read(){this.push(this.body),this.push(null)}};Wk.exports=dI});var Gk=y((FAe,Vk)=>{"use strict";var $Q=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];Vk.exports=(t,e)=>{let r=new Set(Object.keys(t).concat($Q));for(let n of r)n in e||(e[n]=typeof t[n]=="function"?t[n].bind(t):t[n])}});var Kk=y((UAe,Xk)=>{"use strict";var TQ=v("stream").PassThrough,MQ=Gk(),RQ=t=>{if(!(t&&t.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new TQ;return MQ(t,e),t.pipe(e)};Xk.exports=RQ});var zk=y(hI=>{hI.stringify=function t(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var r="",n=Array.isArray(e);r=n?"[":"{";var i=!0;for(var o in e){var s=typeof e[o]=="function"||!n&&typeof e[o]>"u";Object.hasOwnProperty.call(e,o)&&!s&&(i||(r+=","),i=!1,n?e[o]==null?r+="null":r+=t(e[o]):e[o]!==void 0&&(r+=t(o)+":"+t(e[o])))}return r+=n?"]":"}",r}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};hI.parse=function(t){return JSON.parse(t,function(e,r){return typeof r=="string"?/^:base64:/.test(r)?Buffer.from(r.substring(8),"base64"):/^:/.test(r)?r.substring(1):r:r})}});var Zk=y((WAe,Qk)=>{"use strict";var kQ=v("events"),Jk=zk(),OQ=t=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(t.adapter||t.uri){let r=t.adapter||/^[^:+]*/.exec(t.uri)[0];return new(v(e[r]))(t)}return new Map},Yk=["sqlite","postgres","mysql","mongo","redis","tiered"],mI=class extends kQ{constructor(e,{emitErrors:r=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:Jk.stringify,deserialize:Jk.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let o={...this.opts};this.opts.store=OQ(o)}if(this.opts.compression){let o=this.opts.compression;this.opts.serialize=o.serialize.bind(o),this.opts.deserialize=o.deserialize.bind(o)}typeof this.opts.store.on=="function"&&r&&this.opts.store.on("error",o=>this.emit("error",o)),this.opts.store.namespace=this.opts.namespace;let i=o=>async function*(){for await(let[s,a]of typeof o=="function"?o(this.opts.store.namespace):o){let u=this.opts.deserialize(a);if(!(this.opts.store.namespace&&!s.includes(this.opts.store.namespace))){if(typeof u.expires=="number"&&Date.now()>u.expires){this.delete(s);continue}yield[this._getKeyUnprefix(s),u.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return Yk.includes(this.opts.store.opts.dialect)||Yk.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(r=>`${this.opts.namespace}:${r}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,r){let{store:n}=this.opts,i=Array.isArray(e),o=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let s=[];for(let a of o)s.push(Promise.resolve().then(()=>n.get(a)).then(u=>typeof u=="string"?this.opts.deserialize(u):this.opts.compression?this.opts.deserialize(u):u).then(u=>{if(u!=null)return typeof u.expires=="number"&&Date.now()>u.expires?this.delete(a).then(()=>{}):r&&r.raw?u:u.value}));return Promise.allSettled(s).then(a=>{let u=[];for(let c of a)u.push(c.value);return u})}return Promise.resolve().then(()=>i?n.getMany(o):n.get(o)).then(s=>typeof s=="string"?this.opts.deserialize(s):this.opts.compression?this.opts.deserialize(s):s).then(s=>{if(s!=null){if(i){let a=[];for(let u of s){if(typeof u=="string"&&(u=this.opts.deserialize(u)),u==null){a.push(void 0);continue}typeof u.expires=="number"&&Date.now()>u.expires?(this.delete(e).then(()=>{}),a.push(void 0)):a.push(r&&r.raw?u:u.value)}return a}return typeof s.expires=="number"&&Date.now()>s.expires?this.delete(e).then(()=>{}):r&&r.raw?s:s.value}})}set(e,r,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:o}=this.opts;return Promise.resolve().then(()=>{let s=typeof n=="number"?Date.now()+n:null;return typeof r=="symbol"&&this.emit("error","symbol cannot be serialized"),r={value:r,expires:s},this.opts.serialize(r)}).then(s=>o.set(i,s,n)).then(()=>!0)}delete(e){let{store:r}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(r.deleteMany===void 0){let o=[];for(let s of i)o.push(r.delete(s));return Promise.allSettled(o).then(s=>s.every(a=>a.value===!0))}return Promise.resolve().then(()=>r.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>r.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let r=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(r):await n.get(r)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};Qk.exports=mI});var r1=y((VAe,t1)=>{"use strict";var NQ=v("events"),VH=v("url"),BQ=Pk(),FQ=Bk(),HI=Uk(),e1=qk(),UQ=qH(),jQ=Kk(),WQ=Zk(),ef=class t{constructor(e,r){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new WQ({uri:typeof r=="string"&&r,store:typeof r!="string"&&r,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(r,n)=>{let i;if(typeof r=="string")i=gI(VH.parse(r)),r={};else if(r instanceof VH.URL)i=gI(VH.parse(r.toString())),r={};else{let[p,...f]=(r.path||"").split("?"),m=f.length>0?`?${f.join("?")}`:"";i=gI({...r,pathname:p,search:m})}r={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...r,...qQ(i)},r.headers=UQ(r.headers);let o=new NQ,s=BQ(VH.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${r.method}:${s}`,u=!1,c=!1,l=p=>{c=!0;let f=!1,m,h=new Promise(b=>{m=()=>{f||(f=!0,b())}}),g=b=>{if(u&&!p.forceRefresh){b.status=b.statusCode;let D=HI.fromObject(u.cachePolicy).revalidatedPolicy(p,b);if(!D.modified){let U=D.policy.responseHeaders();b=new e1(u.statusCode,U,u.body,u.url),b.cachePolicy=D.policy,b.fromCache=!0}}b.fromCache||(b.cachePolicy=new HI(p,b,p),b.fromCache=!1);let A;p.cache&&b.cachePolicy.storable()?(A=jQ(b),(async()=>{try{let D=FQ.buffer(b);if(await Promise.race([h,new Promise(z=>b.once("end",z))]),f)return;let U=await D,$={cachePolicy:b.cachePolicy.toObject(),url:b.url,statusCode:b.fromCache?u.statusCode:b.statusCode,body:U},W=p.strictTtl?b.cachePolicy.timeToLive():void 0;p.maxTtl&&(W=W?Math.min(W,p.maxTtl):p.maxTtl),await this.cache.set(a,$,W)}catch(D){o.emit("error",new t.CacheError(D))}})()):p.cache&&u&&(async()=>{try{await this.cache.delete(a)}catch(D){o.emit("error",new t.CacheError(D))}})(),o.emit("response",A||b),typeof n=="function"&&n(A||b)};try{let b=e(p,g);b.once("error",m),b.once("abort",m),o.emit("request",b)}catch(b){o.emit("error",new t.RequestError(b))}};return(async()=>{let p=async m=>{await Promise.resolve();let h=m.cache?await this.cache.get(a):void 0;if(typeof h>"u")return l(m);let g=HI.fromObject(h.cachePolicy);if(g.satisfiesWithoutRevalidation(m)&&!m.forceRefresh){let b=g.responseHeaders(),A=new e1(h.statusCode,b,h.body,h.url);A.cachePolicy=g,A.fromCache=!0,o.emit("response",A),typeof n=="function"&&n(A)}else u=h,m.headers=g.revalidationHeaders(m),l(m)},f=m=>o.emit("error",new t.CacheError(m));this.cache.once("error",f),o.on("response",()=>this.cache.removeListener("error",f));try{await p(r)}catch(m){r.automaticFailover&&!c&&l(r),o.emit("error",new t.CacheError(m))}})(),o}}};function qQ(t){let e={...t};return e.path=`${t.pathname||"/"}${t.search||""}`,delete e.pathname,delete e.search,e}function gI(t){return{protocol:t.protocol,auth:t.auth,hostname:t.hostname||t.host||"localhost",port:t.port,pathname:t.pathname,search:t.search}}ef.RequestError=class extends Error{constructor(t){super(t.message),this.name="RequestError",Object.assign(this,t)}};ef.CacheError=class extends Error{constructor(t){super(t.message),this.name="CacheError",Object.assign(this,t)}};t1.exports=ef});var i1=y((KAe,n1)=>{"use strict";var VQ=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];n1.exports=(t,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let r=new Set(Object.keys(t).concat(VQ)),n={};for(let i of r)i in e||(n[i]={get(){let o=t[i];return typeof o=="function"?o.bind(t):o},set(o){t[i]=o},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),t.once("aborted",()=>{e.destroy(),e.emit("aborted")}),t.once("close",()=>{t.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var s1=y((zAe,o1)=>{"use strict";var{Transform:GQ,PassThrough:XQ}=v("stream"),yI=v("zlib"),KQ=i1();o1.exports=t=>{let e=(t.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return t;let r=e==="br";if(r&&typeof yI.createBrotliDecompress!="function")return t.destroy(new Error("Brotli is not supported on Node.js < 12")),t;let n=!0,i=new GQ({transform(a,u,c){n=!1,c(null,a)},flush(a){a()}}),o=new XQ({autoDestroy:!1,destroy(a,u){t.destroy(),u(a)}}),s=r?yI.createBrotliDecompress():yI.createUnzip();return s.once("error",a=>{if(n&&!t.readable){o.end();return}o.destroy(a)}),KQ(t,o),t.pipe(i).pipe(s).pipe(o),o}});var vI=y((JAe,a1)=>{"use strict";var bI=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,r){if(this.cache.set(e,r),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let r=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,r),r}}set(e,r){return this.cache.has(e)?this.cache.set(e,r):this._set(e,r),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let r=this.cache.delete(e);return r&&this._size--,this.oldCache.delete(e)||r}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[r]=e;this.cache.has(r)||(yield e)}}get size(){let e=0;for(let r of this.oldCache.keys())this.cache.has(r)||e++;return Math.min(this._size+e,this.maxSize)}};a1.exports=bI});var wI=y((YAe,p1)=>{"use strict";var zQ=v("events"),JQ=v("tls"),YQ=v("http2"),QQ=vI(),_r=Symbol("currentStreamsCount"),u1=Symbol("request"),dn=Symbol("cachedOriginSet"),Pc=Symbol("gracefullyClosing"),ZQ=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],eZ=(t,e,r)=>{let n=0,i=t.length;for(;n<i;){let o=n+i>>>1;r(t[o],e)?n=o+1:i=o}return n},tZ=(t,e)=>t.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,_I=(t,e)=>{for(let r of t)r[dn].length<e[dn].length&&r[dn].every(n=>e[dn].includes(n))&&r[_r]+e[_r]<=e.remoteSettings.maxConcurrentStreams&&l1(r)},rZ=(t,e)=>{for(let r of t)e[dn].length<r[dn].length&&e[dn].every(n=>r[dn].includes(n))&&e[_r]+r[_r]<=r.remoteSettings.maxConcurrentStreams&&l1(e)},c1=({agent:t,isFree:e})=>{let r={};for(let n in t.sessions){let o=t.sessions[n].filter(s=>{let a=s[Ia.kCurrentStreamsCount]<s.remoteSettings.maxConcurrentStreams;return e?a:!a});o.length!==0&&(r[n]=o)}return r},l1=t=>{t[Pc]=!0,t[_r]===0&&t.close()},Ia=class t extends zQ{constructor({timeout:e=6e4,maxSessions:r=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=r,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new QQ({maxSize:i})}static normalizeOrigin(e,r){return typeof e=="string"&&(e=new URL(e)),r&&e.hostname!==r&&(e.hostname=r),e.origin}normalizeOptions(e){let r="";if(e)for(let n of ZQ)e[n]&&(r+=`:${e[n]}`);return r}_tryToCreateNewSession(e,r){if(!(e in this.queue)||!(r in this.queue[e]))return;let n=this.queue[e][r];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(e,r,n){return new Promise((i,o)=>{Array.isArray(n)?(n=[...n],i()):n=[{resolve:i,reject:o}];let s=this.normalizeOptions(r),a=t.normalizeOrigin(e,r&&r.servername);if(a===void 0){for(let{reject:l}of n)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(s in this.sessions){let l=this.sessions[s],p=-1,f=-1,m;for(let h of l){let g=h.remoteSettings.maxConcurrentStreams;if(g<p)break;if(h[dn].includes(a)){let b=h[_r];if(b>=g||h[Pc]||h.destroyed)continue;m||(p=g),b>f&&(m=h,f=b)}}if(m){if(n.length!==1){for(let{reject:h}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);h(g)}return}n[0].resolve(m);return}}if(s in this.queue){if(a in this.queue[s]){this.queue[s][a].listeners.push(...n),this._tryToCreateNewSession(s,a);return}}else this.queue[s]={};let u=()=>{s in this.queue&&this.queue[s][a]===c&&(delete this.queue[s][a],Object.keys(this.queue[s]).length===0&&delete this.queue[s])},c=()=>{let l=`${a}:${s}`,p=!1;try{let f=YQ.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...r});f[_r]=0,f[Pc]=!1;let m=()=>f[_r]<f.remoteSettings.maxConcurrentStreams,h=!0;f.socket.once("session",b=>{this.tlsSessionCache.set(l,b)}),f.once("error",b=>{for(let{reject:A}of n)A(b);this.tlsSessionCache.delete(l)}),f.setTimeout(this.timeout,()=>{f.destroy()}),f.once("close",()=>{if(p){h&&this._freeSessionsCount--,this._sessionsCount--;let b=this.sessions[s];b.splice(b.indexOf(f),1),b.length===0&&delete this.sessions[s]}else{let b=new Error("Session closed without receiving a SETTINGS frame");b.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:A}of n)A(b);u()}this._tryToCreateNewSession(s,a)});let g=()=>{if(!(!(s in this.queue)||!m())){for(let b of f[dn])if(b in this.queue[s]){let{listeners:A}=this.queue[s][b];for(;A.length!==0&&m();)A.shift().resolve(f);let D=this.queue[s];if(D[b].listeners.length===0&&(delete D[b],Object.keys(D).length===0)){delete this.queue[s];break}if(!m())break}}};f.on("origin",()=>{f[dn]=f.originSet,m()&&(g(),_I(this.sessions[s],f))}),f.once("remoteSettings",()=>{if(f.ref(),f.unref(),this._sessionsCount++,c.destroyed){let b=new Error("Agent has been destroyed");for(let A of n)A.reject(b);f.destroy();return}f[dn]=f.originSet;{let b=this.sessions;if(s in b){let A=b[s];A.splice(eZ(A,f,tZ),0,f)}else b[s]=[f]}this._freeSessionsCount+=1,p=!0,this.emit("session",f),g(),u(),f[_r]===0&&this._freeSessionsCount>this.maxFreeSessions&&f.close(),n.length!==0&&(this.getSession(a,r,n),n.length=0),f.on("remoteSettings",()=>{g(),_I(this.sessions[s],f)})}),f[u1]=f.request,f.request=(b,A)=>{if(f[Pc])throw new Error("The session is gracefully closing. No new streams are allowed.");let D=f[u1](b,A);return f.ref(),++f[_r],f[_r]===f.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,D.once("close",()=>{if(h=m(),--f[_r],!f.destroyed&&!f.closed&&(rZ(this.sessions[s],f),m()&&!f.closed)){h||(this._freeSessionsCount++,h=!0);let U=f[_r]===0;U&&f.unref(),U&&(this._freeSessionsCount>this.maxFreeSessions||f[Pc])?f.close():(_I(this.sessions[s],f),g())}}),D}}catch(f){for(let m of n)m.reject(f);u()}};c.listeners=n,c.completed=!1,c.destroyed=!1,this.queue[s][a]=c,this._tryToCreateNewSession(s,a)})}request(e,r,n,i){return new Promise((o,s)=>{this.getSession(e,r,[{reject:s,resolve:a=>{try{o(a.request(n,i))}catch(u){s(u)}}}])})}createConnection(e,r){return t.connect(e,r)}static connect(e,r){r.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname||e.host;return typeof r.servername>"u"&&(r.servername=i),JQ.connect(n,i,r)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let r of e)r[_r]===0&&r.close()}destroy(e){for(let r of Object.values(this.sessions))for(let n of r)n.destroy(e);for(let r of Object.values(this.queue))for(let n of Object.values(r))n.destroyed=!0;this.queue={}}get freeSessions(){return c1({agent:this,isFree:!0})}get busySessions(){return c1({agent:this,isFree:!1})}};Ia.kCurrentStreamsCount=_r;Ia.kGracefullyClosing=Pc;p1.exports={Agent:Ia,globalAgent:new Ia}});var AI=y((QAe,f1)=>{"use strict";var{Readable:nZ}=v("stream"),II=class extends nZ{constructor(e,r){super({highWaterMark:r,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,r){return this.req.setTimeout(e,r),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};f1.exports=II});var SI=y((ZAe,d1)=>{"use strict";d1.exports=t=>{let e={protocol:t.protocol,hostname:typeof t.hostname=="string"&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return typeof t.port=="string"&&t.port.length!==0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var m1=y((eSe,h1)=>{"use strict";h1.exports=(t,e,r)=>{for(let n of r)t.on(n,(...i)=>e.emit(n,...i))}});var g1=y((tSe,H1)=>{"use strict";H1.exports=t=>{switch(t){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var b1=y((nSe,y1)=>{"use strict";var Lc=(t,e,r)=>{y1.exports[e]=class extends t{constructor(...i){super(typeof r=="string"?r:r(i)),this.name=`${super.name} [${e}]`,this.code=e}}};Lc(TypeError,"ERR_INVALID_ARG_TYPE",t=>{let e=t[0].includes(".")?"property":"argument",r=t[1],n=Array.isArray(r);return n&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${t[0]}" ${e} must be ${n?"one of":"of"} type ${r}. Received ${typeof t[2]}`});Lc(TypeError,"ERR_INVALID_PROTOCOL",t=>`Protocol "${t[0]}" not supported. Expected "${t[1]}"`);Lc(Error,"ERR_HTTP_HEADERS_SENT",t=>`Cannot ${t[0]} headers after they are sent to the client`);Lc(TypeError,"ERR_INVALID_HTTP_TOKEN",t=>`${t[0]} must be a valid HTTP token [${t[1]}]`);Lc(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",t=>`Invalid value "${t[0]} for header "${t[1]}"`);Lc(TypeError,"ERR_INVALID_CHAR",t=>`Invalid character in ${t[0]} [${t[1]}]`)});var CI=y((iSe,E1)=>{"use strict";var iZ=v("http2"),{Writable:oZ}=v("stream"),{Agent:v1,globalAgent:sZ}=wI(),aZ=AI(),uZ=SI(),cZ=m1(),lZ=g1(),{ERR_INVALID_ARG_TYPE:EI,ERR_INVALID_PROTOCOL:pZ,ERR_HTTP_HEADERS_SENT:_1,ERR_INVALID_HTTP_TOKEN:fZ,ERR_HTTP_INVALID_HEADER_VALUE:dZ,ERR_INVALID_CHAR:hZ}=b1(),{HTTP2_HEADER_STATUS:w1,HTTP2_HEADER_METHOD:I1,HTTP2_HEADER_PATH:A1,HTTP2_METHOD_CONNECT:mZ}=iZ.constants,cr=Symbol("headers"),PI=Symbol("origin"),LI=Symbol("session"),S1=Symbol("options"),GH=Symbol("flushedHeaders"),tf=Symbol("jobs"),HZ=/^[\^`\-\w!#$%&*+.|~]+$/,gZ=/[^\t\u0020-\u007E\u0080-\u00FF]/,xI=class extends oZ{constructor(e,r,n){super({autoDestroy:!1});let i=typeof e=="string"||e instanceof URL;if(i&&(e=uZ(e instanceof URL?e:new URL(e))),typeof r=="function"||r===void 0?(n=r,r=i?e:{...e}):r={...e,...r},r.h2session)this[LI]=r.h2session;else if(r.agent===!1)this.agent=new v1({maxFreeSessions:0});else if(typeof r.agent>"u"||r.agent===null)typeof r.createConnection=="function"?(this.agent=new v1({maxFreeSessions:0}),this.agent.createConnection=r.createConnection):this.agent=sZ;else if(typeof r.agent.request=="function")this.agent=r.agent;else throw new EI("options.agent",["Agent-like Object","undefined","false"],r.agent);if(r.protocol&&r.protocol!=="https:")throw new pZ(r.protocol,"https:");let o=r.port||r.defaultPort||this.agent&&this.agent.defaultPort||443,s=r.hostname||r.host||"localhost";delete r.hostname,delete r.host,delete r.port;let{timeout:a}=r;if(r.timeout=void 0,this[cr]=Object.create(null),this[tf]=[],this.socket=null,this.connection=null,this.method=r.method||"GET",this.path=r.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,r.headers)for(let[u,c]of Object.entries(r.headers))this.setHeader(u,c);r.auth&&!("authorization"in this[cr])&&(this[cr].authorization="Basic "+Buffer.from(r.auth).toString("base64")),r.session=r.tlsSession,r.path=r.socketPath,this[S1]=r,o===443?(this[PI]=`https://${s}`,":authority"in this[cr]||(this[cr][":authority"]=s)):(this[PI]=`https://${s}:${o}`,":authority"in this[cr]||(this[cr][":authority"]=`${s}:${o}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[GH]=!1}get method(){return this[cr][I1]}set method(e){e&&(this[cr][I1]=e.toUpperCase())}get path(){return this[cr][A1]}set path(e){e&&(this[cr][A1]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,r,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,r,n);this._request?i():this[tf].push(i)}_final(e){if(this.destroyed)return;this.flushHeaders();let r=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?r():this[tf].push(r)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,r){this.res&&this.res._dump(),this._request&&this._request.destroy(),r(e)}async flushHeaders(){if(this[GH]||this.destroyed)return;this[GH]=!0;let e=this.method===mZ,r=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||cZ(n,this,["timeout","continue","close","error"]);let i=s=>(...a)=>{!this.writable&&!this.destroyed?s(...a):this.once("finish",()=>{s(...a)})};n.once("response",i((s,a,u)=>{let c=new aZ(this.socket,n.readableHighWaterMark);this.res=c,c.req=this,c.statusCode=s[w1],c.headers=s,c.rawHeaders=u,c.once("end",()=>{this.aborted?(c.aborted=!0,c.emit("aborted")):(c.complete=!0,c.socket=null,c.connection=null)}),e?(c.upgrade=!0,this.emit("connect",c,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",l=>{!c._dumped&&!c.push(l)&&n.pause()}),n.once("end",()=>{c.push(null)}),this.emit("response",c)||c._dump())})),n.once("headers",i(s=>this.emit("information",{statusCode:s[w1]}))),n.once("trailers",i((s,a,u)=>{let{res:c}=this;c.trailers=s,c.rawTrailers=u}));let{socket:o}=n.session;this.socket=o,this.connection=o;for(let s of this[tf])s();this.emit("socket",this.socket)};if(this[LI])try{r(this[LI].request(this[cr]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{r(await this.agent.request(this[PI],this[S1],this[cr]))}catch(n){this.emit("error",n)}}}getHeader(e){if(typeof e!="string")throw new EI("name","string",e);return this[cr][e.toLowerCase()]}get headersSent(){return this[GH]}removeHeader(e){if(typeof e!="string")throw new EI("name","string",e);if(this.headersSent)throw new _1("remove");delete this[cr][e.toLowerCase()]}setHeader(e,r){if(this.headersSent)throw new _1("set");if(typeof e!="string"||!HZ.test(e)&&!lZ(e))throw new fZ("Header name",e);if(typeof r>"u")throw new dZ(r,e);if(gZ.test(r))throw new hZ("header content",e);this[cr][e.toLowerCase()]=r}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,r){let n=()=>this._request.setTimeout(e,r);return this._request?n():this[tf].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};E1.exports=xI});var L1=y((oSe,P1)=>{"use strict";var yZ=v("tls");P1.exports=(t={},e=yZ.connect)=>new Promise((r,n)=>{let i=!1,o,s=async()=>{await u,o.off("timeout",a),o.off("error",n),t.resolveSocket?(r({alpnProtocol:o.alpnProtocol,socket:o,timeout:i}),i&&(await Promise.resolve(),o.emit("timeout"))):(o.destroy(),r({alpnProtocol:o.alpnProtocol,timeout:i}))},a=async()=>{i=!0,s()},u=(async()=>{try{o=await e(t,s),o.on("error",n),o.once("timeout",a)}catch(c){n(c)}})()})});var C1=y((sSe,x1)=>{"use strict";var bZ=v("net");x1.exports=t=>{let e=t.host,r=t.headers&&t.headers.host;return r&&(r.startsWith("[")?r.indexOf("]")===-1?e=r:e=r.slice(1,-1):e=r.split(":",1)[0]),bZ.isIP(e)?"":e}});var T1=y((aSe,$I)=>{"use strict";var D1=v("http"),DI=v("https"),vZ=L1(),_Z=vI(),wZ=CI(),IZ=C1(),AZ=SI(),XH=new _Z({maxSize:100}),rf=new Map,$1=(t,e,r)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{t.emit("free",e,r)};e.on("free",n);let i=()=>{t.removeSocket(e,r)};e.on("close",i);let o=()=>{t.removeSocket(e,r),e.off("close",i),e.off("free",n),e.off("agentRemove",o)};e.on("agentRemove",o),t.emit("free",e,r)},SZ=async t=>{let e=`${t.host}:${t.port}:${t.ALPNProtocols.sort()}`;if(!XH.has(e)){if(rf.has(e))return(await rf.get(e)).alpnProtocol;let{path:r,agent:n}=t;t.path=t.socketPath;let i=vZ(t);rf.set(e,i);try{let{socket:o,alpnProtocol:s}=await i;if(XH.set(e,s),t.path=r,s==="h2")o.destroy();else{let{globalAgent:a}=DI,u=DI.Agent.prototype.createConnection;n?n.createConnection===u?$1(n,o,t):o.destroy():a.createConnection===u?$1(a,o,t):o.destroy()}return rf.delete(e),s}catch(o){throw rf.delete(e),o}}return XH.get(e)};$I.exports=async(t,e,r)=>{if((typeof t=="string"||t instanceof URL)&&(t=AZ(new URL(t))),typeof e=="function"&&(r=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...t,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||IZ(e),e.port=e.port||(n?443:80),e._defaultAgent=n?DI.globalAgent:D1.globalAgent;let i=e.agent;if(i){if(i.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=i[n?"https":"http"]}return n&&await SZ(e)==="h2"?(i&&(e.agent=i.http2),new wZ(e,r)):D1.request(e,r)};$I.exports.protocolCache=XH});var R1=y((uSe,M1)=>{"use strict";var EZ=v("http2"),PZ=wI(),TI=CI(),LZ=AI(),xZ=T1(),CZ=(t,e,r)=>new TI(t,e,r),DZ=(t,e,r)=>{let n=new TI(t,e,r);return n.end(),n};M1.exports={...EZ,ClientRequest:TI,IncomingMessage:LZ,...PZ,request:CZ,get:DZ,auto:xZ}});var RI=y(MI=>{"use strict";Object.defineProperty(MI,"__esModule",{value:!0});var k1=oo();MI.default=t=>k1.default.nodeStream(t)&&k1.default.function_(t.getBoundary)});var F1=y(kI=>{"use strict";Object.defineProperty(kI,"__esModule",{value:!0});var N1=v("fs"),B1=v("util"),O1=oo(),$Z=RI(),TZ=B1.promisify(N1.stat);kI.default=async(t,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!t)return 0;if(O1.default.string(t))return Buffer.byteLength(t);if(O1.default.buffer(t))return t.length;if($Z.default(t))return B1.promisify(t.getLength.bind(t))();if(t instanceof N1.ReadStream){let{size:r}=await TZ(t.path);return r===0?void 0:r}}});var NI=y(OI=>{"use strict";Object.defineProperty(OI,"__esModule",{value:!0});function MZ(t,e,r){let n={};for(let i of r)n[i]=(...o)=>{e.emit(i,...o)},t.on(i,n[i]);return()=>{for(let i of r)t.off(i,n[i])}}OI.default=MZ});var U1=y(BI=>{"use strict";Object.defineProperty(BI,"__esModule",{value:!0});BI.default=()=>{let t=[];return{once(e,r,n){e.once(r,n),t.push({origin:e,event:r,fn:n})},unhandleAll(){for(let e of t){let{origin:r,event:n,fn:i}=e;r.removeListener(n,i)}t.length=0}}}});var W1=y(nf=>{"use strict";Object.defineProperty(nf,"__esModule",{value:!0});nf.TimeoutError=void 0;var RZ=v("net"),kZ=U1(),j1=Symbol("reentry"),OZ=()=>{},KH=class extends Error{constructor(e,r){super(`Timeout awaiting '${r}' for ${e}ms`),this.event=r,this.name="TimeoutError",this.code="ETIMEDOUT"}};nf.TimeoutError=KH;nf.default=(t,e,r)=>{if(j1 in t)return OZ;t[j1]=!0;let n=[],{once:i,unhandleAll:o}=kZ.default(),s=(p,f,m)=>{var h;let g=setTimeout(f,p,p,m);(h=g.unref)===null||h===void 0||h.call(g);let b=()=>{clearTimeout(g)};return n.push(b),b},{host:a,hostname:u}=r,c=(p,f)=>{t.destroy(new KH(p,f))},l=()=>{for(let p of n)p();o()};if(t.once("error",p=>{if(l(),t.listenerCount("error")===0)throw p}),t.once("close",l),i(t,"response",p=>{i(p,"end",l)}),typeof e.request<"u"&&s(e.request,c,"request"),typeof e.socket<"u"){let p=()=>{c(e.socket,"socket")};t.setTimeout(e.socket,p),n.push(()=>{t.removeListener("timeout",p)})}return i(t,"socket",p=>{var f;let{socketPath:m}=t;if(p.connecting){let h=!!(m??RZ.isIP((f=u??a)!==null&&f!==void 0?f:"")!==0);if(typeof e.lookup<"u"&&!h&&typeof p.address().address>"u"){let g=s(e.lookup,c,"lookup");i(p,"lookup",g)}if(typeof e.connect<"u"){let g=()=>s(e.connect,c,"connect");h?i(p,"connect",g()):i(p,"lookup",b=>{b===null&&i(p,"connect",g())})}typeof e.secureConnect<"u"&&r.protocol==="https:"&&i(p,"connect",()=>{let g=s(e.secureConnect,c,"secureConnect");i(p,"secureConnect",g)})}if(typeof e.send<"u"){let h=()=>s(e.send,c,"send");p.connecting?i(p,"connect",()=>{i(t,"upload-complete",h())}):i(t,"upload-complete",h())}}),typeof e.response<"u"&&i(t,"upload-complete",()=>{let p=s(e.response,c,"response");i(t,"response",p)}),l}});var V1=y(FI=>{"use strict";Object.defineProperty(FI,"__esModule",{value:!0});var q1=oo();FI.default=t=>{t=t;let e={protocol:t.protocol,hostname:q1.default.string(t.hostname)&&t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,host:t.host,hash:t.hash,search:t.search,pathname:t.pathname,href:t.href,path:`${t.pathname||""}${t.search||""}`};return q1.default.string(t.port)&&t.port.length>0&&(e.port=Number(t.port)),(t.username||t.password)&&(e.auth=`${t.username||""}:${t.password||""}`),e}});var G1=y(UI=>{"use strict";Object.defineProperty(UI,"__esModule",{value:!0});var NZ=v("url"),BZ=["protocol","host","hostname","port","pathname","search"];UI.default=(t,e)=>{var r,n;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!t){if(!e.protocol)throw new TypeError("No URL protocol specified");t=`${e.protocol}//${(n=(r=e.hostname)!==null&&r!==void 0?r:e.host)!==null&&n!==void 0?n:""}`}let i=new NZ.URL(t);if(e.path){let o=e.path.indexOf("?");o===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,o),e.search=e.path.slice(o+1)),delete e.path}for(let o of BZ)e[o]&&(i[o]=e[o].toString());return i}});var X1=y(WI=>{"use strict";Object.defineProperty(WI,"__esModule",{value:!0});var jI=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,r){typeof e=="object"?this.weakMap.set(e,r):this.map.set(e,r)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};WI.default=jI});var VI=y(qI=>{"use strict";Object.defineProperty(qI,"__esModule",{value:!0});var FZ=async t=>{let e=[],r=0;for await(let n of t)e.push(n),r+=Buffer.byteLength(n);return Buffer.isBuffer(e[0])?Buffer.concat(e,r):Buffer.from(e.join(""))};qI.default=FZ});var z1=y(Aa=>{"use strict";Object.defineProperty(Aa,"__esModule",{value:!0});Aa.dnsLookupIpVersionToFamily=Aa.isDnsLookupIpVersion=void 0;var K1={auto:0,ipv4:4,ipv6:6};Aa.isDnsLookupIpVersion=t=>t in K1;Aa.dnsLookupIpVersionToFamily=t=>{if(Aa.isDnsLookupIpVersion(t))return K1[t];throw new Error("Invalid DNS lookup IP version")}});var GI=y(zH=>{"use strict";Object.defineProperty(zH,"__esModule",{value:!0});zH.isResponseOk=void 0;zH.isResponseOk=t=>{let{statusCode:e}=t,r=t.request.options.followRedirect?299:399;return e>=200&&e<=r||e===304}});var Y1=y(XI=>{"use strict";Object.defineProperty(XI,"__esModule",{value:!0});var J1=new Set;XI.default=t=>{J1.has(t)||(J1.add(t),process.emitWarning(`Got: ${t}`,{type:"DeprecationWarning"}))}});var Q1=y(KI=>{"use strict";Object.defineProperty(KI,"__esModule",{value:!0});var ze=oo(),UZ=(t,e)=>{if(ze.default.null_(t.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");ze.assert.any([ze.default.string,ze.default.undefined],t.encoding),ze.assert.any([ze.default.boolean,ze.default.undefined],t.resolveBodyOnly),ze.assert.any([ze.default.boolean,ze.default.undefined],t.methodRewriting),ze.assert.any([ze.default.boolean,ze.default.undefined],t.isStream),ze.assert.any([ze.default.string,ze.default.undefined],t.responseType),t.responseType===void 0&&(t.responseType="text");let{retry:r}=t;if(e?t.retry={...e.retry}:t.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},ze.default.object(r)?(t.retry={...t.retry,...r},t.retry.methods=[...new Set(t.retry.methods.map(n=>n.toUpperCase()))],t.retry.statusCodes=[...new Set(t.retry.statusCodes)],t.retry.errorCodes=[...new Set(t.retry.errorCodes)]):ze.default.number(r)&&(t.retry.limit=r),ze.default.undefined(t.retry.maxRetryAfter)&&(t.retry.maxRetryAfter=Math.min(...[t.timeout.request,t.timeout.connect].filter(ze.default.number))),ze.default.object(t.pagination)){e&&(t.pagination={...e.pagination,...t.pagination});let{pagination:n}=t;if(!ze.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!ze.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!ze.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!ze.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return t.responseType==="json"&&t.headers.accept===void 0&&(t.headers.accept="application/json"),t};KI.default=UZ});var Z1=y(of=>{"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.retryAfterStatusCodes=void 0;of.retryAfterStatusCodes=new Set([413,429,503]);var jZ=({attemptCount:t,retryOptions:e,error:r,retryAfter:n})=>{if(t>e.limit)return 0;let i=e.methods.includes(r.options.method),o=e.errorCodes.includes(r.code),s=r.response&&e.statusCodes.includes(r.response.statusCode);if(!i||!o&&!s)return 0;if(r.response){if(n)return e.maxRetryAfter===void 0||n>e.maxRetryAfter?0:n;if(r.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(t-1)*1e3+a};of.default=jZ});var uf=y($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.UnsupportedProtocolError=$e.ReadError=$e.TimeoutError=$e.UploadError=$e.CacheError=$e.HTTPError=$e.MaxRedirectsError=$e.RequestError=$e.setNonEnumerableProperties=$e.knownHookEvents=$e.withoutBody=$e.kIsNormalizedAlready=void 0;var eO=v("util"),tO=v("stream"),WZ=v("fs"),os=v("url"),rO=v("http"),zI=v("http"),qZ=v("https"),VZ=gk(),GZ=Ak(),nO=r1(),XZ=s1(),KZ=R1(),zZ=qH(),B=oo(),JZ=F1(),iO=RI(),YZ=NI(),oO=W1(),QZ=V1(),sO=G1(),ZZ=X1(),eee=VI(),aO=z1(),tee=GI(),ss=Y1(),ree=Q1(),nee=Z1(),JI,Xt=Symbol("request"),QH=Symbol("response"),xc=Symbol("responseSize"),Cc=Symbol("downloadedSize"),Dc=Symbol("bodySize"),$c=Symbol("uploadedSize"),JH=Symbol("serverResponsesPiped"),uO=Symbol("unproxyEvents"),cO=Symbol("isFromCache"),YI=Symbol("cancelTimeouts"),lO=Symbol("startedReading"),Tc=Symbol("stopReading"),YH=Symbol("triggerRead"),as=Symbol("body"),sf=Symbol("jobs"),pO=Symbol("originalResponse"),fO=Symbol("retryTimeout");$e.kIsNormalizedAlready=Symbol("isNormalizedAlready");var iee=B.default.string(process.versions.brotli);$e.withoutBody=new Set(["GET","HEAD"]);$e.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function oee(t){for(let e in t){let r=t[e];if(!B.default.string(r)&&!B.default.number(r)&&!B.default.boolean(r)&&!B.default.null_(r)&&!B.default.undefined(r))throw new TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}function see(t){return B.default.object(t)&&!("statusCode"in t)}var QI=new ZZ.default,aee=async t=>new Promise((e,r)=>{let n=i=>{r(i)};t.pending||e(),t.once("error",n),t.once("ready",()=>{t.off("error",n),e()})}),uee=new Set([300,301,302,303,304,307,308]),cee=["context","body","json","form"];$e.setNonEnumerableProperties=(t,e)=>{let r={};for(let n of t)if(n)for(let i of cee)i in n&&(r[i]={writable:!0,configurable:!0,enumerable:!1,value:n[i]});Object.defineProperties(e,r)};var Ht=class extends Error{constructor(e,r,n){var i,o;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(i=r.code)!==null&&i!==void 0?i:"ERR_GOT_REQUEST_ERROR",n instanceof og?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[QH]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(o=this.request)===null||o===void 0?void 0:o.timings,B.default.string(r.stack)&&B.default.string(this.stack)){let s=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(s).split(`
`).reverse(),u=r.stack.slice(r.stack.indexOf(r.message)+r.message.length).split(`
`).reverse();for(;u.length!==0&&u[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,s)}${a.reverse().join(`
`)}${u.reverse().join(`
`)}`}}};$e.RequestError=Ht;var ZH=class extends Ht{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};$e.MaxRedirectsError=ZH;var eg=class extends Ht{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};$e.HTTPError=eg;var tg=class extends Ht{constructor(e,r){super(e.message,e,r),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};$e.CacheError=tg;var rg=class extends Ht{constructor(e,r){super(e.message,e,r),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};$e.UploadError=rg;var ng=class extends Ht{constructor(e,r,n){super(e.message,e,n),this.name="TimeoutError",this.event=e.event,this.timings=r}};$e.TimeoutError=ng;var af=class extends Ht{constructor(e,r){super(e.message,e,r),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};$e.ReadError=af;var ig=class extends Ht{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};$e.UnsupportedProtocolError=ig;var lee=["socket","connect","continue","information","upgrade","timeout"],og=class extends tO.Duplex{constructor(e,r={},n){super({autoDestroy:!1,highWaterMark:0}),this[Cc]=0,this[$c]=0,this.requestInitialized=!1,this[JH]=new Set,this.redirects=[],this[Tc]=!1,this[YH]=!1,this[sf]=[],this.retryCount=0,this._progressCallbacks=[];let i=()=>this._unlockWrite(),o=()=>this._lockWrite();this.on("pipe",c=>{c.prependListener("data",i),c.on("data",o),c.prependListener("end",i),c.on("end",o)}),this.on("unpipe",c=>{c.off("data",i),c.off("data",o),c.off("end",i),c.off("end",o)}),this.on("pipe",c=>{c instanceof zI.IncomingMessage&&(this.options.headers={...c.headers,...this.options.headers})});let{json:s,body:a,form:u}=r;if((s||a||u)&&this._lockWrite(),$e.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,n)}catch(c){B.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(c);return}(async()=>{var c;try{this.options.body instanceof WZ.ReadStream&&await aee(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(c=this[Xt])===null||c===void 0||c.destroy();return}for(let p of this[sf])p();this[sf].length=0,this.requestInitialized=!0}catch(l){if(l instanceof Ht){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,r,n){var i,o,s,a,u;let c=r;if(B.default.object(e)&&!B.default.urlInstance(e))r={...n,...e,...r};else{if(e&&r&&r.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");r={...n,...r},e!==void 0&&(r.url=e),B.default.urlInstance(r.url)&&(r.url=new os.URL(r.url.toString()))}if(r.cache===!1&&(r.cache=void 0),r.dnsCache===!1&&(r.dnsCache=void 0),B.assert.any([B.default.string,B.default.undefined],r.method),B.assert.any([B.default.object,B.default.undefined],r.headers),B.assert.any([B.default.string,B.default.urlInstance,B.default.undefined],r.prefixUrl),B.assert.any([B.default.object,B.default.undefined],r.cookieJar),B.assert.any([B.default.object,B.default.string,B.default.undefined],r.searchParams),B.assert.any([B.default.object,B.default.string,B.default.undefined],r.cache),B.assert.any([B.default.object,B.default.number,B.default.undefined],r.timeout),B.assert.any([B.default.object,B.default.undefined],r.context),B.assert.any([B.default.object,B.default.undefined],r.hooks),B.assert.any([B.default.boolean,B.default.undefined],r.decompress),B.assert.any([B.default.boolean,B.default.undefined],r.ignoreInvalidCookies),B.assert.any([B.default.boolean,B.default.undefined],r.followRedirect),B.assert.any([B.default.number,B.default.undefined],r.maxRedirects),B.assert.any([B.default.boolean,B.default.undefined],r.throwHttpErrors),B.assert.any([B.default.boolean,B.default.undefined],r.http2),B.assert.any([B.default.boolean,B.default.undefined],r.allowGetBody),B.assert.any([B.default.string,B.default.undefined],r.localAddress),B.assert.any([aO.isDnsLookupIpVersion,B.default.undefined],r.dnsLookupIpVersion),B.assert.any([B.default.object,B.default.undefined],r.https),B.assert.any([B.default.boolean,B.default.undefined],r.rejectUnauthorized),r.https&&(B.assert.any([B.default.boolean,B.default.undefined],r.https.rejectUnauthorized),B.assert.any([B.default.function_,B.default.undefined],r.https.checkServerIdentity),B.assert.any([B.default.string,B.default.object,B.default.array,B.default.undefined],r.https.certificateAuthority),B.assert.any([B.default.string,B.default.object,B.default.array,B.default.undefined],r.https.key),B.assert.any([B.default.string,B.default.object,B.default.array,B.default.undefined],r.https.certificate),B.assert.any([B.default.string,B.default.undefined],r.https.passphrase),B.assert.any([B.default.string,B.default.buffer,B.default.array,B.default.undefined],r.https.pfx)),B.assert.any([B.default.object,B.default.undefined],r.cacheOptions),B.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===n?.headers?r.headers={...r.headers}:r.headers=zZ({...n?.headers,...r.headers}),"slashes"in r)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==n?.searchParams){let m;if(B.default.string(r.searchParams)||r.searchParams instanceof os.URLSearchParams)m=new os.URLSearchParams(r.searchParams);else{oee(r.searchParams),m=new os.URLSearchParams;for(let h in r.searchParams){let g=r.searchParams[h];g===null?m.append(h,""):g!==void 0&&m.append(h,g)}}(i=n?.searchParams)===null||i===void 0||i.forEach((h,g)=>{m.has(g)||m.append(g,h)}),r.searchParams=m}if(r.username=(o=r.username)!==null&&o!==void 0?o:"",r.password=(s=r.password)!==null&&s!==void 0?s:"",B.default.undefined(r.prefixUrl)?r.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(r.prefixUrl=r.prefixUrl.toString(),r.prefixUrl!==""&&!r.prefixUrl.endsWith("/")&&(r.prefixUrl+="/")),B.default.string(r.url)){if(r.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");r.url=sO.default(r.prefixUrl+r.url,r)}else(B.default.undefined(r.url)&&r.prefixUrl!==""||r.protocol)&&(r.url=sO.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:m}=r;Object.defineProperty(r,"prefixUrl",{set:g=>{let b=r.url;if(!b.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${m} to ${g}: ${b.href}`);r.url=new os.URL(g+b.href.slice(m.length)),m=g},get:()=>m});let{protocol:h}=r.url;if(h==="unix:"&&(h="http:",r.url=new os.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),h!=="http:"&&h!=="https:")throw new ig(r);r.username===""?r.username=r.url.username:r.url.username=r.username,r.password===""?r.password=r.url.password:r.url.password=r.password}let{cookieJar:l}=r;if(l){let{setCookie:m,getCookieString:h}=l;B.assert.function_(m),B.assert.function_(h),m.length===4&&h.length===0&&(m=eO.promisify(m.bind(r.cookieJar)),h=eO.promisify(h.bind(r.cookieJar)),r.cookieJar={setCookie:m,getCookieString:h})}let{cache:p}=r;if(p&&(QI.has(p)||QI.set(p,new nO((m,h)=>{let g=m[Xt](m,h);return B.default.promise(g)&&(g.once=(b,A)=>{if(b==="error")g.catch(A);else if(b==="abort")(async()=>{try{(await g).once("abort",A)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${b}`);return g}),g},p))),r.cacheOptions={...r.cacheOptions},r.dnsCache===!0)JI||(JI=new GZ.default),r.dnsCache=JI;else if(!B.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${B.default(r.dnsCache)}`);B.default.number(r.timeout)?r.timeout={request:r.timeout}:n&&r.timeout!==n.timeout?r.timeout={...n.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let f=r.hooks===n?.hooks;r.hooks={...r.hooks};for(let m of $e.knownHookEvents)if(m in r.hooks)if(B.default.array(r.hooks[m]))r.hooks[m]=[...r.hooks[m]];else throw new TypeError(`Parameter \`${m}\` must be an Array, got ${B.default(r.hooks[m])}`);else r.hooks[m]=[];if(n&&!f)for(let m of $e.knownHookEvents)n.hooks[m].length>0&&(r.hooks[m]=[...n.hooks[m],...r.hooks[m]]);if("family"in r&&ss.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(r.https={...n.https,...r.https}),"rejectUnauthorized"in r&&ss.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&ss.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&ss.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&ss.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&ss.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&ss.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&ss.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let m in r.agent)if(m!=="http"&&m!=="https"&&m!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${m}\``)}return r.maxRedirects=(u=r.maxRedirects)!==null&&u!==void 0?u:0,$e.setNonEnumerableProperties([n,c],r),ree.default(r,n)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,n=!B.default.undefined(e.form),i=!B.default.undefined(e.json),o=!B.default.undefined(e.body),s=n||i||o,a=$e.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,s){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([o,n,i].filter(u=>u).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(o&&!(e.body instanceof tO.Readable)&&!B.default.string(e.body)&&!B.default.buffer(e.body)&&!iO.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!B.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let u=!B.default.string(r["content-type"]);o?(iO.default(e.body)&&u&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[as]=e.body):n?(u&&(r["content-type"]="application/x-www-form-urlencoded"),this[as]=new os.URLSearchParams(e.form).toString()):(u&&(r["content-type"]="application/json"),this[as]=e.stringifyJson(e.json));let c=await JZ.default(this[as],e.headers);B.default.undefined(r["content-length"])&&B.default.undefined(r["transfer-encoding"])&&!a&&!B.default.undefined(c)&&(r["content-length"]=String(c))}}else a?this._lockWrite():this._unlockWrite();this[Dc]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:r}=this,{url:n}=r;this[pO]=e,r.decompress&&(e=XZ(e));let i=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:rO.STATUS_CODES[i],o.url=r.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[cO]=o.isFromCache,this[xc]=Number(e.headers["content-length"])||void 0,this[QH]=e,e.once("end",()=>{this[xc]=this[Cc],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new af(a,this))}),e.once("aborted",()=>{this._beforeError(new af({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if(B.default.object(r.cookieJar)&&s){let a=s.map(async u=>r.cookieJar.setCookie(u,n.toString()));r.ignoreInvalidCookies&&(a=a.map(async u=>u.catch(()=>{})));try{await Promise.all(a)}catch(u){this._beforeError(u);return}}if(r.followRedirect&&e.headers.location&&uee.has(i)){if(e.resume(),this[Xt]&&(this[YI](),delete this[Xt],this[uO]()),(i===303&&r.method!=="GET"&&r.method!=="HEAD"||!r.methodRewriting)&&(r.method="GET","body"in r&&delete r.body,"json"in r&&delete r.json,"form"in r&&delete r.form,this[as]=void 0,delete r.headers["content-length"]),this.redirects.length>=r.maxRedirects){this._beforeError(new ZH(this));return}try{let p=function(f){return f.protocol==="unix:"||f.hostname==="unix"},u=Buffer.from(e.headers.location,"binary").toString(),c=new os.URL(u,n),l=c.toString();if(decodeURI(l),!p(n)&&p(c)){this._beforeError(new Ht("Cannot redirect to UNIX socket",{},this));return}c.hostname!==n.hostname||c.port!==n.port?("host"in r.headers&&delete r.headers.host,"cookie"in r.headers&&delete r.headers.cookie,"authorization"in r.headers&&delete r.headers.authorization,(r.username||r.password)&&(r.username="",r.password="")):(c.username=r.username,c.password=r.password),this.redirects.push(l),r.url=c;for(let f of r.hooks.beforeRedirect)await f(r,o);this.emit("redirect",o,r),await this._makeRequest()}catch(u){this._beforeError(u);return}return}if(r.isStream&&r.throwHttpErrors&&!tee.isResponseOk(o)){this._beforeError(new eg(o));return}e.on("readable",()=>{this[YH]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[JH])if(!a.headersSent){for(let u in e.headers){let c=r.decompress?u!=="content-encoding":!0,l=e.headers[u];c&&a.setHeader(u,l)}a.statusCode=i}}async _onResponse(e){try{await this._onResponseBase(e)}catch(r){this._beforeError(r)}}_onRequest(e){let{options:r}=this,{timeout:n,url:i}=r;VZ.default(e),this[YI]=oO.default(e,n,i);let o=r.cache?"cacheableResponse":"response";e.once(o,u=>{this._onResponse(u)}),e.once("error",u=>{var c;e.destroy(),(c=e.res)===null||c===void 0||c.removeAllListeners("end"),u=u instanceof oO.TimeoutError?new ng(u,this.timings,this):new Ht(u.message,u,this),this._beforeError(u)}),this[uO]=YZ.default(e,this,lee),this[Xt]=e,this.emit("uploadProgress",this.uploadProgress);let s=this[as],a=this.redirects.length===0?this:e;B.default.nodeStream(s)?(s.pipe(a),s.once("error",u=>{this._beforeError(new rg(u,this))})):(this._unlockWrite(),B.default.undefined(s)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(s,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,r){return new Promise((n,i)=>{Object.assign(r,QZ.default(e)),delete r.url;let o,s=QI.get(r.cache)(r,async a=>{a._readableState.autoDestroy=!1,o&&(await o).emit("cacheableResponse",a),n(a)});r.url=e,s.once("error",i),s.once("request",async a=>{o=a,n(o)})})}async _makeRequest(){var e,r,n,i,o;let{options:s}=this,{headers:a}=s;for(let A in a)if(B.default.undefined(a[A]))delete a[A];else if(B.default.null_(a[A]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${A}\` header`);if(s.decompress&&B.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=iee?"gzip, deflate, br":"gzip, deflate"),s.cookieJar){let A=await s.cookieJar.getCookieString(s.url.toString());B.default.nonEmptyString(A)&&(s.headers.cookie=A)}for(let A of s.hooks.beforeRequest){let D=await A(s);if(!B.default.undefined(D)){s.request=()=>D;break}}s.body&&this[as]!==s.body&&(this[as]=s.body);let{agent:u,request:c,timeout:l,url:p}=s;if(s.dnsCache&&!("lookup"in s)&&(s.lookup=s.dnsCache.lookup),p.hostname==="unix"){let A=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(A?.groups){let{socketPath:D,path:U}=A.groups;Object.assign(s,{socketPath:D,path:U,host:""})}}let f=p.protocol==="https:",m;s.http2?m=KZ.auto:m=f?qZ.request:rO.request;let h=(e=s.request)!==null&&e!==void 0?e:m,g=s.cache?this._createCacheableRequest:h;u&&!s.http2&&(s.agent=u[f?"https":"http"]),s[Xt]=h,delete s.request,delete s.timeout;let b=s;if(b.shared=(r=s.cacheOptions)===null||r===void 0?void 0:r.shared,b.cacheHeuristic=(n=s.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,b.immutableMinTimeToLive=(i=s.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive,b.ignoreCargoCult=(o=s.cacheOptions)===null||o===void 0?void 0:o.ignoreCargoCult,s.dnsLookupIpVersion!==void 0)try{b.family=aO.dnsLookupIpVersionToFamily(s.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}s.https&&("rejectUnauthorized"in s.https&&(b.rejectUnauthorized=s.https.rejectUnauthorized),s.https.checkServerIdentity&&(b.checkServerIdentity=s.https.checkServerIdentity),s.https.certificateAuthority&&(b.ca=s.https.certificateAuthority),s.https.certificate&&(b.cert=s.https.certificate),s.https.key&&(b.key=s.https.key),s.https.passphrase&&(b.passphrase=s.https.passphrase),s.https.pfx&&(b.pfx=s.https.pfx));try{let A=await g(p,b);B.default.undefined(A)&&(A=m(p,b)),s.request=c,s.timeout=l,s.agent=u,s.https&&("rejectUnauthorized"in s.https&&delete b.rejectUnauthorized,s.https.checkServerIdentity&&delete b.checkServerIdentity,s.https.certificateAuthority&&delete b.ca,s.https.certificate&&delete b.cert,s.https.key&&delete b.key,s.https.passphrase&&delete b.passphrase,s.https.pfx&&delete b.pfx),see(A)?this._onRequest(A):this.writable?(this.once("finish",()=>{this._onResponse(A)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(A)}catch(A){throw A instanceof nO.CacheError?new tg(A,this):new Ht(A.message,A,this)}}async _error(e){try{for(let r of this.options.hooks.beforeError)e=await r(e)}catch(r){e=new Ht(r.message,r,this)}this.destroy(e)}_beforeError(e){if(this[Tc])return;let{options:r}=this,n=this.retryCount+1;this[Tc]=!0,e instanceof Ht||(e=new Ht(e.message,e,this));let i=e,{response:o}=i;(async()=>{if(o&&!o.body){o.setEncoding(this._readableState.encoding);try{o.rawBody=await eee.default(o),o.body=o.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let s;try{let a;o&&"retry-after"in o.headers&&(a=Number(o.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(o.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),s=await r.retry.calculateDelay({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:nee.default({attemptCount:n,retryOptions:r.retry,error:i,retryAfter:a,computedValue:0})})}catch(a){this._error(new Ht(a.message,a,this));return}if(s){let a=async()=>{try{for(let u of this.options.hooks.beforeRetry)await u(this.options,i,n)}catch(u){this._error(new Ht(u.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,e))};this[fO]=setTimeout(a,s);return}}this._error(i)})()}_read(){this[YH]=!0;let e=this[QH];if(e&&!this[Tc]){e.readableLength&&(this[YH]=!1);let r;for(;(r=e.read())!==null;){this[Cc]+=r.length,this[lO]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(r)}}}_write(e,r,n){let i=()=>{this._writeRequest(e,r,n)};this.requestInitialized?i():this[sf].push(i)}_writeRequest(e,r,n){this[Xt].destroyed||(this._progressCallbacks.push(()=>{this[$c]+=Buffer.byteLength(e,r);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}),this[Xt].write(e,r,i=>{!i&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(i)}))}_final(e){let r=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(Xt in this)){e();return}if(this[Xt].destroyed){e();return}this[Xt].end(n=>{n||(this[Dc]=this[$c],this.emit("uploadProgress",this.uploadProgress),this[Xt].emit("upload-complete")),e(n)})};this.requestInitialized?r():this[sf].push(r)}_destroy(e,r){var n;this[Tc]=!0,clearTimeout(this[fO]),Xt in this&&(this[YI](),!((n=this[QH])===null||n===void 0)&&n.complete||this[Xt].destroy()),e!==null&&!B.default.undefined(e)&&!(e instanceof Ht)&&(e=new Ht(e.message,e,this)),r(e)}get _isAboutToError(){return this[Tc]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,r,n;return((r=(e=this[Xt])===null||e===void 0?void 0:e.destroyed)!==null&&r!==void 0?r:this.destroyed)&&!(!((n=this[pO])===null||n===void 0)&&n.complete)}get socket(){var e,r;return(r=(e=this[Xt])===null||e===void 0?void 0:e.socket)!==null&&r!==void 0?r:void 0}get downloadProgress(){let e;return this[xc]?e=this[Cc]/this[xc]:this[xc]===this[Cc]?e=1:e=0,{percent:e,transferred:this[Cc],total:this[xc]}}get uploadProgress(){let e;return this[Dc]?e=this[$c]/this[Dc]:this[Dc]===this[$c]?e=1:e=0,{percent:e,transferred:this[$c],total:this[Dc]}}get timings(){var e;return(e=this[Xt])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[cO]}pipe(e,r){if(this[lO])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof zI.ServerResponse&&this[JH].add(e),super.pipe(e,r)}unpipe(e){return e instanceof zI.ServerResponse&&this[JH].delete(e),super.unpipe(e),this}};$e.default=og});var cf=y(Rn=>{"use strict";var pee=Rn&&Rn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),fee=Rn&&Rn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&pee(e,t,r)};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.CancelError=Rn.ParseError=void 0;var dO=uf(),ZI=class extends dO.RequestError{constructor(e,r){let{options:n}=r.request;super(`${e.message} in "${n.url.toString()}"`,e,r.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};Rn.ParseError=ZI;var eA=class extends dO.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};Rn.CancelError=eA;fee(uf(),Rn)});var mO=y(tA=>{"use strict";Object.defineProperty(tA,"__esModule",{value:!0});var hO=cf(),dee=(t,e,r,n)=>{let{rawBody:i}=t;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":r(i.toString());if(e==="buffer")return i;throw new hO.ParseError({message:`Unknown body type '${e}'`,name:"Error"},t)}catch(o){throw new hO.ParseError(o,t)}};tA.default=dee});var rA=y(us=>{"use strict";var hee=us&&us.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mee=us&&us.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&hee(e,t,r)};Object.defineProperty(us,"__esModule",{value:!0});var Hee=v("events"),gee=oo(),yee=mk(),sg=cf(),HO=mO(),gO=uf(),bee=NI(),vee=VI(),yO=GI(),_ee=["request","response","redirect","uploadProgress","downloadProgress"];function bO(t){let e,r,n=new Hee.EventEmitter,i=new yee((s,a,u)=>{let c=l=>{let p=new gO.default(void 0,t);p.retryCount=l,p._noPipe=!0,u(()=>p.destroy()),u.shouldReject=!1,u(()=>a(new sg.CancelError(p))),e=p,p.once("response",async h=>{var g;if(h.retryCount=l,h.request.aborted)return;let b;try{b=await vee.default(p),h.rawBody=b}catch{return}if(p._isAboutToError)return;let A=((g=h.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),D=["gzip","deflate","br"].includes(A),{options:U}=p;if(D&&!U.decompress)h.body=b;else try{h.body=HO.default(h,U.responseType,U.parseJson,U.encoding)}catch($){if(h.body=b.toString(),yO.isResponseOk(h)){p._beforeError($);return}}try{for(let[$,W]of U.hooks.afterResponse.entries())h=await W(h,async z=>{let X=gO.default.normalizeArguments(void 0,{...z,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},U);X.hooks.afterResponse=X.hooks.afterResponse.slice(0,$);for(let O of X.hooks.beforeRetry)await O(X);let j=bO(X);return u(()=>{j.catch(()=>{}),j.cancel()}),j})}catch($){p._beforeError(new sg.RequestError($.message,$,p));return}if(r=h,!yO.isResponseOk(h)){p._beforeError(new sg.HTTPError(h));return}p.destroy(),s(p.options.resolveBodyOnly?h.body:h)});let f=h=>{if(i.isCanceled)return;let{options:g}=p;if(h instanceof sg.HTTPError&&!g.throwHttpErrors){let{response:b}=h;s(p.options.resolveBodyOnly?b.body:b);return}a(h)};p.once("error",f);let m=p.options.body;p.once("retry",(h,g)=>{var b,A;if(m===((b=g.request)===null||b===void 0?void 0:b.options.body)&&gee.default.nodeStream((A=g.request)===null||A===void 0?void 0:A.options.body)){f(g);return}c(h)}),bee.default(p,n,_ee)};c(0)});i.on=(s,a)=>(n.on(s,a),i);let o=s=>{let a=(async()=>{await i;let{options:u}=r.request;return HO.default(r,s,u.parseJson,u.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)),a};return i.json=()=>{let{headers:s}=e.options;return!e.writableFinished&&s.accept===void 0&&(s.accept="application/json"),o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}us.default=bO;mee(cf(),us)});var vO=y(nA=>{"use strict";Object.defineProperty(nA,"__esModule",{value:!0});var wee=cf();function Iee(t,...e){let r=(async()=>{if(t instanceof wee.RequestError)try{for(let i of e)if(i)for(let o of i)t=await o(t)}catch(i){t=i}throw t})(),n=()=>r;return r.json=n,r.text=n,r.buffer=n,r.on=n,r}nA.default=Iee});var IO=y(iA=>{"use strict";Object.defineProperty(iA,"__esModule",{value:!0});var _O=oo();function wO(t){for(let e of Object.values(t))(_O.default.plainObject(e)||_O.default.array(e))&&wO(e);return Object.freeze(t)}iA.default=wO});var SO=y(AO=>{"use strict";Object.defineProperty(AO,"__esModule",{value:!0})});var oA=y(mn=>{"use strict";var Aee=mn&&mn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),See=mn&&mn.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Aee(e,t,r)};Object.defineProperty(mn,"__esModule",{value:!0});mn.defaultHandler=void 0;var EO=oo(),hn=rA(),Eee=vO(),ug=uf(),Pee=IO(),Lee={RequestError:hn.RequestError,CacheError:hn.CacheError,ReadError:hn.ReadError,HTTPError:hn.HTTPError,MaxRedirectsError:hn.MaxRedirectsError,TimeoutError:hn.TimeoutError,ParseError:hn.ParseError,CancelError:hn.CancelError,UnsupportedProtocolError:hn.UnsupportedProtocolError,UploadError:hn.UploadError},xee=async t=>new Promise(e=>{setTimeout(e,t)}),{normalizeArguments:ag}=ug.default,PO=(...t)=>{let e;for(let r of t)e=ag(void 0,r,e);return e},Cee=t=>t.isStream?new ug.default(void 0,t):hn.default(t),Dee=t=>"defaults"in t&&"options"in t.defaults,$ee=["get","post","put","patch","head","delete"];mn.defaultHandler=(t,e)=>e(t);var LO=(t,e)=>{if(t)for(let r of t)r(e)},xO=t=>{t._rawHandlers=t.handlers,t.handlers=t.handlers.map(n=>(i,o)=>{let s,a=n(i,u=>(s=o(u),s));if(a!==s&&!i.isStream&&s){let u=a,{then:c,catch:l,finally:p}=u;Object.setPrototypeOf(u,Object.getPrototypeOf(s)),Object.defineProperties(u,Object.getOwnPropertyDescriptors(s)),u.then=c,u.catch=l,u.finally=p}return a});let e=(n,i={},o)=>{var s,a;let u=0,c=l=>t.handlers[u++](l,u===t.handlers.length?Cee:c);if(EO.default.plainObject(n)){let l={...n,...i};ug.setNonEnumerableProperties([n,i],l),i=l,n=void 0}try{let l;try{LO(t.options.hooks.init,i),LO((s=i.hooks)===null||s===void 0?void 0:s.init,i)}catch(f){l=f}let p=ag(n,i,o??t.options);if(p[ug.kIsNormalizedAlready]=!0,l)throw new hn.RequestError(l.message,l,p);return c(p)}catch(l){if(i.isStream)throw l;return Eee.default(l,t.options.hooks.beforeError,(a=i.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...n)=>{let i=[t.options],o=[...t._rawHandlers],s;for(let a of n)Dee(a)?(i.push(a.defaults.options),o.push(...a.defaults._rawHandlers),s=a.defaults.mutableDefaults):(i.push(a),"handlers"in a&&o.push(...a.handlers),s=a.mutableDefaults);return o=o.filter(a=>a!==mn.defaultHandler),o.length===0&&o.push(mn.defaultHandler),xO({options:PO(...i),handlers:o,mutableDefaults:!!s})};let r=async function*(n,i){let o=ag(n,i,t.options);o.resolveBodyOnly=!1;let s=o.pagination;if(!EO.default.object(s))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:u}=s,c=0;for(;c<s.requestLimit;){c!==0&&await xee(s.backoff);let l=await e(void 0,void 0,o),p=await s.transform(l),f=[];for(let h of p)if(s.filter(h,a,f)&&(!s.shouldContinue(h,a,f)||(yield h,s.stackAllItems&&a.push(h),f.push(h),--u<=0)))return;let m=s.paginate(l,a,f);if(m===!1)return;m===l.request.options?o=l.request.options:m!==void 0&&(o=ag(void 0,m,o)),c++}};e.paginate=r,e.paginate.all=async(n,i)=>{let o=[];for await(let s of r(n,i))o.push(s);return o},e.paginate.each=r,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of $ee)e[n]=(i,o)=>e(i,{...o,method:n}),e.stream[n]=(i,o)=>e(i,{...o,method:n,isStream:!0});return Object.assign(e,Lee),Object.defineProperty(e,"defaults",{value:t.mutableDefaults?t:Pee.default(t),writable:t.mutableDefaults,configurable:t.mutableDefaults,enumerable:!0}),e.mergeOptions=PO,e};mn.default=xO;See(SO(),mn)});var $O=y((so,cg)=>{"use strict";var Tee=so&&so.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),CO=so&&so.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&Tee(e,t,r)};Object.defineProperty(so,"__esModule",{value:!0});var Mee=v("url"),DO=oA(),Ree={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:t})=>t},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:t=>t.request.options.responseType==="json"?t.body:JSON.parse(t.body),paginate:t=>{if(!Reflect.has(t.headers,"link"))return!1;let e=t.headers.link.split(","),r;for(let n of e){let i=n.split(";");if(i[1].includes("next")){r=i[0].trimStart().trim(),r=r.slice(1,-1);break}}return r?{url:new Mee.URL(r)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:t=>JSON.parse(t),stringifyJson:t=>JSON.stringify(t),cacheOptions:{}},handlers:[DO.defaultHandler],mutableDefaults:!1},sA=DO.default(Ree);so.default=sA;cg.exports=sA;cg.exports.default=sA;cg.exports.__esModule=!0;CO(oA(),so);CO(rA(),so)});var UO=y((M0e,fg)=>{var Lt=function(t){"use strict";var e=1e7,r=7,n=9007199254740992,i=f(n),o="0123456789abcdefghijklmnopqrstuvwxyz",s=typeof BigInt=="function";function a(d,H,_,w){return typeof d>"u"?a[0]:typeof H<"u"?+H==10&&!_?He(d):ot(d,H,_,w):He(d)}function u(d,H){this.value=d,this.sign=H,this.isSmall=!1}u.prototype=Object.create(a.prototype);function c(d){this.value=d,this.sign=d<0,this.isSmall=!0}c.prototype=Object.create(a.prototype);function l(d){this.value=d}l.prototype=Object.create(a.prototype);function p(d){return-n<d&&d<n}function f(d){return d<1e7?[d]:d<1e14?[d%1e7,Math.floor(d/1e7)]:[d%1e7,Math.floor(d/1e7)%1e7,Math.floor(d/1e14)]}function m(d){h(d);var H=d.length;if(H<4&&re(d,i)<0)switch(H){case 0:return 0;case 1:return d[0];case 2:return d[0]+d[1]*e;default:return d[0]+(d[1]+d[2]*e)*e}return d}function h(d){for(var H=d.length;d[--H]===0;);d.length=H+1}function g(d){for(var H=new Array(d),_=-1;++_<d;)H[_]=0;return H}function b(d){return d>0?Math.floor(d):Math.ceil(d)}function A(d,H){var _=d.length,w=H.length,L=new Array(_),C=0,R=e,k,T;for(T=0;T<w;T++)k=d[T]+H[T]+C,C=k>=R?1:0,L[T]=k-C*R;for(;T<_;)k=d[T]+C,C=k===R?1:0,L[T++]=k-C*R;return C>0&&L.push(C),L}function D(d,H){return d.length>=H.length?A(d,H):A(H,d)}function U(d,H){var _=d.length,w=new Array(_),L=e,C,R;for(R=0;R<_;R++)C=d[R]-L+H,H=Math.floor(C/L),w[R]=C-H*L,H+=1;for(;H>0;)w[R++]=H%L,H=Math.floor(H/L);return w}u.prototype.add=function(d){var H=He(d);if(this.sign!==H.sign)return this.subtract(H.negate());var _=this.value,w=H.value;return H.isSmall?new u(U(_,Math.abs(w)),this.sign):new u(D(_,w),this.sign)},u.prototype.plus=u.prototype.add,c.prototype.add=function(d){var H=He(d),_=this.value;if(_<0!==H.sign)return this.subtract(H.negate());var w=H.value;if(H.isSmall){if(p(_+w))return new c(_+w);w=f(Math.abs(w))}return new u(U(w,Math.abs(_)),_<0)},c.prototype.plus=c.prototype.add,l.prototype.add=function(d){return new l(this.value+He(d).value)},l.prototype.plus=l.prototype.add;function $(d,H){var _=d.length,w=H.length,L=new Array(_),C=0,R=e,k,T;for(k=0;k<w;k++)T=d[k]-C-H[k],T<0?(T+=R,C=1):C=0,L[k]=T;for(k=w;k<_;k++){if(T=d[k]-C,T<0)T+=R;else{L[k++]=T;break}L[k]=T}for(;k<_;k++)L[k]=d[k];return h(L),L}function W(d,H,_){var w;return re(d,H)>=0?w=$(d,H):(w=$(H,d),_=!_),w=m(w),typeof w=="number"?(_&&(w=-w),new c(w)):new u(w,_)}function z(d,H,_){var w=d.length,L=new Array(w),C=-H,R=e,k,T;for(k=0;k<w;k++)T=d[k]+C,C=Math.floor(T/R),T%=R,L[k]=T<0?T+R:T;return L=m(L),typeof L=="number"?(_&&(L=-L),new c(L)):new u(L,_)}u.prototype.subtract=function(d){var H=He(d);if(this.sign!==H.sign)return this.add(H.negate());var _=this.value,w=H.value;return H.isSmall?z(_,Math.abs(w),this.sign):W(_,w,this.sign)},u.prototype.minus=u.prototype.subtract,c.prototype.subtract=function(d){var H=He(d),_=this.value;if(_<0!==H.sign)return this.add(H.negate());var w=H.value;return H.isSmall?new c(_-w):z(w,Math.abs(_),_>=0)},c.prototype.minus=c.prototype.subtract,l.prototype.subtract=function(d){return new l(this.value-He(d).value)},l.prototype.minus=l.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},c.prototype.negate=function(){var d=this.sign,H=new c(-this.value);return H.sign=!d,H},l.prototype.negate=function(){return new l(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},c.prototype.abs=function(){return new c(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)};function X(d,H){var _=d.length,w=H.length,L=_+w,C=g(L),R=e,k,T,ee,ae,de;for(ee=0;ee<_;++ee){ae=d[ee];for(var Se=0;Se<w;++Se)de=H[Se],k=ae*de+C[ee+Se],T=Math.floor(k/R),C[ee+Se]=k-T*R,C[ee+Se+1]+=T}return h(C),C}function j(d,H){var _=d.length,w=new Array(_),L=e,C=0,R,k;for(k=0;k<_;k++)R=d[k]*H+C,C=Math.floor(R/L),w[k]=R-C*L;for(;C>0;)w[k++]=C%L,C=Math.floor(C/L);return w}function O(d,H){for(var _=[];H-- >0;)_.push(0);return _.concat(d)}function N(d,H){var _=Math.max(d.length,H.length);if(_<=30)return X(d,H);_=Math.ceil(_/2);var w=d.slice(_),L=d.slice(0,_),C=H.slice(_),R=H.slice(0,_),k=N(L,R),T=N(w,C),ee=N(D(L,w),D(R,C)),ae=D(D(k,O($($(ee,k),T),_)),O(T,2*_));return h(ae),ae}function E(d,H){return-.012*d-.012*H+15e-6*d*H>0}u.prototype.multiply=function(d){var H=He(d),_=this.value,w=H.value,L=this.sign!==H.sign,C;if(H.isSmall){if(w===0)return a[0];if(w===1)return this;if(w===-1)return this.negate();if(C=Math.abs(w),C<e)return new u(j(_,C),L);w=f(C)}return E(_.length,w.length)?new u(N(_,w),L):new u(X(_,w),L)},u.prototype.times=u.prototype.multiply;function q(d,H,_){return d<e?new u(j(H,d),_):new u(X(H,f(d)),_)}c.prototype._multiplyBySmall=function(d){return p(d.value*this.value)?new c(d.value*this.value):q(Math.abs(d.value),f(Math.abs(this.value)),this.sign!==d.sign)},u.prototype._multiplyBySmall=function(d){return d.value===0?a[0]:d.value===1?this:d.value===-1?this.negate():q(Math.abs(d.value),this.value,this.sign!==d.sign)},c.prototype.multiply=function(d){return He(d)._multiplyBySmall(this)},c.prototype.times=c.prototype.multiply,l.prototype.multiply=function(d){return new l(this.value*He(d).value)},l.prototype.times=l.prototype.multiply;function F(d){var H=d.length,_=g(H+H),w=e,L,C,R,k,T;for(R=0;R<H;R++){k=d[R],C=0-k*k;for(var ee=R;ee<H;ee++)T=d[ee],L=2*(k*T)+_[R+ee]+C,C=Math.floor(L/w),_[R+ee]=L-C*w;_[R+H]=C}return h(_),_}u.prototype.square=function(){return new u(F(this.value),!1)},c.prototype.square=function(){var d=this.value*this.value;return p(d)?new c(d):new u(F(f(Math.abs(this.value))),!1)},l.prototype.square=function(d){return new l(this.value*this.value)};function G(d,H){var _=d.length,w=H.length,L=e,C=g(H.length),R=H[w-1],k=Math.ceil(L/(2*R)),T=j(d,k),ee=j(H,k),ae,de,Se,Tr,wr,ub,cb;for(T.length<=_&&T.push(0),ee.push(0),R=ee[w-1],de=_-w;de>=0;de--){for(ae=L-1,T[de+w]!==R&&(ae=Math.floor((T[de+w]*L+T[de+w-1])/R)),Se=0,Tr=0,ub=ee.length,wr=0;wr<ub;wr++)Se+=ae*ee[wr],cb=Math.floor(Se/L),Tr+=T[de+wr]-(Se-cb*L),Se=cb,Tr<0?(T[de+wr]=Tr+L,Tr=-1):(T[de+wr]=Tr,Tr=0);for(;Tr!==0;){for(ae-=1,Se=0,wr=0;wr<ub;wr++)Se+=T[de+wr]-L+ee[wr],Se<0?(T[de+wr]=Se+L,Se=0):(T[de+wr]=Se,Se=1);Tr+=Se}C[de]=ae}return T=x(T,k)[0],[m(C),m(T)]}function P(d,H){for(var _=d.length,w=H.length,L=[],C=[],R=e,k,T,ee,ae,de;_;){if(C.unshift(d[--_]),h(C),re(C,H)<0){L.push(0);continue}T=C.length,ee=C[T-1]*R+C[T-2],ae=H[w-1]*R+H[w-2],T>w&&(ee=(ee+1)*R),k=Math.ceil(ee/ae);do{if(de=j(H,k),re(de,C)<=0)break;k--}while(k);L.push(k),C=$(C,de)}return L.reverse(),[m(L),m(C)]}function x(d,H){var _=d.length,w=g(_),L=e,C,R,k,T;for(k=0,C=_-1;C>=0;--C)T=k*L+d[C],R=b(T/H),k=T-R*H,w[C]=R|0;return[w,k|0]}function se(d,H){var _,w=He(H);if(s)return[new l(d.value/w.value),new l(d.value%w.value)];var L=d.value,C=w.value,R;if(C===0)throw new Error("Cannot divide by zero");if(d.isSmall)return w.isSmall?[new c(b(L/C)),new c(L%C)]:[a[0],d];if(w.isSmall){if(C===1)return[d,a[0]];if(C==-1)return[d.negate(),a[0]];var k=Math.abs(C);if(k<e){_=x(L,k),R=m(_[0]);var T=_[1];return d.sign&&(T=-T),typeof R=="number"?(d.sign!==w.sign&&(R=-R),[new c(R),new c(T)]):[new u(R,d.sign!==w.sign),new c(T)]}C=f(k)}var ee=re(L,C);if(ee===-1)return[a[0],d];if(ee===0)return[a[d.sign===w.sign?1:-1],a[0]];L.length+C.length<=200?_=G(L,C):_=P(L,C),R=_[0];var ae=d.sign!==w.sign,de=_[1],Se=d.sign;return typeof R=="number"?(ae&&(R=-R),R=new c(R)):R=new u(R,ae),typeof de=="number"?(Se&&(de=-de),de=new c(de)):de=new u(de,Se),[R,de]}u.prototype.divmod=function(d){var H=se(this,d);return{quotient:H[0],remainder:H[1]}},l.prototype.divmod=c.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(d){return se(this,d)[0]},l.prototype.over=l.prototype.divide=function(d){return new l(this.value/He(d).value)},c.prototype.over=c.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(d){return se(this,d)[1]},l.prototype.mod=l.prototype.remainder=function(d){return new l(this.value%He(d).value)},c.prototype.remainder=c.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(d){var H=He(d),_=this.value,w=H.value,L,C,R;if(w===0)return a[1];if(_===0)return a[0];if(_===1)return a[1];if(_===-1)return H.isEven()?a[1]:a[-1];if(H.sign)return a[0];if(!H.isSmall)throw new Error("The exponent "+H.toString()+" is too large.");if(this.isSmall&&p(L=Math.pow(_,w)))return new c(b(L));for(C=this,R=a[1];w&!0&&(R=R.times(C),--w),w!==0;)w/=2,C=C.square();return R},c.prototype.pow=u.prototype.pow,l.prototype.pow=function(d){var H=He(d),_=this.value,w=H.value,L=BigInt(0),C=BigInt(1),R=BigInt(2);if(w===L)return a[1];if(_===L)return a[0];if(_===C)return a[1];if(_===BigInt(-1))return H.isEven()?a[1]:a[-1];if(H.isNegative())return new l(L);for(var k=this,T=a[1];(w&C)===C&&(T=T.times(k),--w),w!==L;)w/=R,k=k.square();return T},u.prototype.modPow=function(d,H){if(d=He(d),H=He(H),H.isZero())throw new Error("Cannot take modPow with modulus 0");var _=a[1],w=this.mod(H);for(d.isNegative()&&(d=d.multiply(a[-1]),w=w.modInv(H));d.isPositive();){if(w.isZero())return a[0];d.isOdd()&&(_=_.multiply(w).mod(H)),d=d.divide(2),w=w.square().mod(H)}return _},l.prototype.modPow=c.prototype.modPow=u.prototype.modPow;function re(d,H){if(d.length!==H.length)return d.length>H.length?1:-1;for(var _=d.length-1;_>=0;_--)if(d[_]!==H[_])return d[_]>H[_]?1:-1;return 0}u.prototype.compareAbs=function(d){var H=He(d),_=this.value,w=H.value;return H.isSmall?1:re(_,w)},c.prototype.compareAbs=function(d){var H=He(d),_=Math.abs(this.value),w=H.value;return H.isSmall?(w=Math.abs(w),_===w?0:_>w?1:-1):-1},l.prototype.compareAbs=function(d){var H=this.value,_=He(d).value;return H=H>=0?H:-H,_=_>=0?_:-_,H===_?0:H>_?1:-1},u.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var H=He(d),_=this.value,w=H.value;return this.sign!==H.sign?H.sign?1:-1:H.isSmall?this.sign?-1:1:re(_,w)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,c.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var H=He(d),_=this.value,w=H.value;return H.isSmall?_==w?0:_>w?1:-1:_<0!==H.sign?_<0?-1:1:_<0?1:-1},c.prototype.compareTo=c.prototype.compare,l.prototype.compare=function(d){if(d===1/0)return-1;if(d===-1/0)return 1;var H=this.value,_=He(d).value;return H===_?0:H>_?1:-1},l.prototype.compareTo=l.prototype.compare,u.prototype.equals=function(d){return this.compare(d)===0},l.prototype.eq=l.prototype.equals=c.prototype.eq=c.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(d){return this.compare(d)!==0},l.prototype.neq=l.prototype.notEquals=c.prototype.neq=c.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(d){return this.compare(d)>0},l.prototype.gt=l.prototype.greater=c.prototype.gt=c.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(d){return this.compare(d)<0},l.prototype.lt=l.prototype.lesser=c.prototype.lt=c.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(d){return this.compare(d)>=0},l.prototype.geq=l.prototype.greaterOrEquals=c.prototype.geq=c.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(d){return this.compare(d)<=0},l.prototype.leq=l.prototype.lesserOrEquals=c.prototype.leq=c.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return(this.value[0]&1)===0},c.prototype.isEven=function(){return(this.value&1)===0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return(this.value[0]&1)===1},c.prototype.isOdd=function(){return(this.value&1)===1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},c.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=c.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},c.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=c.prototype.isNegative,u.prototype.isUnit=function(){return!1},c.prototype.isUnit=function(){return Math.abs(this.value)===1},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},c.prototype.isZero=function(){return this.value===0},l.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(d){var H=He(d);return H.isZero()?!1:H.isUnit()?!0:H.compareAbs(2)===0?this.isEven():this.mod(H).isZero()},l.prototype.isDivisibleBy=c.prototype.isDivisibleBy=u.prototype.isDivisibleBy;function pe(d){var H=d.abs();if(H.isUnit())return!1;if(H.equals(2)||H.equals(3)||H.equals(5))return!0;if(H.isEven()||H.isDivisibleBy(3)||H.isDivisibleBy(5))return!1;if(H.lesser(49))return!0}function ce(d,H){for(var _=d.prev(),w=_,L=0,C,R,k,T;w.isEven();)w=w.divide(2),L++;e:for(k=0;k<H.length;k++)if(!d.lesser(H[k])&&(T=Lt(H[k]).modPow(w,d),!(T.isUnit()||T.equals(_)))){for(C=L-1;C!=0;C--){if(T=T.square().mod(d),T.isUnit())return!1;if(T.equals(_))continue e}return!1}return!0}u.prototype.isPrime=function(d){var H=pe(this);if(H!==t)return H;var _=this.abs(),w=_.bitLength();if(w<=64)return ce(_,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var L=Math.log(2)*w.toJSNumber(),C=Math.ceil(d===!0?2*Math.pow(L,2):L),R=[],k=0;k<C;k++)R.push(Lt(k+2));return ce(_,R)},l.prototype.isPrime=c.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(d,H){var _=pe(this);if(_!==t)return _;for(var w=this.abs(),L=d===t?5:d,C=[],R=0;R<L;R++)C.push(Lt.randBetween(2,w.minus(2),H));return ce(w,C)},l.prototype.isProbablePrime=c.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(d){for(var H=Lt.zero,_=Lt.one,w=He(d),L=this.abs(),C,R,k;!L.isZero();)C=w.divide(L),R=H,k=w,H=_,w=L,_=R.subtract(C.multiply(_)),L=k.subtract(C.multiply(L));if(!w.isUnit())throw new Error(this.toString()+" and "+d.toString()+" are not co-prime");return H.compare(0)===-1&&(H=H.add(d)),this.isNegative()?H.negate():H},l.prototype.modInv=c.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var d=this.value;return this.sign?z(d,1,this.sign):new u(U(d,1),this.sign)},c.prototype.next=function(){var d=this.value;return d+1<n?new c(d+1):new u(i,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},u.prototype.prev=function(){var d=this.value;return this.sign?new u(U(d,1),!0):z(d,1,this.sign)},c.prototype.prev=function(){var d=this.value;return d-1>-n?new c(d-1):new u(i,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var te=[1];2*te[te.length-1]<=e;)te.push(2*te[te.length-1]);var fe=te.length,be=te[fe-1];function ge(d){return Math.abs(d)<=e}u.prototype.shiftLeft=function(d){var H=He(d).toJSNumber();if(!ge(H))throw new Error(String(H)+" is too large for shifting.");if(H<0)return this.shiftRight(-H);var _=this;if(_.isZero())return _;for(;H>=fe;)_=_.multiply(be),H-=fe-1;return _.multiply(te[H])},l.prototype.shiftLeft=c.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(d){var H,_=He(d).toJSNumber();if(!ge(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftLeft(-_);for(var w=this;_>=fe;){if(w.isZero()||w.isNegative()&&w.isUnit())return w;H=se(w,be),w=H[1].isNegative()?H[0].prev():H[0],_-=fe-1}return H=se(w,te[_]),H[1].isNegative()?H[0].prev():H[0]},l.prototype.shiftRight=c.prototype.shiftRight=u.prototype.shiftRight;function Wt(d,H,_){H=He(H);for(var w=d.isNegative(),L=H.isNegative(),C=w?d.not():d,R=L?H.not():H,k=0,T=0,ee=null,ae=null,de=[];!C.isZero()||!R.isZero();)ee=se(C,be),k=ee[1].toJSNumber(),w&&(k=be-1-k),ae=se(R,be),T=ae[1].toJSNumber(),L&&(T=be-1-T),C=ee[0],R=ae[0],de.push(_(k,T));for(var Se=_(w?1:0,L?1:0)!==0?Lt(-1):Lt(0),Tr=de.length-1;Tr>=0;Tr-=1)Se=Se.multiply(be).add(Lt(de[Tr]));return Se}u.prototype.not=function(){return this.negate().prev()},l.prototype.not=c.prototype.not=u.prototype.not,u.prototype.and=function(d){return Wt(this,d,function(H,_){return H&_})},l.prototype.and=c.prototype.and=u.prototype.and,u.prototype.or=function(d){return Wt(this,d,function(H,_){return H|_})},l.prototype.or=c.prototype.or=u.prototype.or,u.prototype.xor=function(d){return Wt(this,d,function(H,_){return H^_})},l.prototype.xor=c.prototype.xor=u.prototype.xor;var me=1<<30,pr=(e&-e)*(e&-e)|me;function $r(d){var H=d.value,_=typeof H=="number"?H|me:typeof H=="bigint"?H|BigInt(me):H[0]+H[1]*e|pr;return _&-_}function Y(d,H){if(H.compareTo(d)<=0){var _=Y(d,H.square(H)),w=_.p,L=_.e,C=w.multiply(H);return C.compareTo(d)<=0?{p:C,e:L*2+1}:{p:w,e:L*2}}return{p:Lt(1),e:0}}u.prototype.bitLength=function(){var d=this;return d.compareTo(Lt(0))<0&&(d=d.negate().subtract(Lt(1))),d.compareTo(Lt(0))===0?Lt(0):Lt(Y(d,Lt(2)).e).add(Lt(1))},l.prototype.bitLength=c.prototype.bitLength=u.prototype.bitLength;function Ie(d,H){return d=He(d),H=He(H),d.greater(H)?d:H}function J(d,H){return d=He(d),H=He(H),d.lesser(H)?d:H}function he(d,H){if(d=He(d).abs(),H=He(H).abs(),d.equals(H))return d;if(d.isZero())return H;if(H.isZero())return d;for(var _=a[1],w,L;d.isEven()&&H.isEven();)w=J($r(d),$r(H)),d=d.divide(w),H=H.divide(w),_=_.multiply(w);for(;d.isEven();)d=d.divide($r(d));do{for(;H.isEven();)H=H.divide($r(H));d.greater(H)&&(L=H,H=d,d=L),H=H.subtract(d)}while(!H.isZero());return _.isUnit()?d:d.multiply(_)}function Te(d,H){return d=He(d).abs(),H=He(H).abs(),d.divide(he(d,H)).multiply(H)}function Ze(d,H,_){d=He(d),H=He(H);var w=_||Math.random,L=J(d,H),C=Ie(d,H),R=C.subtract(L).add(1);if(R.isSmall)return L.add(Math.floor(w()*R));for(var k=ks(R,e).value,T=[],ee=!0,ae=0;ae<k.length;ae++){var de=ee?k[ae]:e,Se=b(w()*de);T.push(Se),Se<de&&(ee=!1)}return L.add(a.fromArray(T,e,!1))}var ot=function(d,H,_,w){_=_||o,d=String(d),w||(d=d.toLowerCase(),_=_.toLowerCase());var L=d.length,C,R=Math.abs(H),k={};for(C=0;C<_.length;C++)k[_[C]]=C;for(C=0;C<L;C++){var T=d[C];if(T!=="-"&&T in k&&k[T]>=R){if(T==="1"&&R===1)continue;throw new Error(T+" is not a valid digit in base "+H+".")}}H=He(H);var ee=[],ae=d[0]==="-";for(C=ae?1:0;C<d.length;C++){var T=d[C];if(T in k)ee.push(He(k[T]));else if(T==="<"){var de=C;do C++;while(d[C]!==">"&&C<d.length);ee.push(He(d.slice(de+1,C)))}else throw new Error(T+" is not a valid character")}return Ao(ee,H,ae)};function Ao(d,H,_){var w=a[0],L=a[1],C;for(C=d.length-1;C>=0;C--)w=w.add(d[C].times(L)),L=L.times(H);return _?w.negate():w}function So(d,H){return H=H||o,d<H.length?H[d]:"<"+d+">"}function ks(d,H){if(H=Lt(H),H.isZero()){if(d.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(H.equals(-1)){if(d.isZero())return{value:[0],isNegative:!1};if(d.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-d.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var _=Array.apply(null,Array(d.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return _.unshift([1]),{value:[].concat.apply([],_),isNegative:!1}}var w=!1;if(d.isNegative()&&H.isPositive()&&(w=!0,d=d.abs()),H.isUnit())return d.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(d.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:w};for(var L=[],C=d,R;C.isNegative()||C.compareAbs(H)>=0;){R=C.divmod(H),C=R.quotient;var k=R.remainder;k.isNegative()&&(k=H.minus(k).abs(),C=C.next()),L.push(k.toJSNumber())}return L.push(C.toJSNumber()),{value:L.reverse(),isNegative:w}}function eu(d,H,_){var w=ks(d,H);return(w.isNegative?"-":"")+w.value.map(function(L){return So(L,_)}).join("")}u.prototype.toArray=function(d){return ks(this,d)},c.prototype.toArray=function(d){return ks(this,d)},l.prototype.toArray=function(d){return ks(this,d)},u.prototype.toString=function(d,H){if(d===t&&(d=10),d!==10)return eu(this,d,H);for(var _=this.value,w=_.length,L=String(_[--w]),C="0000000",R;--w>=0;)R=String(_[w]),L+=C.slice(R.length)+R;var k=this.sign?"-":"";return k+L},c.prototype.toString=function(d,H){return d===t&&(d=10),d!=10?eu(this,d,H):String(this.value)},l.prototype.toString=c.prototype.toString,l.prototype.toJSON=u.prototype.toJSON=c.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,c.prototype.valueOf=function(){return this.value},c.prototype.toJSNumber=c.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function cd(d){if(p(+d)){var H=+d;if(H===b(H))return s?new l(BigInt(H)):new c(H);throw new Error("Invalid integer: "+d)}var _=d[0]==="-";_&&(d=d.slice(1));var w=d.split(/e/i);if(w.length>2)throw new Error("Invalid integer: "+w.join("e"));if(w.length===2){var L=w[1];if(L[0]==="+"&&(L=L.slice(1)),L=+L,L!==b(L)||!p(L))throw new Error("Invalid integer: "+L+" is not a valid exponent.");var C=w[0],R=C.indexOf(".");if(R>=0&&(L-=C.length-R-1,C=C.slice(0,R)+C.slice(R+1)),L<0)throw new Error("Cannot include negative exponent part for integers");C+=new Array(L+1).join("0"),d=C}var k=/^([0-9][0-9]*)$/.test(d);if(!k)throw new Error("Invalid integer: "+d);if(s)return new l(BigInt(_?"-"+d:d));for(var T=[],ee=d.length,ae=r,de=ee-ae;ee>0;)T.push(+d.slice(de,ee)),de-=ae,de<0&&(de=0),ee-=ae;return h(T),new u(T,_)}function ab(d){if(s)return new l(BigInt(d));if(p(d)){if(d!==b(d))throw new Error(d+" is not an integer.");return new c(d)}return cd(d.toString())}function He(d){return typeof d=="number"?ab(d):typeof d=="string"?cd(d):typeof d=="bigint"?new l(d):d}for(var In=0;In<1e3;In++)a[In]=He(In),In>0&&(a[-In]=He(-In));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=Ie,a.min=J,a.gcd=he,a.lcm=Te,a.isInstance=function(d){return d instanceof u||d instanceof c||d instanceof l},a.randBetween=Ze,a.fromArray=function(d,H,_){return Ao(d.map(He),He(H||10),_)},a}();typeof fg<"u"&&fg.hasOwnProperty("exports")&&(fg.exports=Lt);typeof define=="function"&&define.amd&&define(function(){return Lt})});var jO=y(xt=>{"use strict";var Bee=v("fs"),Fee=UO(),fs=!1;xt.maxObjectSize=100*1e3*1e3;xt.maxObjectCount=32768;var Uee=9783072e5,jee=xt.UID=function(t){this.UID=t},R0e=xt.parseFile=function(t,e){function r(n){var i=null,o;try{o=Wee(n)}catch(s){i=s}e(i,o)}if(Buffer.isBuffer(t))return r(t);Bee.readFile(t,function(n,i){if(n)return e(n);r(i)})},Wee=xt.parseBuffer=function(t){var e={},r=t.slice(0,6).toString("utf8");if(r!=="bplist")throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");var n=t.slice(t.length-32,t.length),i=n.readUInt8(6);fs&&console.log("offsetSize: "+i);var o=n.readUInt8(7);fs&&console.log("objectRefSize: "+o);var s=aA(n,8);fs&&console.log("numObjects: "+s);var a=aA(n,16);fs&&console.log("topObject: "+a);var u=aA(n,24);if(fs&&console.log("offsetTableOffset: "+u),s>xt.maxObjectCount)throw new Error("maxObjectCount exceeded");for(var c=[],l=0;l<s;l++){var p=t.slice(u+l*i,u+(l+1)*i);c[l]=Dr(p,0),fs&&console.log("Offset for Object #"+l+" is "+c[l]+" ["+c[l].toString(16)+"]")}function f(m){var h=c[m],g=t[h],b=(g&240)>>4,A=g&15;switch(b){case 0:return D();case 1:return $();case 8:return W();case 2:return z();case 3:return X();case 4:return j();case 5:return O();case 6:return O(!0);case 10:return N();case 13:return E();default:throw new Error("Unhandled type 0x"+b.toString(16))}function D(){switch(A){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+b.toString(16))}}function U(q){var F="",G;for(G=0;G<q.length&&q[G]==0;G++);for(;G<q.length;G++){var P="00"+q[G].toString(16);F+=P.substr(P.length-2)}return F}function $(){var q=Math.pow(2,A);if(q>4){var F=t.slice(h+1,h+1+q),G=U(F);return Fee(G,16)}if(q<xt.maxObjectSize)return Dr(t.slice(h+1,h+1+q));throw new Error("To little heap space available! Wanted to read "+q+" bytes, but only "+xt.maxObjectSize+" are available.")}function W(){var q=A+1;if(q<xt.maxObjectSize)return new jee(Dr(t.slice(h+1,h+1+q)));throw new Error("To little heap space available! Wanted to read "+q+" bytes, but only "+xt.maxObjectSize+" are available.")}function z(){var q=Math.pow(2,A);if(q<xt.maxObjectSize){var F=t.slice(h+1,h+1+q);if(q===4)return F.readFloatBE(0);if(q===8)return F.readDoubleBE(0)}else throw new Error("To little heap space available! Wanted to read "+q+" bytes, but only "+xt.maxObjectSize+" are available.")}function X(){A!=3&&console.error("Unknown date type :"+A+". Parsing anyway...");var q=t.slice(h+1,h+9);return new Date(Uee+1e3*q.readDoubleBE(0))}function j(){var q=1,F=A;if(A==15){var G=t[h+1],P=(G&240)/16;P!=1&&console.error("0x4: UNEXPECTED LENGTH-INT TYPE! "+P);var x=G&15,se=Math.pow(2,x);q=2+se,se<3,F=Dr(t.slice(h+2,h+2+se))}if(F<xt.maxObjectSize)return t.slice(h+q,h+q+F);throw new Error("To little heap space available! Wanted to read "+F+" bytes, but only "+xt.maxObjectSize+" are available.")}function O(q){q=q||0;var F="utf8",G=A,P=1;if(A==15){var x=t[h+1],se=(x&240)/16;se!=1&&console.err("UNEXPECTED LENGTH-INT TYPE! "+se);var re=x&15,pe=Math.pow(2,re),P=2+pe;pe<3,G=Dr(t.slice(h+2,h+2+pe))}if(G*=q+1,G<xt.maxObjectSize){var ce=new Buffer(t.slice(h+P,h+P+G));return q&&(ce=qee(ce),F="ucs2"),ce.toString(F)}else throw new Error("To little heap space available! Wanted to read "+G+" bytes, but only "+xt.maxObjectSize+" are available.")}function N(){var q=A,F=1;if(A==15){var G=t[h+1],P=(G&240)/16;P!=1&&console.error("0xa: UNEXPECTED LENGTH-INT TYPE! "+P);var x=G&15,se=Math.pow(2,x);F=2+se,se<3,q=Dr(t.slice(h+2,h+2+se))}if(q*o>xt.maxObjectSize)throw new Error("To little heap space available!");for(var re=[],pe=0;pe<q;pe++){var ce=Dr(t.slice(h+F+pe*o,h+F+(pe+1)*o));re[pe]=f(ce)}return re}function E(){var q=A,F=1;if(A==15){var G=t[h+1],P=(G&240)/16;P!=1&&console.error("0xD: UNEXPECTED LENGTH-INT TYPE! "+P);var x=G&15,se=Math.pow(2,x);F=2+se,se<3,q=Dr(t.slice(h+2,h+2+se))}if(q*2*o>xt.maxObjectSize)throw new Error("To little heap space available!");fs&&console.log("Parsing dictionary #"+m);for(var re={},pe=0;pe<q;pe++){var ce=Dr(t.slice(h+F+pe*o,h+F+(pe+1)*o)),te=Dr(t.slice(h+F+q*o+pe*o,h+F+q*o+(pe+1)*o)),fe=f(ce),be=f(te);fs&&console.log("  DICT #"+m+": Mapped "+fe+" to "+be),re[fe]=be}return re}}return[f(a)]};function Dr(t,e){e=e||0;for(var r=0,n=e;n<t.length;n++)r<<=8,r|=t[n]&255;return r}function aA(t,e){var r=t.slice(e,e+8);return r.readUInt32BE(4,8)}function qee(t){for(var e=t.length,r=0;r<e;r+=2){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t}});var VO=y((O0e,qO)=>{"use strict";var WO=v("os");function Vee(){var t=process.env,e=t.HOME,r=t.LOGNAME||t.USER||t.LNAME||t.USERNAME;return process.platform==="win32"?t.USERPROFILE||t.HOMEDRIVE+t.HOMEPATH||e||null:process.platform==="darwin"?e||(r?"/Users/"+r:null):process.platform==="linux"?e||(process.getuid()===0?"/root":r?"/home/"+r:null):e||null}qO.exports=typeof WO.homedir=="function"?WO.homedir:Vee});var KO=y((N0e,XO)=>{"use strict";var Gee=VO(),GO=Gee();XO.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return GO?t.replace(/^~($|\/|\\)/,GO+"$1"):t}});var uA=y((B0e,YO)=>{"use strict";var zO=function(t,e,r){return function(){for(var n=this,i=new Array(arguments.length),o=0;o<arguments.length;o++)i[o]=arguments[o];return new e(function(s,a){i.push(function(u,c){if(u)a(u);else if(r.multiArgs){for(var l=new Array(arguments.length-1),p=1;p<arguments.length;p++)l[p-1]=arguments[p];s(l)}else s(c)}),t.apply(n,i)})}},JO=YO.exports=function(t,e,r){typeof e!="function"&&(r=e,e=Promise),r=r||{},r.exclude=r.exclude||[/.+Sync$/];var n=function(o){var s=function(a){return typeof a=="string"?o===a:a.test(o)};return r.include?r.include.some(s):!r.exclude.some(s)},i=typeof t=="function"?function(){return r.excludeMain?t.apply(this,arguments):zO(t,e,r).apply(this,arguments)}:{};return Object.keys(t).reduce(function(o,s){var a=t[s];return o[s]=typeof a=="function"&&n(s)?zO(a,e,r):a,o},i)};JO.all=JO});var ZO=y((F0e,QO)=>{"use strict";var Xee=v("os"),Kee=jO(),zee=KO(),Jee=uA(),Yee=Number(Xee.release().split(".")[0]),Qee=zee(Yee>=14?"~/Library/Preferences/com.apple.LaunchServices/com.apple.launchservices.secure.plist":"~/Library/Preferences/com.apple.LaunchServices.plist");QO.exports=()=>{if(process.platform!=="darwin")return Promise.reject(new Error("Only OS X is supported"));let t="com.apple.Safari";return Jee(Kee.parseFile)(Qee).then(e=>{let r=e&&e[0].LSHandlers;if(!r||r.length===0)return t;for(let n of r)if(n.LSHandlerURLScheme==="http"&&n.LSHandlerRoleAll){t=n.LSHandlerRoleAll;break}return t})}});var aN=y((U0e,sN)=>{"use strict";var lA="pending",eN="settled",dg="fulfilled",hg="rejected",Zee=function(){},tN=typeof global<"u"&&typeof global.process<"u"&&typeof global.process.emit=="function",ete=typeof setImmediate>"u"?setTimeout:setImmediate,pf=[],cA;function tte(){for(var t=0;t<pf.length;t++)pf[t][0](pf[t][1]);pf=[],cA=!1}function mg(t,e){pf.push([t,e]),cA||(cA=!0,ete(tte,0))}function rte(t,e){function r(i){pA(e,i)}function n(i){ff(e,i)}try{t(r,n)}catch(i){n(i)}}function rN(t){var e=t.owner,r=e._state,n=e._data,i=t[r],o=t.then;if(typeof i=="function"){r=dg;try{n=i(n)}catch(s){ff(o,s)}}nN(o,n)||(r===dg&&pA(o,n),r===hg&&ff(o,n))}function nN(t,e){var r;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(e&&(typeof e=="function"||typeof e=="object")){var n=e.then;if(typeof n=="function")return n.call(e,function(i){r||(r=!0,e===i?iN(t,i):pA(t,i))},function(i){r||(r=!0,ff(t,i))}),!0}}catch(i){return r||ff(t,i),!0}return!1}function pA(t,e){(t===e||!nN(t,e))&&iN(t,e)}function iN(t,e){t._state===lA&&(t._state=eN,t._data=e,mg(nte,t))}function ff(t,e){t._state===lA&&(t._state=eN,t._data=e,mg(ite,t))}function oN(t){t._then=t._then.forEach(rN)}function nte(t){t._state=dg,oN(t)}function ite(t){t._state=hg,oN(t),!t._handled&&tN&&global.process.emit("unhandledRejection",t._data,t)}function ote(t){global.process.emit("rejectionHandled",t)}function qr(t){if(typeof t!="function")throw new TypeError("Promise resolver "+t+" is not a function");if(!(this instanceof qr))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],rte(t,this)}qr.prototype={constructor:qr,_state:lA,_then:null,_data:void 0,_handled:!1,then:function(t,e){var r={owner:this,then:new this.constructor(Zee),fulfilled:t,rejected:e};return(e||t)&&!this._handled&&(this._handled=!0,this._state===hg&&tN&&mg(ote,this)),this._state===dg||this._state===hg?mg(rN,r):this._then.push(r),r.then},catch:function(t){return this.then(null,t)}};qr.all=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.all().");return new qr(function(e,r){var n=[],i=0;function o(u){return i++,function(c){n[u]=c,--i||e(n)}}for(var s=0,a;s<t.length;s++)a=t[s],a&&typeof a.then=="function"?a.then(o(s),r):n[s]=a;i||e(n)})};qr.race=function(t){if(!Array.isArray(t))throw new TypeError("You must pass an array to Promise.race().");return new qr(function(e,r){for(var n=0,i;n<t.length;n++)i=t[n],i&&typeof i.then=="function"?i.then(e,r):e(i)})};qr.resolve=function(t){return t&&typeof t=="object"&&t.constructor===qr?t:new qr(function(e){e(t)})};qr.reject=function(t){return new qr(function(e,r){r(t)})};sN.exports=qr});var cN=y((j0e,uN)=>{"use strict";uN.exports=typeof Promise=="function"?Promise:aN()});var fN=y((W0e,pN)=>{"use strict";var ste=v("child_process").execFile,lN=cN(),ate=uA();pN.exports=function(t){return process.platform!=="darwin"?lN.reject(new Error("Only OS X systems are supported")):ate(ste,lN)("osascript",["-e",t]).then(function(e){return e.trim()})}});var hN=y((q0e,dN)=>{"use strict";var ute=fN();dN.exports=t=>ute(`tell application "Finder" to set app_path to application file id "${t}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)});var yN=y((V0e,gN)=>{var mN=Object.prototype.hasOwnProperty;gN.exports=Vr;function Vr(t){if(!(this instanceof Vr))throw new TypeError("Constructor PseudoMap requires 'new'");if(this.clear(),t)if(t instanceof Vr||typeof Map=="function"&&t instanceof Map)t.forEach(function(e,r){this.set(r,e)},this);else if(Array.isArray(t))t.forEach(function(e){this.set(e[0],e[1])},this);else throw new TypeError("invalid argument")}Vr.prototype.forEach=function(t,e){e=e||this,Object.keys(this._data).forEach(function(r){r!=="size"&&t.call(e,this._data[r].value,this._data[r].key)},this)};Vr.prototype.has=function(t){return!!fA(this._data,t)};Vr.prototype.get=function(t){var e=fA(this._data,t);return e&&e.value};Vr.prototype.set=function(t,e){lte(this._data,t,e)};Vr.prototype.delete=function(t){var e=fA(this._data,t);e&&(delete this._data[e._index],this._data.size--)};Vr.prototype.clear=function(){var t=Object.create(null);t.size=0,Object.defineProperty(this,"_data",{value:t,enumerable:!1,configurable:!0,writable:!1})};Object.defineProperty(Vr.prototype,"size",{get:function(){return this._data.size},set:function(t){},enumerable:!0,configurable:!0});Vr.prototype.values=Vr.prototype.keys=Vr.prototype.entries=function(){throw new Error("iterators are not implemented in this version")};function HN(t,e){return t===e||t!==t&&e!==e}function cte(t,e,r){this.key=t,this.value=e,this._index=r}function fA(t,e){for(var r=0,n="_"+e,i=n;mN.call(t,i);i=n+r++)if(HN(t[i].key,e))return t[i]}function lte(t,e,r){for(var n=0,i="_"+e,o=i;mN.call(t,o);o=i+n++)if(HN(t[o].key,e)){t[o].value=r;return}t.size++,t[o]=new cte(e,r,o)}});var bN=y((G0e,dA)=>{process.env.npm_package_name==="pseudomap"&&process.env.npm_lifecycle_script==="test"&&(process.env.TEST_PSEUDOMAP="true");typeof Map=="function"&&!process.env.TEST_PSEUDOMAP?dA.exports=Map:dA.exports=yN()});var _N=y((X0e,vN)=>{vN.exports=Oe;Oe.Node=df;Oe.create=Oe;function Oe(t){var e=this;if(e instanceof Oe||(e=new Oe),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}Oe.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null};Oe.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};Oe.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};Oe.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)pte(this,arguments[t]);return this.length};Oe.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)fte(this,arguments[t]);return this.length};Oe.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};Oe.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};Oe.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};Oe.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};Oe.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};Oe.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};Oe.prototype.map=function(t,e){e=e||this;for(var r=new Oe,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};Oe.prototype.mapReverse=function(t,e){e=e||this;for(var r=new Oe,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};Oe.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;n!==null;i++)r=t(r,n.value,i),n=n.next;return r};Oe.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;n!==null;i--)r=t(r,n.value,i),n=n.prev;return r};Oe.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};Oe.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};Oe.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Oe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,i=this.head;i!==null&&n<t;n++)i=i.next;for(;i!==null&&n<e;n++,i=i.next)r.push(i.value);return r};Oe.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new Oe;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,i=this.tail;i!==null&&n>e;n--)i=i.prev;for(;i!==null&&n>t;n--,i=i.prev)r.push(i.value);return r};Oe.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function pte(t,e){t.tail=new df(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function fte(t,e){t.head=new df(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function df(t,e,r,n){if(!(this instanceof df))return new df(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}});var mA=y((K0e,AN)=>{"use strict";AN.exports=Je;var dte=bN(),hf=v("util"),hte=_N(),mte=typeof Symbol=="function"&&process.env._nodeLRUCacheForceNoSymbol!=="1",On;mte?On=function(t){return Symbol(t)}:On=function(t){return"_"+t};var uo=On("max"),Ci=On("length"),Pa=On("lengthCalculator"),kc=On("allowStale"),ds=On("maxAge"),ao=On("dispose"),wN=On("noDisposeOnSet"),Ct=On("lruList"),kn=On("cache");function mf(){return 1}function Je(t){if(!(this instanceof Je))return new Je(t);typeof t=="number"&&(t={max:t}),t||(t={});var e=this[uo]=t.max;(!e||typeof e!="number"||e<=0)&&(this[uo]=1/0);var r=t.length||mf;typeof r!="function"&&(r=mf),this[Pa]=r,this[kc]=t.stale||!1,this[ds]=t.maxAge||0,this[ao]=t.dispose,this[wN]=t.noDisposeOnSet||!1,this.reset()}Object.defineProperty(Je.prototype,"max",{set:function(t){(!t||typeof t!="number"||t<=0)&&(t=1/0),this[uo]=t,Hf(this)},get:function(){return this[uo]},enumerable:!0});Object.defineProperty(Je.prototype,"allowStale",{set:function(t){this[kc]=!!t},get:function(){return this[kc]},enumerable:!0});Object.defineProperty(Je.prototype,"maxAge",{set:function(t){(!t||typeof t!="number"||t<0)&&(t=0),this[ds]=t,Hf(this)},get:function(){return this[ds]},enumerable:!0});Object.defineProperty(Je.prototype,"lengthCalculator",{set:function(t){typeof t!="function"&&(t=mf),t!==this[Pa]&&(this[Pa]=t,this[Ci]=0,this[Ct].forEach(function(e){e.length=this[Pa](e.value,e.key),this[Ci]+=e.length},this)),Hf(this)},get:function(){return this[Pa]},enumerable:!0});Object.defineProperty(Je.prototype,"length",{get:function(){return this[Ci]},enumerable:!0});Object.defineProperty(Je.prototype,"itemCount",{get:function(){return this[Ct].length},enumerable:!0});Je.prototype.rforEach=function(t,e){e=e||this;for(var r=this[Ct].tail;r!==null;){var n=r.prev;IN(this,t,r,e),r=n}};function IN(t,e,r,n){var i=r.value;gf(t,i)&&(Oc(t,r),t[kc]||(i=void 0)),i&&e.call(n,i.value,i.key,t)}Je.prototype.forEach=function(t,e){e=e||this;for(var r=this[Ct].head;r!==null;){var n=r.next;IN(this,t,r,e),r=n}};Je.prototype.keys=function(){return this[Ct].toArray().map(function(t){return t.key},this)};Je.prototype.values=function(){return this[Ct].toArray().map(function(t){return t.value},this)};Je.prototype.reset=function(){this[ao]&&this[Ct]&&this[Ct].length&&this[Ct].forEach(function(t){this[ao](t.key,t.value)},this),this[kn]=new dte,this[Ct]=new hte,this[Ci]=0};Je.prototype.dump=function(){return this[Ct].map(function(t){if(!gf(this,t))return{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}},this).toArray().filter(function(t){return t})};Je.prototype.dumpLru=function(){return this[Ct]};Je.prototype.inspect=function(t,e){var r="LRUCache {",n=!1,i=this[kc];i&&(r+=`
  allowStale: true`,n=!0);var o=this[uo];o&&o!==1/0&&(n&&(r+=","),r+=`
  max: `+hf.inspect(o,e),n=!0);var s=this[ds];s&&(n&&(r+=","),r+=`
  maxAge: `+hf.inspect(s,e),n=!0);var a=this[Pa];a&&a!==mf&&(n&&(r+=","),r+=`
  length: `+hf.inspect(this[Ci],e),n=!0);var u=!1;return this[Ct].forEach(function(c){u?r+=`,
  `:(n&&(r+=`,
`),u=!0,r+=`
  `);var l=hf.inspect(c.key).split(`
`).join(`
  `),p={value:c.value};c.maxAge!==s&&(p.maxAge=c.maxAge),a!==mf&&(p.length=c.length),gf(this,c)&&(p.stale=!0),p=hf.inspect(p,e).split(`
`).join(`
  `),r+=l+" => "+p}),(u||n)&&(r+=`
`),r+="}",r};Je.prototype.set=function(t,e,r){r=r||this[ds];var n=r?Date.now():0,i=this[Pa](e,t);if(this[kn].has(t)){if(i>this[uo])return Oc(this,this[kn].get(t)),!1;var o=this[kn].get(t),s=o.value;return this[ao]&&(this[wN]||this[ao](t,s.value)),s.now=n,s.maxAge=r,s.value=e,this[Ci]+=i-s.length,s.length=i,this.get(t),Hf(this),!0}var a=new Hte(t,e,i,n,r);return a.length>this[uo]?(this[ao]&&this[ao](t,e),!1):(this[Ci]+=a.length,this[Ct].unshift(a),this[kn].set(t,this[Ct].head),Hf(this),!0)};Je.prototype.has=function(t){if(!this[kn].has(t))return!1;var e=this[kn].get(t).value;return!gf(this,e)};Je.prototype.get=function(t){return hA(this,t,!0)};Je.prototype.peek=function(t){return hA(this,t,!1)};Je.prototype.pop=function(){var t=this[Ct].tail;return t?(Oc(this,t),t.value):null};Je.prototype.del=function(t){Oc(this,this[kn].get(t))};Je.prototype.load=function(t){this.reset();for(var e=Date.now(),r=t.length-1;r>=0;r--){var n=t[r],i=n.e||0;if(i===0)this.set(n.k,n.v);else{var o=i-e;o>0&&this.set(n.k,n.v,o)}}};Je.prototype.prune=function(){var t=this;this[kn].forEach(function(e,r){hA(t,r,!1)})};function hA(t,e,r){var n=t[kn].get(e);if(n){var i=n.value;gf(t,i)?(Oc(t,n),t[kc]||(i=void 0)):r&&t[Ct].unshiftNode(n),i&&(i=i.value)}return i}function gf(t,e){if(!e||!e.maxAge&&!t[ds])return!1;var r=!1,n=Date.now()-e.now;return e.maxAge?r=n>e.maxAge:r=t[ds]&&n>t[ds],r}function Hf(t){if(t[Ci]>t[uo])for(var e=t[Ct].tail;t[Ci]>t[uo]&&e!==null;){var r=e.prev;Oc(t,e),e=r}}function Oc(t,e){if(e){var r=e.value;t[ao]&&t[ao](r.key,r.value),t[Ci]-=r.length,t[kn].delete(r.key),t[Ct].removeNode(e)}}function Hte(t,e,r,n,i){this.key=t,this.value=e,this.length=r,this.now=n,this.maxAge=i||0}});var DN=y((z0e,CN)=>{CN.exports=xN;xN.sync=yte;var HA=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",SN=v("path"),gte=HA?";":":",EN=Jb();function PN(t){var e=new Error("not found: "+t);return e.code="ENOENT",e}function LN(t,e){var r=e.colon||gte,n=e.path||process.env.PATH||"",i=[""];n=n.split(r);var o="";return HA&&(n.unshift(process.cwd()),o=e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM",i=o.split(r),t.indexOf(".")!==-1&&i[0]!==""&&i.unshift("")),(t.match(/\//)||HA&&t.match(/\\/))&&(n=[""]),{env:n,ext:i,extExe:o}}function xN(t,e,r){typeof e=="function"&&(r=e,e={});var n=LN(t,e),i=n.env,o=n.ext,s=n.extExe,a=[];(function u(c,l){if(c===l)return e.all&&a.length?r(null,a):r(PN(t));var p=i[c];p.charAt(0)==='"'&&p.slice(-1)==='"'&&(p=p.slice(1,-1));var f=SN.join(p,t);!p&&/^\.[\\\/]/.test(t)&&(f=t.slice(0,2)+f),function m(h,g){if(h===g)return u(c+1,l);var b=o[h];EN(f+b,{pathExt:s},function(A,D){if(!A&&D)if(e.all)a.push(f+b);else return r(null,f+b);return m(h+1,g)})}(0,o.length)})(0,i.length)}function yte(t,e){e=e||{};for(var r=LN(t,e),n=r.env,i=r.ext,o=r.extExe,s=[],a=0,u=n.length;a<u;a++){var c=n[a];c.charAt(0)==='"'&&c.slice(-1)==='"'&&(c=c.slice(1,-1));var l=SN.join(c,t);!c&&/^\.[\\\/]/.test(t)&&(l=t.slice(0,2)+l);for(var p=0,f=i.length;p<f;p++){var m=l+i[p],h;try{if(h=EN.sync(m,{pathExt:o}),h)if(e.all)s.push(m);else return m}catch{}}}if(e.all&&s.length)return s;if(e.nothrow)return null;throw PN(t)}});var RN=y((J0e,MN)=>{"use strict";var $N=v("path"),TN=DN(),bte=mA(),Hg=new bte({max:50,maxAge:30*1e3}),vte=new RegExp(process.platform==="win32"?/[\/\\]/:/\//);function _te(t,e){var r;if(vte.test(t)&&(t=$N.resolve(t)),e=!!e,r=Hg.get(t+"!"+e),Hg.has(t))return Hg.get(t);try{r=e?TN.sync(t,{pathExt:$N.delimiter+(process.env.PATHEXT||"")}):TN.sync(t)}catch{}return Hg.set(t+"!"+e,r),r}MN.exports=_te});var BN=y((Y0e,NN)=>{"use strict";var gA=v("fs"),wte=mA(),kN=RN(),Ite=process.platform==="win32",yA=new wte({max:50,maxAge:30*1e3});function Ate(t){var e,r,n,i;if(yA.has(t))return yA.get(t);e=new Buffer(150);try{r=gA.openSync(t,"r"),gA.readSync(r,e,0,150,0),gA.closeSync(r)}catch{}return n=e.toString().trim().match(/#!(.+)/i),n&&(i=n[1].replace(/\/usr\/bin\/env\s+/i,"")),yA.set(t,i),i}function ON(t,e){return t=""+t,e?(t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t='"'+t+'"'):t=t.replace(/([\(\)%!\^<>&|;,"'\s])/g,"^$1"),t}function Ste(t){return/^[a-z0-9_-]+$/i.test(t)?t:ON(t,!0)}function Ete(t,e,r){var n,i,o,s;return e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=r||{},s=t,Ite&&(o=kN(t),o=o||kN(t,!0),n=o&&Ate(o),n&&(e.unshift(o),t=n),i=t!=="echo",t=Ste(t),e=e.map(function(a){return ON(a,i)}),e=["/s","/c",'"'+t+(e.length?" "+e.join(" "):"")+'"'],t=process.env.comspec||"cmd.exe",r.windowsVerbatimArguments=!0),{command:t,args:e,options:r,file:o,original:s}}NN.exports=Ete});var WN=y((Q0e,gg)=>{"use strict";var FN=process.platform==="win32";function UN(t,e){var r;return r=new Error(e+" "+t+" ENOENT"),r.code=r.errno="ENOENT",r.syscall=e+" "+t,r}function Pte(t,e){var r;FN&&(r=t.emit,t.emit=function(n,i){var o;return n==="exit"&&(o=jN(i,e,"spawn"),o)?r.call(t,"error",o):r.apply(t,arguments)})}function jN(t,e,r){return FN&&t===1&&!e.file?UN(e.original,r):null}gg.exports.hookChildProcess=Pte;gg.exports.verifyENOENT=jN;gg.exports.notFoundError=UN});var XN=y((Z0e,yf)=>{"use strict";var Lte=v("child_process"),qN=BN(),VN=WN();function GN(t,e,r){var n,i;return n=qN(t,e,r),i=Lte.spawn(n.command,n.args,n.options),VN.hookChildProcess(i,n),i}yf.exports=GN;yf.exports.spawn=GN;yf.exports._parse=qN;yf.exports._enoent=VN});var zN=y((eEe,KN)=>{"use strict";KN.exports=function(t){var e=typeof t=="string"?`
`:`
`.charCodeAt(),r=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,t.length-1)),t[t.length-1]===r&&(t=t.slice(0,t.length-1)),t}});var QN=y((tEe,YN)=>{"use strict";var JN=Object.getOwnPropertySymbols,xte=Object.prototype.hasOwnProperty,Cte=Object.prototype.propertyIsEnumerable;function Dte(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function $te(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}YN.exports=$te()?Object.assign:function(t,e){for(var r,n=Dte(t),i,o=1;o<arguments.length;o++){r=Object(arguments[o]);for(var s in r)xte.call(r,s)&&(n[s]=r[s]);if(JN){i=JN(r);for(var a=0;a<i.length;a++)Cte.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n}});var bA=y((rEe,ZN)=>{"use strict";ZN.exports=function(t){t=t||{};var e=t.env||process.env,r=t.platform||process.platform;return r!=="win32"?"PATH":Object.keys(e).filter(function(n){return n.toUpperCase()==="PATH"})[0]||"Path"}});var tB=y((nEe,eB)=>{"use strict";var bf=v("path"),Tte=bA();eB.exports=function(t){t=t||{};for(var e,r=bf.resolve(t.cwd||"."),n=[];e!==r;)n.push(bf.join(r,"node_modules/.bin")),e=r,r=bf.resolve(r,"..");return n.push(bf.dirname(process.execPath)),n.concat(t.path||process.env[Tte()]).join(bf.delimiter)}});var nB=y((iEe,vf)=>{"use strict";var Mte=v("child_process"),vA=XN(),Rte=zN(),_A=QN(),kte=tB(),rB=bA()(),Ote=1024*1024*10;vf.exports=function(t,e,r){return new Promise(function(n,i){var o=vA._parse(t,e,r);r=_A({maxBuffer:Ote,stripEof:!0,preferLocal:!0},o.options);var s=function(u){return r.stripEof&&(u=Rte(u)),u};r.preferLocal&&(r.env=_A({},r.env||process.env),r.env[rB]=kte({cwd:r.cwd,path:r.env[rB]}));var a=Mte.execFile(o.command,o.args,r,function(u,c,l){if(u){u.stdout=c,u.stderr=l,i(u);return}n({stdout:s(c),stderr:s(l)})});vA._enoent.hookChildProcess(a,o)})};vf.exports.shell=function(t,e){var r,n;return e=_A({},e),process.platform==="win32"?(r=process.env.comspec||"cmd.exe",n=["/s","/c",'"'+t+'"'],e.windowsVerbatimArguments=!0):(r="/bin/sh",n=["-c",t]),e.shell&&(r=e.shell),vf.exports(r,n,e)};vf.exports.spawn=vA});var oB=y((oEe,iB)=>{"use strict";iB.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})}});var aB=y((sEe,sB)=>{"use strict";var Nte=nB(),Bte=oB();sB.exports=function(){return process.platform!=="linux"?Promise.reject(new Error("Only Linux systems are supported")):Nte("xdg-mime",["query","default","x-scheme-handler/http"]).then(t=>{let e=t.stdout.trim();return{name:Bte(e.replace(/.desktop$/,"").replace("-"," ")),id:e}})}});var cB=y((aEe,uB)=>{"use strict";var Fte=ZO(),Ute=hN();uB.exports=()=>process.platform==="linux"?aB()():process.platform==="darwin"?Fte().then(t=>Ute(t).then(e=>({name:e,id:t}))):Promise.reject(new Error("Only macOS and Linux are supported"))});var co=y((LEe,IA)=>{"use strict";typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?IA.exports={nextTick:qte}:IA.exports=process;function qte(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,s;switch(i){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(o=new Array(i-1),s=0;s<o.length;)o[s++]=arguments[s];return process.nextTick(function(){t.apply(null,o)})}}});var AA=y((xEe,HB)=>{var Vte={}.toString;HB.exports=Array.isArray||function(t){return Vte.call(t)=="[object Array]"}});var SA=y((CEe,gB)=>{gB.exports=v("stream")});var po=y((EA,bB)=>{var wg=v("buffer"),lo=wg.Buffer;function yB(t,e){for(var r in t)e[r]=t[r]}lo.from&&lo.alloc&&lo.allocUnsafe&&lo.allocUnsafeSlow?bB.exports=wg:(yB(wg,EA),EA.Buffer=Bc);function Bc(t,e,r){return lo(t,e,r)}yB(lo,Bc);Bc.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return lo(t,e,r)};Bc.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=lo(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Bc.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return lo(t)};Bc.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wg.SlowBuffer(t)}});var Nn=y(lr=>{function Gte(t){return Array.isArray?Array.isArray(t):Ig(t)==="[object Array]"}lr.isArray=Gte;function Xte(t){return typeof t=="boolean"}lr.isBoolean=Xte;function Kte(t){return t===null}lr.isNull=Kte;function zte(t){return t==null}lr.isNullOrUndefined=zte;function Jte(t){return typeof t=="number"}lr.isNumber=Jte;function Yte(t){return typeof t=="string"}lr.isString=Yte;function Qte(t){return typeof t=="symbol"}lr.isSymbol=Qte;function Zte(t){return t===void 0}lr.isUndefined=Zte;function ere(t){return Ig(t)==="[object RegExp]"}lr.isRegExp=ere;function tre(t){return typeof t=="object"&&t!==null}lr.isObject=tre;function rre(t){return Ig(t)==="[object Date]"}lr.isDate=rre;function nre(t){return Ig(t)==="[object Error]"||t instanceof Error}lr.isError=nre;function ire(t){return typeof t=="function"}lr.isFunction=ire;function ore(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}lr.isPrimitive=ore;lr.isBuffer=Buffer.isBuffer;function Ig(t){return Object.prototype.toString.call(t)}});var vB=y(($Ee,PA)=>{typeof Object.create=="function"?PA.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:PA.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var Dt=y((TEe,xA)=>{try{if(LA=v("util"),typeof LA.inherits!="function")throw"";xA.exports=LA.inherits}catch{xA.exports=vB()}var LA});var wB=y((MEe,CA)=>{"use strict";function sre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _B=po().Buffer,_f=v("util");function are(t,e,r){t.copy(e,r)}CA.exports=function(){function t(){sre(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return _B.alloc(0);if(this.length===1)return this.head.data;for(var n=_B.allocUnsafe(r>>>0),i=this.head,o=0;i;)are(i.data,n,o),o+=i.data.length,i=i.next;return n},t}();_f&&_f.inspect&&_f.inspect.custom&&(CA.exports.prototype[_f.inspect.custom]=function(){var t=_f.inspect({length:this.length});return this.constructor.name+" "+t})});var DA=y((REe,SB)=>{"use strict";var IB=co();function ure(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&IB.nextTick(AB,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?(IB.nextTick(AB,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(o)}),this)}function cre(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function AB(t,e){t.emit("error",e)}SB.exports={destroy:ure,undestroy:cre}});var Ag=y((kEe,EB)=>{EB.exports=v("util").deprecate});var TA=y((OEe,MB)=>{"use strict";var xa=co();MB.exports=wt;function LB(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Pre(e,t)}}var lre=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:xa.nextTick,Fc;wt.WritableState=If;var xB=Object.create(Nn());xB.inherits=Dt();var pre={deprecate:Ag()},CB=SA(),Eg=po().Buffer,fre=global.Uint8Array||function(){};function dre(t){return Eg.from(t)}function hre(t){return Eg.isBuffer(t)||t instanceof fre}var DB=DA();xB.inherits(wt,CB);function mre(){}function If(t,e){Fc=Fc||Ca(),t=t||{};var r=e instanceof Fc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){wre(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new LB(this)}If.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(If.prototype,"buffer",{get:pre.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Sg;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Sg=Function.prototype[Symbol.hasInstance],Object.defineProperty(wt,Symbol.hasInstance,{value:function(t){return Sg.call(this,t)?!0:this!==wt?!1:t&&t._writableState instanceof If}})):Sg=function(t){return t instanceof this};function wt(t){if(Fc=Fc||Ca(),!Sg.call(wt,this)&&!(this instanceof Fc))return new wt(t);this._writableState=new If(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),CB.call(this)}wt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Hre(t,e){var r=new Error("write after end");t.emit("error",r),xa.nextTick(e,r)}function gre(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),xa.nextTick(n,o),i=!1),i}wt.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&hre(t);return o&&!Eg.isBuffer(t)&&(t=dre(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=mre),n.ended?Hre(this,r):(o||gre(this,n,t,r))&&(n.pendingcb++,i=bre(this,n,o,t,e,r)),i};wt.prototype.cork=function(){var t=this._writableState;t.corked++};wt.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&$B(this,t))};wt.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function yre(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Eg.from(e,r)),e}Object.defineProperty(wt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function bre(t,e,r,n,i,o){if(!r){var s=yre(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else $A(t,e,!1,a,n,i,o);return u}function $A(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function vre(t,e,r,n,i){--e.pendingcb,r?(xa.nextTick(i,n),xa.nextTick(wf,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),wf(t,e))}function _re(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function wre(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(_re(r),e)vre(t,r,n,e,i);else{var o=TB(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&$B(t,r),n?lre(PB,t,r,o,i):PB(t,r,o,i)}}function PB(t,e,r,n){r||Ire(t,e),e.pendingcb--,n(),wf(t,e)}function Ire(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function $B(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,$A(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new LB(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if($A(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}wt.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};wt.prototype._writev=null;wt.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Ere(this,n,r)};function TB(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Are(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),wf(t,e)})}function Sre(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,xa.nextTick(Are,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function wf(t,e){var r=TB(e);return r&&(Sre(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Ere(t,e,r){e.ending=!0,wf(t,e),r&&(e.finished?xa.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Pre(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(wt.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});wt.prototype.destroy=DB.destroy;wt.prototype._undestroy=DB.undestroy;wt.prototype._destroy=function(t,e){this.end(),e(t)}});var Ca=y((NEe,NB)=>{"use strict";var RB=co(),Lre=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};NB.exports=fo;var kB=Object.create(Nn());kB.inherits=Dt();var OB=kA(),RA=TA();kB.inherits(fo,OB);for(MA=Lre(RA.prototype),Pg=0;Pg<MA.length;Pg++)Lg=MA[Pg],fo.prototype[Lg]||(fo.prototype[Lg]=RA.prototype[Lg]);var MA,Lg,Pg;function fo(t){if(!(this instanceof fo))return new fo(t);OB.call(this,t),RA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",xre)}Object.defineProperty(fo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function xre(){this.allowHalfOpen||this._writableState.ended||RB.nextTick(Cre,this)}function Cre(t){t.end()}Object.defineProperty(fo.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});fo.prototype._destroy=function(t,e){this.push(null),this.end(),RB.nextTick(e,t)}});var BA=y(FB=>{"use strict";var NA=po().Buffer,BB=NA.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Dre(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function $re(t){var e=Dre(t);if(typeof e!="string"&&(NA.isEncoding===BB||!BB(t)))throw new Error("Unknown encoding: "+t);return e||t}FB.StringDecoder=Af;function Af(t){this.encoding=$re(t);var e;switch(this.encoding){case"utf16le":this.text=Nre,this.end=Bre,e=4;break;case"utf8":this.fillLast=Rre,e=4;break;case"base64":this.text=Fre,this.end=Ure,e=3;break;default:this.write=jre,this.end=Wre;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=NA.allocUnsafe(e)}Af.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Af.prototype.end=Ore;Af.prototype.text=kre;Af.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function OA(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Tre(t,e,r){var n=e.length-1;if(n<r)return 0;var i=OA(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=OA(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=OA(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Mre(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Rre(t){var e=this.lastTotal-this.lastNeed,r=Mre(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function kre(t,e){var r=Tre(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Ore(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Nre(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Bre(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Fre(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Ure(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function jre(t){return t.toString(this.encoding)}function Wre(t){return t&&t.length?this.write(t):""}});var kA=y((UEe,QB)=>{"use strict";var jc=co();QB.exports=Ye;var qre=AA(),Sf;Ye.ReadableState=XB;var FEe=v("events").EventEmitter,qB=function(t,e){return t.listeners(e).length},qA=SA(),Ef=po().Buffer,Vre=global.Uint8Array||function(){};function Gre(t){return Ef.from(t)}function Xre(t){return Ef.isBuffer(t)||t instanceof Vre}var VB=Object.create(Nn());VB.inherits=Dt();var FA=v("util"),Me=void 0;FA&&FA.debuglog?Me=FA.debuglog("stream"):Me=function(){};var Kre=wB(),GB=DA(),Uc;VB.inherits(Ye,qA);var UA=["error","close","destroy","pause","resume"];function zre(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):qre(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function XB(t,e){Sf=Sf||Ca(),t=t||{};var r=e instanceof Sf;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new Kre,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Uc||(Uc=BA().StringDecoder),this.decoder=new Uc(t.encoding),this.encoding=t.encoding)}function Ye(t){if(Sf=Sf||Ca(),!(this instanceof Ye))return new Ye(t);this._readableState=new XB(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),qA.call(this)}Object.defineProperty(Ye.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Ye.prototype.destroy=GB.destroy;Ye.prototype._undestroy=GB.undestroy;Ye.prototype._destroy=function(t,e){this.push(null),e(t)};Ye.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Ef.from(t,e),e=""),n=!0),KB(this,t,e,!1,n)};Ye.prototype.unshift=function(t){return KB(this,t,null,!0,!1)};function KB(t,e,r,n,i){var o=t._readableState;if(e===null)o.reading=!1,Zre(t,o);else{var s;i||(s=Jre(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Ef.prototype&&(e=Gre(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):jA(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?jA(t,o,e,!1):zB(t,o)):jA(t,o,e,!1))):n||(o.reading=!1)}return Yre(o)}function jA(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&xg(t)),zB(t,e)}function Jre(t,e){var r;return!Xre(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function Yre(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Ye.prototype.isPaused=function(){return this._readableState.flowing===!1};Ye.prototype.setEncoding=function(t){return Uc||(Uc=BA().StringDecoder),this._readableState.decoder=new Uc(t),this._readableState.encoding=t,this};var UB=8388608;function Qre(t){return t>=UB?t=UB:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function jB(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Qre(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Ye.prototype.read=function(t){Me("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Me("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?WA(this):xg(this),null;if(t=jB(t,e),t===0&&e.ended)return e.length===0&&WA(this),null;var n=e.needReadable;Me("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Me("length less than watermark",n)),e.ended||e.reading?(n=!1,Me("reading or ended",n)):n&&(Me("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=jB(r,e)));var i;return t>0?i=JB(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&WA(this)),i!==null&&this.emit("data",i),i};function Zre(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,xg(t)}}function xg(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Me("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?jc.nextTick(WB,t):WB(t))}function WB(t){Me("emit readable"),t.emit("readable"),VA(t)}function zB(t,e){e.readingMore||(e.readingMore=!0,jc.nextTick(ene,t,e))}function ene(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Me("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Ye.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Ye.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Me("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:b;n.endEmitted?jc.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(A,D){Me("onunpipe"),A===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function a(){Me("onend"),t.end()}var u=tne(r);t.on("drain",u);var c=!1;function l(){Me("cleanup"),t.removeListener("close",h),t.removeListener("finish",g),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(A){Me("ondata"),p=!1;var D=t.write(A);D===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&YB(n.pipes,t)!==-1)&&!c&&(Me("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(A){Me("onerror",A),b(),t.removeListener("error",m),qB(t,"error")===0&&t.emit("error",A)}zre(t,"error",m);function h(){t.removeListener("finish",g),b()}t.once("close",h);function g(){Me("onfinish"),t.removeListener("close",h),b()}t.once("finish",g);function b(){Me("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Me("pipe resume"),r.resume()),t};function tne(t){return function(){var e=t._readableState;Me("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&qB(t,"data")&&(e.flowing=!0,VA(t))}}Ye.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=YB(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Ye.prototype.on=function(t,e){var r=qA.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&xg(this):jc.nextTick(rne,this))}return r};Ye.prototype.addListener=Ye.prototype.on;function rne(t){Me("readable nexttick read 0"),t.read(0)}Ye.prototype.resume=function(){var t=this._readableState;return t.flowing||(Me("resume"),t.flowing=!0,nne(this,t)),this};function nne(t,e){e.resumeScheduled||(e.resumeScheduled=!0,jc.nextTick(ine,t,e))}function ine(t,e){e.reading||(Me("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),VA(t),e.flowing&&!e.reading&&t.read(0)}Ye.prototype.pause=function(){return Me("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Me("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function VA(t){var e=t._readableState;for(Me("flow",e.flowing);e.flowing&&t.read()!==null;);}Ye.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Me("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Me("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<UA.length;o++)t.on(UA[o],this.emit.bind(this,UA[o]));return this._read=function(s){Me("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(Ye.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Ye._fromList=JB;function JB(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=one(t,e.buffer,e.decoder),r}function one(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?sne(t,e):ane(t,e),n}function sne(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function ane(t,e){var r=Ef.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function WA(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,jc.nextTick(une,e,t))}function une(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function YB(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var GA=y((jEe,tF)=>{"use strict";tF.exports=ho;var Cg=Ca(),eF=Object.create(Nn());eF.inherits=Dt();eF.inherits(ho,Cg);function cne(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function ho(t){if(!(this instanceof ho))return new ho(t);Cg.call(this,t),this._transformState={afterTransform:cne.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",lne)}function lne(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){ZB(t,e,r)}):ZB(this,null,null)}ho.prototype.push=function(t,e){return this._transformState.needTransform=!1,Cg.prototype.push.call(this,t,e)};ho.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};ho.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};ho.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};ho.prototype._destroy=function(t,e){var r=this;Cg.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function ZB(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var oF=y((WEe,iF)=>{"use strict";iF.exports=Pf;var rF=GA(),nF=Object.create(Nn());nF.inherits=Dt();nF.inherits(Pf,rF);function Pf(t){if(!(this instanceof Pf))return new Pf(t);rF.call(this,t)}Pf.prototype._transform=function(t,e,r){r(null,t)}});var sF=y((Kt,Dg)=>{var Di=v("stream");process.env.READABLE_STREAM==="disable"&&Di?(Dg.exports=Di,Kt=Dg.exports=Di.Readable,Kt.Readable=Di.Readable,Kt.Writable=Di.Writable,Kt.Duplex=Di.Duplex,Kt.Transform=Di.Transform,Kt.PassThrough=Di.PassThrough,Kt.Stream=Di):(Kt=Dg.exports=kA(),Kt.Stream=Di||Kt,Kt.Readable=Kt,Kt.Writable=TA(),Kt.Duplex=Ca(),Kt.Transform=GA(),Kt.PassThrough=oF())});var cF=y((qEe,uF)=>{var aF=sF(),pne=v("util");function fne(t){return!(typeof t.pipe!="function"||!t.readable||typeof t._read!="function"||!t._readableState)}function dne(t,e){if(!fne(e))throw new Error("All input streams must be readable");var r=this;e._buffer=[],e.on("readable",function(){for(var n=e.read();n;)this===t[0]?r.push(n):this._buffer.push(n),n=e.read()}),e.on("end",function(){for(var n=t[0];n&&n._readableState.ended;n=t[0]){for(;n._buffer.length;)r.push(n._buffer.shift());t.shift()}t.length||r.push(null)}),e.on("error",this.emit.bind(this,"error")),t.push(e)}function Lf(t,e){if(!(this instanceof Lf))return new Lf(t,e);if(t=t||[],e=e||{},e.objectMode=!0,aF.call(this,e),Array.isArray(t)||(t=[t]),!t.length)return this.push(null);var r=dne.bind(this,[]);t.forEach(function(n){Array.isArray(n)?n.forEach(r):r(n)})}pne.inherits(Lf,aF);Lf.prototype._read=function(){};uF.exports=Lf});var XA=y((VEe,lF)=>{lF.exports=v("stream")});var fF=y((GEe,KA)=>{"use strict";function hne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var pF=po().Buffer,xf=v("util");function mne(t,e,r){t.copy(e,r)}KA.exports=function(){function t(){hne(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length},t.prototype.unshift=function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length},t.prototype.shift=function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i},t.prototype.concat=function(r){if(this.length===0)return pF.alloc(0);if(this.length===1)return this.head.data;for(var n=pF.allocUnsafe(r>>>0),i=this.head,o=0;i;)mne(i.data,n,o),o+=i.data.length,i=i.next;return n},t}();xf&&xf.inspect&&xf.inspect.custom&&(KA.exports.prototype[xf.inspect.custom]=function(){var t=xf.inspect({length:this.length});return this.constructor.name+" "+t})});var zA=y((XEe,mF)=>{"use strict";var dF=co();function Hne(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(!this._writableState||!this._writableState.errorEmitted)&&dF.nextTick(hF,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?(dF.nextTick(hF,r,o),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(o)}),this)}function gne(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function hF(t,e){t.emit("error",e)}mF.exports={destroy:Hne,undestroy:gne}});var YA=y((KEe,IF)=>{"use strict";var Da=co();IF.exports=It;function gF(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Rne(e,t)}}var yne=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:Da.nextTick,Wc;It.WritableState=Df;var yF=Nn();yF.inherits=Dt();var bne={deprecate:Ag()},bF=XA(),Tg=po().Buffer,vne=global.Uint8Array||function(){};function _ne(t){return Tg.from(t)}function wne(t){return Tg.isBuffer(t)||t instanceof vne}var vF=zA();yF.inherits(It,bF);function Ine(){}function Df(t,e){Wc=Wc||$a(),t=t||{};var r=e instanceof Wc;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,i=t.writableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=t.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){Cne(e,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new gF(this)}Df.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Df.prototype,"buffer",{get:bne.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var $g;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?($g=Function.prototype[Symbol.hasInstance],Object.defineProperty(It,Symbol.hasInstance,{value:function(t){return $g.call(this,t)?!0:this!==It?!1:t&&t._writableState instanceof Df}})):$g=function(t){return t instanceof this};function It(t){if(Wc=Wc||$a(),!$g.call(It,this)&&!(this instanceof Wc))return new It(t);this._writableState=new Df(t,this),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),bF.call(this)}It.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function Ane(t,e){var r=new Error("write after end");t.emit("error",r),Da.nextTick(e,r)}function Sne(t,e,r,n){var i=!0,o=!1;return r===null?o=new TypeError("May not write null values to stream"):typeof r!="string"&&r!==void 0&&!e.objectMode&&(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),Da.nextTick(n,o),i=!1),i}It.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&wne(t);return o&&!Tg.isBuffer(t)&&(t=_ne(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Ine),n.ended?Ane(this,r):(o||Sne(this,n,t,r))&&(n.pendingcb++,i=Pne(this,n,o,t,e,r)),i};It.prototype.cork=function(){var t=this._writableState;t.corked++};It.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.finished&&!t.bufferProcessing&&t.bufferedRequest&&_F(this,t))};It.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this};function Ene(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Tg.from(e,r)),e}Object.defineProperty(It.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Pne(t,e,r,n,i,o){if(!r){var s=Ene(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else JA(t,e,!1,a,n,i,o);return u}function JA(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Lne(t,e,r,n,i){--e.pendingcb,r?(Da.nextTick(i,n),Da.nextTick(Cf,t,e),t._writableState.errorEmitted=!0,t.emit("error",n)):(i(n),t._writableState.errorEmitted=!0,t.emit("error",n),Cf(t,e))}function xne(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Cne(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(xne(r),e)Lne(t,r,n,e,i);else{var o=wF(r);!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&_F(t,r),n?yne(HF,t,r,o,i):HF(t,r,o,i)}}function HF(t,e,r,n){r||Dne(t,e),e.pendingcb--,n(),Cf(t,e)}function Dne(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function _F(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,JA(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new gF(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(JA(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}It.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))};It.prototype._writev=null;It.prototype.end=function(t,e,r){var n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),!n.ending&&!n.finished&&Mne(this,n,r)};function wF(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function $ne(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),Cf(t,e)})}function Tne(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"?(e.pendingcb++,e.finalCalled=!0,Da.nextTick($ne,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Cf(t,e){var r=wF(e);return r&&(Tne(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"))),r}function Mne(t,e,r){e.ending=!0,Cf(t,e),r&&(e.finished?Da.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Rne(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}Object.defineProperty(It.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}});It.prototype.destroy=vF.destroy;It.prototype._undestroy=vF.undestroy;It.prototype._destroy=function(t,e){this.end(),e(t)}});var $a=y((zEe,PF)=>{"use strict";var AF=co(),kne=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};PF.exports=mo;var SF=Nn();SF.inherits=Dt();var EF=eS(),ZA=YA();SF.inherits(mo,EF);for(QA=kne(ZA.prototype),Mg=0;Mg<QA.length;Mg++)Rg=QA[Mg],mo.prototype[Rg]||(mo.prototype[Rg]=ZA.prototype[Rg]);var QA,Rg,Mg;function mo(t){if(!(this instanceof mo))return new mo(t);EF.call(this,t),ZA.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",One)}Object.defineProperty(mo.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function One(){this.allowHalfOpen||this._writableState.ended||AF.nextTick(Nne,this)}function Nne(t){t.end()}Object.defineProperty(mo.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(t){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=t,this._writableState.destroyed=t)}});mo.prototype._destroy=function(t,e){this.push(null),this.end(),AF.nextTick(e,t)}});var nS=y(xF=>{"use strict";var rS=po().Buffer,LF=rS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Bne(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Fne(t){var e=Bne(t);if(typeof e!="string"&&(rS.isEncoding===LF||!LF(t)))throw new Error("Unknown encoding: "+t);return e||t}xF.StringDecoder=$f;function $f(t){this.encoding=Fne(t);var e;switch(this.encoding){case"utf16le":this.text=Gne,this.end=Xne,e=4;break;case"utf8":this.fillLast=Wne,e=4;break;case"base64":this.text=Kne,this.end=zne,e=3;break;default:this.write=Jne,this.end=Yne;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=rS.allocUnsafe(e)}$f.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};$f.prototype.end=Vne;$f.prototype.text=qne;$f.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function tS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Une(t,e,r){var n=e.length-1;if(n<r)return 0;var i=tS(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=tS(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=tS(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function jne(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Wne(t){var e=this.lastTotal-this.lastNeed,r=jne(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function qne(t,e){var r=Une(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Vne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Gne(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Xne(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Kne(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function zne(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Jne(t){return t.toString(this.encoding)}function Yne(t){return t&&t.length?this.write(t):""}});var eS=y((QEe,UF)=>{"use strict";var Vc=co();UF.exports=Qe;var Qne=AA(),Tf;Qe.ReadableState=kF;var YEe=v("events").EventEmitter,TF=function(t,e){return t.listeners(e).length},uS=XA(),Mf=po().Buffer,Zne=global.Uint8Array||function(){};function eie(t){return Mf.from(t)}function tie(t){return Mf.isBuffer(t)||t instanceof Zne}var MF=Nn();MF.inherits=Dt();var iS=v("util"),Re=void 0;iS&&iS.debuglog?Re=iS.debuglog("stream"):Re=function(){};var rie=fF(),RF=zA(),qc;MF.inherits(Qe,uS);var oS=["error","close","destroy","pause","resume"];function nie(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Qne(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function kF(t,e){Tf=Tf||$a(),t=t||{};var r=e instanceof Tf;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,i=t.readableHighWaterMark,o=this.objectMode?16:16*1024;n||n===0?this.highWaterMark=n:r&&(i||i===0)?this.highWaterMark=i:this.highWaterMark=o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new rie,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(qc||(qc=nS().StringDecoder),this.decoder=new qc(t.encoding),this.encoding=t.encoding)}function Qe(t){if(Tf=Tf||$a(),!(this instanceof Qe))return new Qe(t);this._readableState=new kF(t,this),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),uS.call(this)}Object.defineProperty(Qe.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}});Qe.prototype.destroy=RF.destroy;Qe.prototype._undestroy=RF.undestroy;Qe.prototype._destroy=function(t,e){this.push(null),e(t)};Qe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Mf.from(t,e),e=""),n=!0),OF(this,t,e,!1,n)};Qe.prototype.unshift=function(t){return OF(this,t,null,!0,!1)};function OF(t,e,r,n,i){var o=t._readableState;if(e===null)o.reading=!1,aie(t,o);else{var s;i||(s=iie(o,e)),s?t.emit("error",s):o.objectMode||e&&e.length>0?(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Mf.prototype&&(e=eie(e)),n?o.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):sS(t,o,e,!0):o.ended?t.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?sS(t,o,e,!1):NF(t,o)):sS(t,o,e,!1))):n||(o.reading=!1)}return oie(o)}function sS(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&kg(t)),NF(t,e)}function iie(t,e){var r;return!tie(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new TypeError("Invalid non-string/buffer chunk")),r}function oie(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||t.length===0)}Qe.prototype.isPaused=function(){return this._readableState.flowing===!1};Qe.prototype.setEncoding=function(t){return qc||(qc=nS().StringDecoder),this._readableState.decoder=new qc(t),this._readableState.encoding=t,this};var CF=8388608;function sie(t){return t>=CF?t=CF:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function DF(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=sie(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Qe.prototype.read=function(t){Re("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return Re("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?aS(this):kg(this),null;if(t=DF(t,e),t===0&&e.ended)return e.length===0&&aS(this),null;var n=e.needReadable;Re("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,Re("length less than watermark",n)),e.ended||e.reading?(n=!1,Re("reading or ended",n)):n&&(Re("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=DF(r,e)));var i;return t>0?i=BF(t,e):i=null,i===null?(e.needReadable=!0,t=0):e.length-=t,e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&aS(this)),i!==null&&this.emit("data",i),i};function aie(t,e){if(!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,kg(t)}}function kg(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(Re("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?Vc.nextTick($F,t):$F(t))}function $F(t){Re("emit readable"),t.emit("readable"),cS(t)}function NF(t,e){e.readingMore||(e.readingMore=!0,Vc.nextTick(uie,t,e))}function uie(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(Re("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}Qe.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))};Qe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,Re("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:b;n.endEmitted?Vc.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(A,D){Re("onunpipe"),A===r&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,l())}function a(){Re("onend"),t.end()}var u=cie(r);t.on("drain",u);var c=!1;function l(){Re("cleanup"),t.removeListener("close",h),t.removeListener("finish",g),t.removeListener("drain",u),t.removeListener("error",m),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",b),r.removeListener("data",f),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}var p=!1;r.on("data",f);function f(A){Re("ondata"),p=!1;var D=t.write(A);D===!1&&!p&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&FF(n.pipes,t)!==-1)&&!c&&(Re("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function m(A){Re("onerror",A),b(),t.removeListener("error",m),TF(t,"error")===0&&t.emit("error",A)}nie(t,"error",m);function h(){t.removeListener("finish",g),b()}t.once("close",h);function g(){Re("onfinish"),t.removeListener("close",h),b()}t.once("finish",g);function b(){Re("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(Re("pipe resume"),r.resume()),t};function cie(t){return function(){var e=t._readableState;Re("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,e.awaitDrain===0&&TF(t,"data")&&(e.flowing=!0,cS(t))}}Qe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var s=FF(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Qe.prototype.on=function(t,e){var r=uS.prototype.on.call(this,t,e);if(t==="data")this._readableState.flowing!==!1&&this.resume();else if(t==="readable"){var n=this._readableState;!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&kg(this):Vc.nextTick(lie,this))}return r};Qe.prototype.addListener=Qe.prototype.on;function lie(t){Re("readable nexttick read 0"),t.read(0)}Qe.prototype.resume=function(){var t=this._readableState;return t.flowing||(Re("resume"),t.flowing=!0,pie(this,t)),this};function pie(t,e){e.resumeScheduled||(e.resumeScheduled=!0,Vc.nextTick(fie,t,e))}function fie(t,e){e.reading||(Re("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),cS(t),e.flowing&&!e.reading&&t.read(0)}Qe.prototype.pause=function(){return Re("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Re("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function cS(t){var e=t._readableState;for(Re("flow",e.flowing);e.flowing&&t.read()!==null;);}Qe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(Re("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(Re("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<oS.length;o++)t.on(oS[o],this.emit.bind(this,oS[o]));return this._read=function(s){Re("wrapped _read",s),n&&(n=!1,t.resume())},this};Object.defineProperty(Qe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Qe._fromList=BF;function BF(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.head.data:r=e.buffer.concat(e.length),e.buffer.clear()):r=die(t,e.buffer,e.decoder),r}function die(t,e,r){var n;return t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):t===e.head.data.length?n=e.shift():n=r?hie(t,e):mie(t,e),n}function hie(t,e){var r=e.head,n=1,i=r.data;for(t-=i.length;r=r.next;){var o=r.data,s=t>o.length?o.length:t;if(s===o.length?i+=o:i+=o.slice(0,t),t-=s,t===0){s===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(s));break}++n}return e.length-=n,i}function mie(t,e){var r=Mf.allocUnsafe(t),n=e.head,i=1;for(n.data.copy(r),t-=n.data.length;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,s),t-=s,t===0){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}function aS(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,Vc.nextTick(Hie,e,t))}function Hie(t,e){!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function FF(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var lS=y((ZEe,qF)=>{"use strict";qF.exports=Ho;var Og=$a(),WF=Nn();WF.inherits=Dt();WF.inherits(Ho,Og);function gie(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ho(t){if(!(this instanceof Ho))return new Ho(t);Og.call(this,t),this._transformState={afterTransform:gie.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",yie)}function yie(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){jF(t,e,r)}):jF(this,null,null)}Ho.prototype.push=function(t,e){return this._transformState.needTransform=!1,Og.prototype.push.call(this,t,e)};Ho.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Ho.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ho.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Ho.prototype._destroy=function(t,e){var r=this;Og.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function jF(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}});var KF=y((ePe,XF)=>{"use strict";XF.exports=Rf;var VF=lS(),GF=Nn();GF.inherits=Dt();GF.inherits(Rf,VF);function Rf(t){if(!(this instanceof Rf))return new Rf(t);VF.call(this,t)}Rf.prototype._transform=function(t,e,r){r(null,t)}});var zF=y((zt,Ng)=>{var $i=v("stream");process.env.READABLE_STREAM==="disable"&&$i?(Ng.exports=$i,zt=Ng.exports=$i.Readable,zt.Readable=$i.Readable,zt.Writable=$i.Writable,zt.Duplex=$i.Duplex,zt.Transform=$i.Transform,zt.PassThrough=$i.PassThrough,zt.Stream=$i):(zt=Ng.exports=eS(),zt.Stream=$i||zt,zt.Readable=zt,zt.Writable=YA(),zt.Duplex=$a(),zt.Transform=lS(),zt.PassThrough=KF())});var pS=y((tPe,JF)=>{JF.exports=vie;var bie=Object.prototype.hasOwnProperty;function vie(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)bie.call(r,n)&&(t[n]=r[n])}return t}});var eU=y((rPe,Bg)=>{var YF=zF().Transform,QF=v("util").inherits,ZF=pS();function Gc(t){YF.call(this,t),this._destroyed=!1}QF(Gc,YF);Gc.prototype.destroy=function(t){if(!this._destroyed){this._destroyed=!0;var e=this;process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})}};function _ie(t,e,r){r(null,t)}function fS(t){return function(e,r,n){return typeof e=="function"&&(n=r,r=e,e={}),typeof r!="function"&&(r=_ie),typeof n!="function"&&(n=null),t(e,r,n)}}Bg.exports=fS(function(t,e,r){var n=new Gc(t);return n._transform=e,r&&(n._flush=r),n});Bg.exports.ctor=fS(function(t,e,r){function n(i){if(!(this instanceof n))return new n(i);this.options=ZF(t,i),Gc.call(this,this.options)}return QF(n,Gc),n.prototype._transform=e,r&&(n.prototype._flush=r),n});Bg.exports.obj=fS(function(t,e,r){var n=new Gc(ZF({objectMode:!0,highWaterMark:16},t));return n._transform=e,r&&(n._flush=r),n})});var nU=y((nPe,kf)=>{"use strict";kf.exports=rU;kf.exports.ctor=dS;kf.exports.objCtor=Iie;kf.exports.obj=Aie;var wie=eU(),tU=pS();function dS(t,e){typeof t=="function"&&(e=t,t={});var r=wie.ctor(t,function(n,i,o){this.options.wantStrings&&(n=n.toString());try{return e.call(this,n,this._index++)&&this.push(n),o()}catch(s){return o(s)}});return r.prototype._index=0,r}function Iie(t,e){return typeof t=="function"&&(e=t,t={}),t=tU({objectMode:!0,highWaterMark:16},t),dS(t,e)}function rU(t,e){return dS(t,e)()}function Aie(t,e){return typeof t=="function"&&(e=t,t={}),t=tU({objectMode:!0,highWaterMark:16},t),rU(t,e)}});var oU=y((iPe,iU)=>{iU.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=e.space||"";typeof r=="number"&&(r=Array(r+1).join(" "));var n=typeof e.cycles=="boolean"?e.cycles:!1,i=e.replacer||function(a,u){return u},o=e.cmp&&function(a){return function(u){return function(c,l){var p={key:c,value:u[c]},f={key:l,value:u[l]};return a(p,f)}}}(e.cmp),s=[];return function a(u,c,l,p){var f=r?`
`+new Array(p+1).join(r):"",m=r?": ":":";if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l=i.call(u,c,l),l!==void 0){if(typeof l!="object"||l===null)return JSON.stringify(l);if(Sie(l)){for(var h=[],g=0;g<l.length;g++){var b=a(l,g,l[g],p+1)||JSON.stringify(null);h.push(f+r+b)}return"["+h.join(",")+f+"]"}else{if(s.indexOf(l)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}else s.push(l);for(var A=Eie(l).sort(o&&o(l)),h=[],g=0;g<A.length;g++){var c=A[g],D=a(l,c,l[c],p+1);if(D){var U=JSON.stringify(c)+m+D;h.push(f+r+U)}}return s.splice(s.indexOf(l),1),"{"+h.join(",")+f+"}"}}}({"":t},"",t,0)};var Sie=Array.isArray||function(t){return{}.toString.call(t)==="[object Array]"},Eie=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in t)e.call(t,n)&&r.push(n);return r}});var aU=y((oPe,sU)=>{"use strict";var Pie=nU().obj,Lie=oU(),hS;typeof global.Set=="function"?hS=global.Set:hS=function(){this.keys=[],this.has=function(t){return this.keys.indexOf(t)!==-1},this.add=function(t){this.keys.push(t)}};function xie(t){return function(e){return e[t]}}sU.exports=Cie;function Cie(t,e){e=e||new hS;var r=Lie;return typeof t=="string"?r=xie(t):typeof t=="function"&&(r=t),Pie(function(n){var i=r(n);return e.has(i)?!1:(e.add(i),!0)})}});var lU=y((sPe,cU)=>{var Die=Sc(),$ie=FH(),mS=v("fs"),Of=function(){},Tie=/^v?\.0/.test(process.version),Fg=function(t){return typeof t=="function"},Mie=function(t){return!Tie||!mS?!1:(t instanceof(mS.ReadStream||Of)||t instanceof(mS.WriteStream||Of))&&Fg(t.close)},Rie=function(t){return t.setHeader&&Fg(t.abort)},kie=function(t,e,r,n){n=Die(n);var i=!1;t.on("close",function(){i=!0}),$ie(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,Mie(t))return t.close(Of);if(Rie(t))return t.abort();if(Fg(t.destroy))return t.destroy();n(s||new Error("stream was destroyed"))}}},uU=function(t){t()},Oie=function(t,e){return t.pipe(e)},Nie=function(){var t=Array.prototype.slice.call(arguments),e=Fg(t[t.length-1]||Of)&&t.pop()||Of;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var s=o<t.length-1,a=o>0;return kie(i,s,a,function(u){r||(r=u),u&&n.forEach(uU),!s&&(n.forEach(uU),e(r))})});return t.reduce(Oie)};cU.exports=Nie});var HS=y((aPe,pU)=>{pU.exports=v("stream")});var mU=y((uPe,hU)=>{"use strict";function fU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bie(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fU(Object(r),!0).forEach(function(n){Fie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fie(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jie(t,e,r){return e&&dU(t.prototype,e),r&&dU(t,r),t}var Wie=v("buffer"),Ug=Wie.Buffer,qie=v("util"),gS=qie.inspect,Vie=gS&&gS.custom||"inspect";function Gie(t,e,r){Ug.prototype.copy.call(t,e,r)}hU.exports=function(){function t(){Uie(this,t),this.head=null,this.tail=null,this.length=0}return jie(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Ug.alloc(0);for(var n=Ug.allocUnsafe(r>>>0),i=this.head,o=0;i;)Gie(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var s=n.data,a=r>s.length?s.length:r;if(a===s.length?o+=s:o+=s.slice(0,r),r-=a,r===0){a===s.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=s.slice(a));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Ug.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var s=i.data,a=r>s.length?s.length:r;if(s.copy(n,n.length-r,0,a),r-=a,r===0){a===s.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=s.slice(a));break}++o}return this.length-=o,n}},{key:Vie,value:function(r,n){return gS(this,Bie({},n,{depth:0,customInspect:!1}))}}]),t}()});var bS=y((cPe,gU)=>{"use strict";function Xie(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(yS,this,t)):process.nextTick(yS,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?process.nextTick(jg,r):(r._writableState.errorEmitted=!0,process.nextTick(HU,r,o)):process.nextTick(HU,r,o):e?(process.nextTick(jg,r),e(o)):process.nextTick(jg,r)}),this)}function HU(t,e){yS(t,e),jg(t)}function jg(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Kie(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function yS(t,e){t.emit("error",e)}function zie(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}gU.exports={destroy:Xie,undestroy:Kie,errorOrDestroy:zie}});var hs=y((lPe,vU)=>{"use strict";var bU={};function yn(t,e,r){r||(r=Error);function n(o,s,a){return typeof e=="string"?e:e(o,s,a)}class i extends r{constructor(s,a,u){super(n(s,a,u))}}i.prototype.name=r.name,i.prototype.code=t,bU[t]=i}function yU(t,e){if(Array.isArray(t)){let r=t.length;return t=t.map(n=>String(n)),r>2?`one of ${e} ${t.slice(0,r-1).join(", ")}, or `+t[r-1]:r===2?`one of ${e} ${t[0]} or ${t[1]}`:`of ${e} ${t[0]}`}else return`of ${e} ${String(t)}`}function Jie(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Yie(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Qie(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}yn("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);yn("ERR_INVALID_ARG_TYPE",function(t,e,r){let n;typeof e=="string"&&Jie(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";let i;if(Yie(t," argument"))i=`The ${t} ${n} ${yU(e,"type")}`;else{let o=Qie(t,".")?"property":"argument";i=`The "${t}" ${o} ${n} ${yU(e,"type")}`}return i+=`. Received type ${typeof r}`,i},TypeError);yn("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");yn("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});yn("ERR_STREAM_PREMATURE_CLOSE","Premature close");yn("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});yn("ERR_MULTIPLE_CALLBACK","Callback called multiple times");yn("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");yn("ERR_STREAM_WRITE_AFTER_END","write after end");yn("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);yn("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);yn("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");vU.exports.codes=bU});var vS=y((pPe,_U)=>{"use strict";var Zie=hs().codes.ERR_INVALID_OPT_VALUE;function eoe(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function toe(t,e,r,n){var i=eoe(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Zie(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}_U.exports={getHighWaterMark:toe}});var IS=y((fPe,PU)=>{"use strict";PU.exports=ct;function IU(t){var e=this;this.next=null,this.entry=null,this.finish=function(){Loe(e,t)}}var Xc;ct.WritableState=Bf;var roe={deprecate:Ag()},AU=HS(),qg=v("buffer").Buffer,noe=global.Uint8Array||function(){};function ioe(t){return qg.from(t)}function ooe(t){return qg.isBuffer(t)||t instanceof noe}var wS=bS(),soe=vS(),aoe=soe.getHighWaterMark,ms=hs().codes,uoe=ms.ERR_INVALID_ARG_TYPE,coe=ms.ERR_METHOD_NOT_IMPLEMENTED,loe=ms.ERR_MULTIPLE_CALLBACK,poe=ms.ERR_STREAM_CANNOT_PIPE,foe=ms.ERR_STREAM_DESTROYED,doe=ms.ERR_STREAM_NULL_VALUES,hoe=ms.ERR_STREAM_WRITE_AFTER_END,moe=ms.ERR_UNKNOWN_ENCODING,Kc=wS.errorOrDestroy;Dt()(ct,AU);function Hoe(){}function Bf(t,e,r){Xc=Xc||Ta(),t=t||{},typeof r!="boolean"&&(r=e instanceof Xc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=aoe(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Ioe(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new IU(this)}Bf.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(Bf.prototype,"buffer",{get:roe.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Wg;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Wg=Function.prototype[Symbol.hasInstance],Object.defineProperty(ct,Symbol.hasInstance,{value:function(e){return Wg.call(this,e)?!0:this!==ct?!1:e&&e._writableState instanceof Bf}})):Wg=function(e){return e instanceof this};function ct(t){Xc=Xc||Ta();var e=this instanceof Xc;if(!e&&!Wg.call(ct,this))return new ct(t);this._writableState=new Bf(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),AU.call(this)}ct.prototype.pipe=function(){Kc(this,new poe)};function goe(t,e){var r=new hoe;Kc(t,r),process.nextTick(e,r)}function yoe(t,e,r,n){var i;return r===null?i=new doe:typeof r!="string"&&!e.objectMode&&(i=new uoe("chunk",["string","Buffer"],r)),i?(Kc(t,i),process.nextTick(n,i),!1):!0}ct.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&ooe(t);return o&&!qg.isBuffer(t)&&(t=ioe(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Hoe),n.ending?goe(this,r):(o||yoe(this,n,t,r))&&(n.pendingcb++,i=voe(this,n,o,t,e,r)),i};ct.prototype.cork=function(){this._writableState.corked++};ct.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&SU(this,t))};ct.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new moe(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(ct.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function boe(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=qg.from(e,r)),e}Object.defineProperty(ct.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function voe(t,e,r,n,i,o){if(!r){var s=boe(e,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=e.objectMode?1:n.length;e.length+=a;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else _S(t,e,!1,a,n,i,o);return u}function _S(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new foe("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function _oe(t,e,r,n,i){--e.pendingcb,r?(process.nextTick(i,n),process.nextTick(Nf,t,e),t._writableState.errorEmitted=!0,Kc(t,n)):(i(n),t._writableState.errorEmitted=!0,Kc(t,n),Nf(t,e))}function woe(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Ioe(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new loe;if(woe(r),e)_oe(t,r,n,e,i);else{var o=EU(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&SU(t,r),n?process.nextTick(wU,t,r,o,i):wU(t,r,o,i)}}function wU(t,e,r,n){r||Aoe(t,e),e.pendingcb--,n(),Nf(t,e)}function Aoe(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function SU(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var s=0,a=!0;r;)i[s]=r,r.isBuf||(a=!1),r=r.next,s+=1;i.allBuffers=a,_S(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new IU(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,c=r.encoding,l=r.callback,p=e.objectMode?1:u.length;if(_S(t,e,!1,p,u,c,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}ct.prototype._write=function(t,e,r){r(new coe("_write()"))};ct.prototype._writev=null;ct.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Poe(this,n,r),this};Object.defineProperty(ct.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function EU(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Soe(t,e){t._final(function(r){e.pendingcb--,r&&Kc(t,r),e.prefinished=!0,t.emit("prefinish"),Nf(t,e)})}function Eoe(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,process.nextTick(Soe,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Nf(t,e){var r=EU(e);if(r&&(Eoe(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Poe(t,e,r){e.ending=!0,Nf(t,e),r&&(e.finished?process.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function Loe(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(ct.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}});ct.prototype.destroy=wS.destroy;ct.prototype._undestroy=wS.undestroy;ct.prototype._destroy=function(t,e){e(t)}});var Ta=y((dPe,xU)=>{"use strict";var xoe=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};xU.exports=Ti;var LU=ES(),SS=IS();Dt()(Ti,LU);for(AS=xoe(SS.prototype),Vg=0;Vg<AS.length;Vg++)Gg=AS[Vg],Ti.prototype[Gg]||(Ti.prototype[Gg]=SS.prototype[Gg]);var AS,Gg,Vg;function Ti(t){if(!(this instanceof Ti))return new Ti(t);LU.call(this,t),SS.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",Coe)))}Object.defineProperty(Ti.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(Ti.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(Ti.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Coe(){this._writableState.ended||process.nextTick(Doe,this)}function Doe(t){t.end()}Object.defineProperty(Ti.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var $U=y((PS,DU)=>{var Xg=v("buffer"),Mi=Xg.Buffer;function CU(t,e){for(var r in t)e[r]=t[r]}Mi.from&&Mi.alloc&&Mi.allocUnsafe&&Mi.allocUnsafeSlow?DU.exports=Xg:(CU(Xg,PS),PS.Buffer=Ma);function Ma(t,e,r){return Mi(t,e,r)}Ma.prototype=Object.create(Mi.prototype);CU(Mi,Ma);Ma.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Mi(t,e,r)};Ma.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Mi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Ma.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Mi(t)};Ma.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Xg.SlowBuffer(t)}});var CS=y(MU=>{"use strict";var xS=$U().Buffer,TU=xS.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function $oe(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Toe(t){var e=$oe(t);if(typeof e!="string"&&(xS.isEncoding===TU||!TU(t)))throw new Error("Unknown encoding: "+t);return e||t}MU.StringDecoder=Ff;function Ff(t){this.encoding=Toe(t);var e;switch(this.encoding){case"utf16le":this.text=Boe,this.end=Foe,e=4;break;case"utf8":this.fillLast=koe,e=4;break;case"base64":this.text=Uoe,this.end=joe,e=3;break;default:this.write=Woe,this.end=qoe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=xS.allocUnsafe(e)}Ff.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Ff.prototype.end=Noe;Ff.prototype.text=Ooe;Ff.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function LS(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Moe(t,e,r){var n=e.length-1;if(n<r)return 0;var i=LS(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=LS(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=LS(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Roe(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function koe(t){var e=this.lastTotal-this.lastNeed,r=Roe(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Ooe(t,e){var r=Moe(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Noe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Boe(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Foe(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Uoe(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function joe(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function Woe(t){return t.toString(this.encoding)}function qoe(t){return t&&t.length?this.write(t):""}});var Kg=y((mPe,OU)=>{"use strict";var RU=hs().codes.ERR_STREAM_PREMATURE_CLOSE;function Voe(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Goe(){}function Xoe(t){return t.setHeader&&typeof t.abort=="function"}function kU(t,e,r){if(typeof e=="function")return kU(t,null,e);e||(e={}),r=Voe(r||Goe);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||a()},s=t._writableState&&t._writableState.finished,a=function(){i=!1,s=!0,n||r.call(t)},u=t._readableState&&t._readableState.endEmitted,c=function(){n=!1,u=!0,i||r.call(t)},l=function(h){r.call(t,h)},p=function(){var h;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(h=new RU),r.call(t,h);if(i&&!s)return(!t._writableState||!t._writableState.ended)&&(h=new RU),r.call(t,h)},f=function(){t.req.on("finish",a)};return Xoe(t)?(t.on("complete",a),t.on("abort",p),t.req?f():t.on("request",f)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",c),t.on("finish",a),e.error!==!1&&t.on("error",l),t.on("close",p),function(){t.removeListener("complete",a),t.removeListener("abort",p),t.removeListener("request",f),t.req&&t.req.removeListener("finish",a),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",a),t.removeListener("end",c),t.removeListener("error",l),t.removeListener("close",p)}}OU.exports=kU});var BU=y((HPe,NU)=>{"use strict";var zg;function Hs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Koe=Kg(),gs=Symbol("lastResolve"),Ra=Symbol("lastReject"),Uf=Symbol("error"),Jg=Symbol("ended"),ka=Symbol("lastPromise"),DS=Symbol("handlePromise"),Oa=Symbol("stream");function ys(t,e){return{value:t,done:e}}function zoe(t){var e=t[gs];if(e!==null){var r=t[Oa].read();r!==null&&(t[ka]=null,t[gs]=null,t[Ra]=null,e(ys(r,!1)))}}function Joe(t){process.nextTick(zoe,t)}function Yoe(t,e){return function(r,n){t.then(function(){if(e[Jg]){r(ys(void 0,!0));return}e[DS](r,n)},n)}}var Qoe=Object.getPrototypeOf(function(){}),Zoe=Object.setPrototypeOf((zg={get stream(){return this[Oa]},next:function(){var e=this,r=this[Uf];if(r!==null)return Promise.reject(r);if(this[Jg])return Promise.resolve(ys(void 0,!0));if(this[Oa].destroyed)return new Promise(function(s,a){process.nextTick(function(){e[Uf]?a(e[Uf]):s(ys(void 0,!0))})});var n=this[ka],i;if(n)i=new Promise(Yoe(n,this));else{var o=this[Oa].read();if(o!==null)return Promise.resolve(ys(o,!1));i=new Promise(this[DS])}return this[ka]=i,i}},Hs(zg,Symbol.asyncIterator,function(){return this}),Hs(zg,"return",function(){var e=this;return new Promise(function(r,n){e[Oa].destroy(null,function(i){if(i){n(i);return}r(ys(void 0,!0))})})}),zg),Qoe),ese=function(e){var r,n=Object.create(Zoe,(r={},Hs(r,Oa,{value:e,writable:!0}),Hs(r,gs,{value:null,writable:!0}),Hs(r,Ra,{value:null,writable:!0}),Hs(r,Uf,{value:null,writable:!0}),Hs(r,Jg,{value:e._readableState.endEmitted,writable:!0}),Hs(r,DS,{value:function(o,s){var a=n[Oa].read();a?(n[ka]=null,n[gs]=null,n[Ra]=null,o(ys(a,!1))):(n[gs]=o,n[Ra]=s)},writable:!0}),r));return n[ka]=null,Koe(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[Ra];o!==null&&(n[ka]=null,n[gs]=null,n[Ra]=null,o(i)),n[Uf]=i;return}var s=n[gs];s!==null&&(n[ka]=null,n[gs]=null,n[Ra]=null,s(ys(void 0,!0))),n[Jg]=!0}),e.on("readable",Joe.bind(null,n)),n};NU.exports=ese});var WU=y((gPe,jU)=>{"use strict";function FU(t,e,r,n,i,o,s){try{var a=t[o](s),u=a.value}catch(c){r(c);return}a.done?e(u):Promise.resolve(u).then(n,i)}function tse(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var o=t.apply(e,r);function s(u){FU(o,n,i,s,a,"next",u)}function a(u){FU(o,n,i,s,a,"throw",u)}s(void 0)})}}function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rse(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){nse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nse(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ise=hs().codes.ERR_INVALID_ARG_TYPE;function ose(t,e,r){var n;if(e&&typeof e.next=="function")n=e;else if(e&&e[Symbol.asyncIterator])n=e[Symbol.asyncIterator]();else if(e&&e[Symbol.iterator])n=e[Symbol.iterator]();else throw new ise("iterable",["Iterable"],e);var i=new t(rse({objectMode:!0},r)),o=!1;i._read=function(){o||(o=!0,s())};function s(){return a.apply(this,arguments)}function a(){return a=tse(function*(){try{var u=yield n.next(),c=u.value,l=u.done;l?i.push(null):i.push(yield c)?s():o=!1}catch(p){i.destroy(p)}}),a.apply(this,arguments)}return i}jU.exports=ose});var ES=y((bPe,ZU)=>{"use strict";ZU.exports=Pe;var zc;Pe.ReadableState=XU;var yPe=v("events").EventEmitter,GU=function(e,r){return e.listeners(r).length},Wf=HS(),Yg=v("buffer").Buffer,sse=global.Uint8Array||function(){};function ase(t){return Yg.from(t)}function use(t){return Yg.isBuffer(t)||t instanceof sse}var $S=v("util"),we;$S&&$S.debuglog?we=$S.debuglog("stream"):we=function(){};var cse=mU(),BS=bS(),lse=vS(),pse=lse.getHighWaterMark,Qg=hs().codes,fse=Qg.ERR_INVALID_ARG_TYPE,dse=Qg.ERR_STREAM_PUSH_AFTER_EOF,hse=Qg.ERR_METHOD_NOT_IMPLEMENTED,mse=Qg.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,Jc,TS,MS;Dt()(Pe,Wf);var jf=BS.errorOrDestroy,RS=["error","close","destroy","pause","resume"];function Hse(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function XU(t,e,r){zc=zc||Ta(),t=t||{},typeof r!="boolean"&&(r=e instanceof zc),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=pse(this,t,"readableHighWaterMark",r),this.buffer=new cse,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(Jc||(Jc=CS().StringDecoder),this.decoder=new Jc(t.encoding),this.encoding=t.encoding)}function Pe(t){if(zc=zc||Ta(),!(this instanceof Pe))return new Pe(t);var e=this instanceof zc;this._readableState=new XU(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),Wf.call(this)}Object.defineProperty(Pe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}});Pe.prototype.destroy=BS.destroy;Pe.prototype._undestroy=BS.undestroy;Pe.prototype._destroy=function(t,e){e(t)};Pe.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=Yg.from(t,e),e=""),n=!0),KU(this,t,e,!1,n)};Pe.prototype.unshift=function(t){return KU(this,t,null,!0,!1)};function KU(t,e,r,n,i){we("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,bse(t,o);else{var s;if(i||(s=gse(o,e)),s)jf(t,s);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==Yg.prototype&&(e=ase(e)),n)o.endEmitted?jf(t,new mse):kS(t,o,e,!0);else if(o.ended)jf(t,new dse);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?kS(t,o,e,!1):NS(t,o)):kS(t,o,e,!1)}else n||(o.reading=!1,NS(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function kS(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&Zg(t)),NS(t,e)}function gse(t,e){var r;return!use(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new fse("chunk",["string","Buffer","Uint8Array"],e)),r}Pe.prototype.isPaused=function(){return this._readableState.flowing===!1};Pe.prototype.setEncoding=function(t){Jc||(Jc=CS().StringDecoder);var e=new Jc(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var qU=1073741824;function yse(t){return t>=qU?t=qU:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function VU(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=yse(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}Pe.prototype.read=function(t){we("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return we("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?OS(this):Zg(this),null;if(t=VU(t,e),t===0&&e.ended)return e.length===0&&OS(this),null;var n=e.needReadable;we("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,we("length less than watermark",n)),e.ended||e.reading?(n=!1,we("reading or ended",n)):n&&(we("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=VU(r,e)));var i;return t>0?i=YU(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&OS(this)),i!==null&&this.emit("data",i),i};function bse(t,e){if(we("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Zg(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,zU(t)))}}function Zg(t){var e=t._readableState;we("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(we("emitReadable",e.flowing),e.emittedReadable=!0,process.nextTick(zU,t))}function zU(t){var e=t._readableState;we("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,FS(t)}function NS(t,e){e.readingMore||(e.readingMore=!0,process.nextTick(vse,t,e))}function vse(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(we("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}Pe.prototype._read=function(t){jf(this,new hse("_read()"))};Pe.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,we("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==process.stdout&&t!==process.stderr,o=i?a:g;n.endEmitted?process.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(b,A){we("onunpipe"),b===r&&A&&A.hasUnpiped===!1&&(A.hasUnpiped=!0,l())}function a(){we("onend"),t.end()}var u=_se(r);t.on("drain",u);var c=!1;function l(){we("cleanup"),t.removeListener("close",m),t.removeListener("finish",h),t.removeListener("drain",u),t.removeListener("error",f),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",p),c=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&u()}r.on("data",p);function p(b){we("ondata");var A=t.write(b);we("dest.write",A),A===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&QU(n.pipes,t)!==-1)&&!c&&(we("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function f(b){we("onerror",b),g(),t.removeListener("error",f),GU(t,"error")===0&&jf(t,b)}Hse(t,"error",f);function m(){t.removeListener("finish",h),g()}t.once("close",m);function h(){we("onfinish"),t.removeListener("close",m),g()}t.once("finish",h);function g(){we("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(we("pipe resume"),r.resume()),t};function _se(t){return function(){var r=t._readableState;we("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&GU(t,"data")&&(r.flowing=!0,FS(t))}}Pe.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=QU(e.pipes,t);return s===-1?this:(e.pipes.splice(s,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};Pe.prototype.on=function(t,e){var r=Wf.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,we("on readable",n.length,n.reading),n.length?Zg(this):n.reading||process.nextTick(wse,this)),r};Pe.prototype.addListener=Pe.prototype.on;Pe.prototype.removeListener=function(t,e){var r=Wf.prototype.removeListener.call(this,t,e);return t==="readable"&&process.nextTick(JU,this),r};Pe.prototype.removeAllListeners=function(t){var e=Wf.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&process.nextTick(JU,this),e};function JU(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function wse(t){we("readable nexttick read 0"),t.read(0)}Pe.prototype.resume=function(){var t=this._readableState;return t.flowing||(we("resume"),t.flowing=!t.readableListening,Ise(this,t)),t.paused=!1,this};function Ise(t,e){e.resumeScheduled||(e.resumeScheduled=!0,process.nextTick(Ase,t,e))}function Ase(t,e){we("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),FS(t),e.flowing&&!e.reading&&t.read(0)}Pe.prototype.pause=function(){return we("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(we("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function FS(t){var e=t._readableState;for(we("flow",e.flowing);e.flowing&&t.read()!==null;);}Pe.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(we("wrapped end"),r.decoder&&!r.ended){var s=r.decoder.end();s&&s.length&&e.push(s)}e.push(null)}),t.on("data",function(s){if(we("wrapped data"),r.decoder&&(s=r.decoder.write(s)),!(r.objectMode&&s==null)&&!(!r.objectMode&&(!s||!s.length))){var a=e.push(s);a||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(a){return function(){return t[a].apply(t,arguments)}}(i));for(var o=0;o<RS.length;o++)t.on(RS[o],this.emit.bind(this,RS[o]));return this._read=function(s){we("wrapped _read",s),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(Pe.prototype[Symbol.asyncIterator]=function(){return TS===void 0&&(TS=BU()),TS(this)});Object.defineProperty(Pe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(Pe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(Pe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});Pe._fromList=YU;Object.defineProperty(Pe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function YU(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function OS(t){var e=t._readableState;we("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,process.nextTick(Sse,e,t))}function Sse(t,e){if(we("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(Pe.from=function(t,e){return MS===void 0&&(MS=WU()),MS(Pe,t,e)});function QU(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var US=y((vPe,t3)=>{"use strict";t3.exports=go;var ey=hs().codes,Ese=ey.ERR_METHOD_NOT_IMPLEMENTED,Pse=ey.ERR_MULTIPLE_CALLBACK,Lse=ey.ERR_TRANSFORM_ALREADY_TRANSFORMING,xse=ey.ERR_TRANSFORM_WITH_LENGTH_0,ty=Ta();Dt()(go,ty);function Cse(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Pse);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function go(t){if(!(this instanceof go))return new go(t);ty.call(this,t),this._transformState={afterTransform:Cse.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Dse)}function Dse(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){e3(t,e,r)}):e3(this,null,null)}go.prototype.push=function(t,e){return this._transformState.needTransform=!1,ty.prototype.push.call(this,t,e)};go.prototype._transform=function(t,e,r){r(new Ese("_transform()"))};go.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};go.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};go.prototype._destroy=function(t,e){ty.prototype._destroy.call(this,t,function(r){e(r)})};function e3(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new xse;if(t._transformState.transforming)throw new Lse;return t.push(null)}});var i3=y((_Pe,n3)=>{"use strict";n3.exports=qf;var r3=US();Dt()(qf,r3);function qf(t){if(!(this instanceof qf))return new qf(t);r3.call(this,t)}qf.prototype._transform=function(t,e,r){r(null,t)}});var c3=y((wPe,u3)=>{"use strict";var jS;function $se(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var a3=hs().codes,Tse=a3.ERR_MISSING_ARGS,Mse=a3.ERR_STREAM_DESTROYED;function o3(t){if(t)throw t}function Rse(t){return t.setHeader&&typeof t.abort=="function"}function kse(t,e,r,n){n=$se(n);var i=!1;t.on("close",function(){i=!0}),jS===void 0&&(jS=Kg()),jS(t,{readable:e,writable:r},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,Rse(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(s||new Mse("pipe"))}}}function s3(t){t()}function Ose(t,e){return t.pipe(e)}function Nse(t){return!t.length||typeof t[t.length-1]!="function"?o3:t.pop()}function Bse(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=Nse(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new Tse("streams");var i,o=e.map(function(s,a){var u=a<e.length-1,c=a>0;return kse(s,u,c,function(l){i||(i=l),l&&o.forEach(s3),!u&&(o.forEach(s3),n(i))})});return e.reduce(Ose)}u3.exports=Bse});var WS=y((bn,Gf)=>{var Vf=v("stream");process.env.READABLE_STREAM==="disable"&&Vf?(Gf.exports=Vf.Readable,Object.assign(Gf.exports,Vf),Gf.exports.Stream=Vf):(bn=Gf.exports=ES(),bn.Stream=Vf||bn,bn.Readable=bn,bn.Writable=IS(),bn.Duplex=Ta(),bn.Transform=US(),bn.PassThrough=i3(),bn.finished=Kg(),bn.pipeline=c3())});var p3=y((IPe,l3)=>{l3.exports=Fse;function Fse(t){var e=t._readableState;return e?e.objectMode?t.read():t.read(Use(e)):null}function Use(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var H3=y((APe,m3)=>{var ry=WS(),f3=FH(),jse=Dt(),Wse=p3(),d3=Buffer.from&&Buffer.from!==Uint8Array.from?Buffer.from([0]):new Buffer([0]),qS=function(t,e){t._corked?t.once("uncork",e):e()},qse=function(t,e){t._autoDestroy&&t.destroy(e)},h3=function(t,e){return function(r){r?qse(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},Vse=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},Gse=function(){},Xse=function(t){return new ry.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},Jt=function(t,e,r){if(!(this instanceof Jt))return new Jt(t,e,r);ry.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};jse(Jt,ry.Duplex);Jt.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new Jt(t,e,r)};Jt.prototype.cork=function(){++this._corked===1&&this.emit("cork")};Jt.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};Jt.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=f3(t,{writable:!0,readable:!1},h3(this,this._forwardEnd)),n=function(){var o=e._ondrain;e._ondrain=null,o&&o()},i=function(){e._writable.removeListener("drain",n),r()};this._unwrite&&process.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=i,this.uncork()};Jt.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=f3(t,{writable:!1,readable:!0},h3(this)),n=function(){e._forward()},i=function(){e.push(null)},o=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:Xse(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=o,this._forward()};Jt.prototype._read=function(){this._drained=!0,this._forward()};Jt.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=Wse(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};Jt.prototype.destroy=function(t,e){if(e||(e=Gse),this.destroyed)return e(null);this.destroyed=!0;var r=this;process.nextTick(function(){r._destroy(t),e(null)})};Jt.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};Jt.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return qS(this,this._write.bind(this,t,e,r));if(t===d3)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};Jt.prototype._finish=function(t){var e=this;this.emit("preend"),qS(this,function(){Vse(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),qS(e,t)})})};Jt.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(d3),ry.Writable.prototype.end.call(this,r))};m3.exports=Jt});var b3=y((SPe,ny)=>{var Kse=lU(),zse=Dt(),g3=H3(),y3=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},VS=function(t){var e=function(){var r=y3(arguments);if(!(this instanceof e))return new e(r);g3.call(this,null,null,t),r.length&&this.setPipeline(r)};return zse(e,g3),e.prototype.setPipeline=function(){var r=y3(arguments),n=this,i=!1,o=r[0],s=r[r.length-1];s=s.readable?s:null,o=o.writable?o:null;var a=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",a),this.on("prefinish",function(){i||n.cork()}),Kse(r,function(u){if(n.removeListener("close",a),u)return n.destroy(u.message==="premature close"?null:u);i=!0,n._autoDestroy===!1&&(n._autoDestroy=!0),n.uncork()}),this.destroyed)return a();this.setWritable(o),this.setReadable(s)},e};ny.exports=VS({autoDestroy:!1,destroy:!1});ny.exports.obj=VS({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});ny.exports.ctor=VS});var GS=y((EPe,v3)=>{"use strict";v3.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:t,original:t};return t.charAt(0)==="!"&&t.charAt(1)!=="("&&(e.negated=!0,e.pattern=t.slice(1)),e}});var XS=y((PPe,L3)=>{"use strict";var iy=Object.prototype.hasOwnProperty,P3=Object.prototype.toString,_3=Object.defineProperty,w3=Object.getOwnPropertyDescriptor,I3=function(e){return typeof Array.isArray=="function"?Array.isArray(e):P3.call(e)==="[object Array]"},A3=function(e){if(!e||P3.call(e)!=="[object Object]")return!1;var r=iy.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&iy.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||iy.call(e,i)},S3=function(e,r){_3&&r.name==="__proto__"?_3(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},E3=function(e,r){if(r==="__proto__")if(iy.call(e,r)){if(w3)return w3(e,r).value}else return;return e[r]};L3.exports=function t(){var e,r,n,i,o,s,a=arguments[0],u=1,c=arguments.length,l=!1;for(typeof a=="boolean"&&(l=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(r in e)n=E3(a,r),i=E3(e,r),a!==i&&(l&&i&&(A3(i)||(o=I3(i)))?(o?(o=!1,s=n&&I3(n)?n:[]):s=n&&A3(n)?n:{},S3(a,{name:r,newValue:t(l,s,i)})):typeof i<"u"&&S3(a,{name:r,newValue:i}));return a}});var x3=y(KS=>{var Na=v("path"),vs=process.platform==="win32",bs=v("fs"),Jse=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Yse(){var t;if(Jse){var e=new Error;t=r}else t=n;return t;function r(i){i&&(e.message=i.message,i=e,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var o="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(o):console.error(o)}}}}function Qse(t){return typeof t=="function"?t:Yse()}var LPe=Na.normalize;vs?yo=/(.*?)(?:[\/\\]+|$)/g:yo=/(.*?)(?:[\/]+|$)/g;var yo;vs?Xf=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:Xf=/^[\/]*/;var Xf;KS.realpathSync=function(e,r){if(e=Na.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];var n=e,i={},o={},s,a,u,c;l();function l(){var b=Xf.exec(e);s=b[0].length,a=b[0],u=b[0],c="",vs&&!o[u]&&(bs.lstatSync(u),o[u]=!0)}for(;s<e.length;){yo.lastIndex=s;var p=yo.exec(e);if(c=a,a+=p[0],u=c+p[1],s=yo.lastIndex,!(o[u]||r&&r[u]===u)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,u))f=r[u];else{var m=bs.lstatSync(u);if(!m.isSymbolicLink()){o[u]=!0,r&&(r[u]=u);continue}var h=null;if(!vs){var g=m.dev.toString(32)+":"+m.ino.toString(32);i.hasOwnProperty(g)&&(h=i[g])}h===null&&(bs.statSync(u),h=bs.readlinkSync(u)),f=Na.resolve(c,h),r&&(r[u]=f),vs||(i[g]=h)}e=Na.resolve(f,e.slice(s)),l()}}return r&&(r[n]=e),e};KS.realpath=function(e,r,n){if(typeof n!="function"&&(n=Qse(r),r=null),e=Na.resolve(e),r&&Object.prototype.hasOwnProperty.call(r,e))return process.nextTick(n.bind(null,null,r[e]));var i=e,o={},s={},a,u,c,l;p();function p(){var b=Xf.exec(e);a=b[0].length,u=b[0],c=b[0],l="",vs&&!s[c]?bs.lstat(c,function(A){if(A)return n(A);s[c]=!0,f()}):process.nextTick(f)}function f(){if(a>=e.length)return r&&(r[i]=e),n(null,e);yo.lastIndex=a;var b=yo.exec(e);return l=u,u+=b[0],c=l+b[1],a=yo.lastIndex,s[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):bs.lstat(c,m)}function m(b,A){if(b)return n(b);if(!A.isSymbolicLink())return s[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!vs){var D=A.dev.toString(32)+":"+A.ino.toString(32);if(o.hasOwnProperty(D))return h(null,o[D],c)}bs.stat(c,function(U){if(U)return n(U);bs.readlink(c,function($,W){vs||(o[D]=W),h($,W)})})}function h(b,A,D){if(b)return n(b);var U=Na.resolve(l,A);r&&(r[D]=U),g(U)}function g(b){e=Na.resolve(b,e.slice(a)),p()}}});var QS=y((CPe,T3)=>{T3.exports=_s;_s.realpath=_s;_s.sync=YS;_s.realpathSync=YS;_s.monkeypatch=eae;_s.unmonkeypatch=tae;var Yc=v("fs"),zS=Yc.realpath,JS=Yc.realpathSync,Zse=process.version,C3=/^v[0-5]\./.test(Zse),D3=x3();function $3(t){return t&&t.syscall==="realpath"&&(t.code==="ELOOP"||t.code==="ENOMEM"||t.code==="ENAMETOOLONG")}function _s(t,e,r){if(C3)return zS(t,e,r);typeof e=="function"&&(r=e,e=null),zS(t,e,function(n,i){$3(n)?D3.realpath(t,e,r):r(n,i)})}function YS(t,e){if(C3)return JS(t,e);try{return JS(t,e)}catch(r){if($3(r))return D3.realpathSync(t,e);throw r}}function eae(){Yc.realpath=_s,Yc.realpathSync=YS}function tae(){Yc.realpath=zS,Yc.realpathSync=JS}});var R3=y((DPe,M3)=>{M3.exports=function(t,e){for(var r=[],n=0;n<t.length;n++){var i=e(t[n],n);rae(i)?r.push.apply(r,i):r.push(i)}return r};var rae=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}});var F3=y(($Pe,B3)=>{"use strict";B3.exports=O3;function O3(t,e,r){t instanceof RegExp&&(t=k3(t,r)),e instanceof RegExp&&(e=k3(e,r));var n=N3(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function k3(t,e){var r=e.match(t);return r?r[0]:null}O3.range=N3;function N3(t,e,r){var n,i,o,s,a,u=r.indexOf(t),c=r.indexOf(e,u+1),l=u;if(u>=0&&c>0){for(n=[],o=r.length;l>=0&&!a;)l==u?(n.push(l),u=r.indexOf(t,l+1)):n.length==1?a=[n.pop(),c]:(i=n.pop(),i<o&&(o=i,s=c),c=r.indexOf(e,l+1)),l=u<c&&u>=0?u:c;n.length&&(a=[o,s])}return a}});var K3=y((TPe,X3)=>{var nae=R3(),U3=F3();X3.exports=sae;var j3="\0SLASH"+Math.random()+"\0",W3="\0OPEN"+Math.random()+"\0",e0="\0CLOSE"+Math.random()+"\0",q3="\0COMMA"+Math.random()+"\0",V3="\0PERIOD"+Math.random()+"\0";function ZS(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function iae(t){return t.split("\\\\").join(j3).split("\\{").join(W3).split("\\}").join(e0).split("\\,").join(q3).split("\\.").join(V3)}function oae(t){return t.split(j3).join("\\").split(W3).join("{").split(e0).join("}").split(q3).join(",").split(V3).join(".")}function G3(t){if(!t)return[""];var e=[],r=U3("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,o=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var a=G3(o);return o.length&&(s[s.length-1]+=a.shift(),s.push.apply(s,a)),e.push.apply(e,s),e}function sae(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Qc(iae(t),!0).map(oae)):[]}function aae(t){return"{"+t+"}"}function uae(t){return/^-?0\d/.test(t)}function cae(t,e){return t<=e}function lae(t,e){return t>=e}function Qc(t,e){var r=[],n=U3("{","}",t);if(!n||/\$$/.test(n.pre))return[t];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),o=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||o,a=n.body.indexOf(",")>=0;if(!s&&!a)return n.post.match(/,.*\}/)?(t=n.pre+"{"+n.body+e0+n.post,Qc(t)):[t];var u;if(s)u=n.body.split(/\.\./);else if(u=G3(n.body),u.length===1&&(u=Qc(u[0],!1).map(aae),u.length===1)){var l=n.post.length?Qc(n.post,!1):[""];return l.map(function(E){return n.pre+u[0]+E})}var c=n.pre,l=n.post.length?Qc(n.post,!1):[""],p;if(s){var f=ZS(u[0]),m=ZS(u[1]),h=Math.max(u[0].length,u[1].length),g=u.length==3?Math.abs(ZS(u[2])):1,b=cae,A=m<f;A&&(g*=-1,b=lae);var D=u.some(uae);p=[];for(var U=f;b(U,m);U+=g){var $;if(o)$=String.fromCharCode(U),$==="\\"&&($="");else if($=String(U),D){var W=h-$.length;if(W>0){var z=new Array(W+1).join("0");U<0?$="-"+z+$.slice(1):$=z+$}}p.push($)}}else p=nae(u,function(N){return Qc(N,!1)});for(var X=0;X<p.length;X++)for(var j=0;j<l.length;j++){var O=c+p[X]+l[j];(!e||s||O)&&r.push(O)}return r}});var ay=y((MPe,Z3)=>{Z3.exports=Gr;Gr.Minimatch=Yt;var Kf=function(){try{return v("path")}catch{}}()||{sep:"/"};Gr.sep=Kf.sep;var n0=Gr.GLOBSTAR=Yt.GLOBSTAR={},pae=K3(),z3={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},t0="[^/]",r0=t0+"*?",fae="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",dae="(?:(?!(?:\\/|^)\\.).)*?",J3=hae("().*{}+?[]^$\\!");function hae(t){return t.split("").reduce(function(e,r){return e[r]=!0,e},{})}var Y3=/\/+/;Gr.filter=mae;function mae(t,e){return e=e||{},function(r,n,i){return Gr(r,t,e)}}function ws(t,e){e=e||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}Gr.defaults=function(t){if(!t||typeof t!="object"||!Object.keys(t).length)return Gr;var e=Gr,r=function(i,o,s){return e(i,o,ws(t,s))};return r.Minimatch=function(i,o){return new e.Minimatch(i,ws(t,o))},r.Minimatch.defaults=function(i){return e.defaults(ws(t,i)).Minimatch},r.filter=function(i,o){return e.filter(i,ws(t,o))},r.defaults=function(i){return e.defaults(ws(t,i))},r.makeRe=function(i,o){return e.makeRe(i,ws(t,o))},r.braceExpand=function(i,o){return e.braceExpand(i,ws(t,o))},r.match=function(n,i,o){return e.match(n,i,ws(t,o))},r};Yt.defaults=function(t){return Gr.defaults(t).Minimatch};function Gr(t,e,r){return sy(e),r||(r={}),!r.nocomment&&e.charAt(0)==="#"?!1:new Yt(e,r).match(t)}function Yt(t,e){if(!(this instanceof Yt))return new Yt(t,e);sy(t),e||(e={}),t=t.trim(),!e.allowWindowsEscape&&Kf.sep!=="/"&&(t=t.split(Kf.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.make()}Yt.prototype.debug=function(){};Yt.prototype.make=Hae;function Hae(){var t=this.pattern,e=this.options;if(!e.nocomment&&t.charAt(0)==="#"){this.comment=!0;return}if(!t){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();e.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(Y3)}),this.debug(this.pattern,r),r=r.map(function(n,i,o){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}Yt.prototype.parseNegate=gae;function gae(){var t=this.pattern,e=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,o=t.length;i<o&&t.charAt(i)==="!";i++)e=!e,n++;n&&(this.pattern=t.substr(n)),this.negate=e}}Gr.braceExpand=function(t,e){return Q3(t,e)};Yt.prototype.braceExpand=Q3;function Q3(t,e){return e||(this instanceof Yt?e=this.options:e={}),t=typeof t>"u"?this.pattern:t,sy(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:pae(t)}var yae=1024*64,sy=function(t){if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>yae)throw new TypeError("pattern is too long")};Yt.prototype.parse=bae;var oy={};function bae(t,e){sy(t);var r=this.options;if(t==="**")if(r.noglobstar)t="*";else return n0;if(t==="")return"";var n="",i=!!r.nocase,o=!1,s=[],a=[],u,c=!1,l=-1,p=-1,f=t.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",m=this;function h(){if(u){switch(u){case"*":n+=r0,i=!0;break;case"?":n+=t0,i=!0;break;default:n+="\\"+u;break}m.debug("clearStateChar %j %j",u,n),u=!1}}for(var g=0,b=t.length,A;g<b&&(A=t.charAt(g));g++){if(this.debug("%s	%s %s %j",t,g,n,A),o&&J3[A]){n+="\\"+A,o=!1;continue}switch(A){case"/":return!1;case"\\":h(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",t,g,n,A),c){this.debug("  in class"),A==="!"&&g===p+1&&(A="^"),n+=A;continue}m.debug("call clearStateChar %j",u),h(),u=A,r.noext&&h();continue;case"(":if(c){n+="(";continue}if(!u){n+="\\(";continue}s.push({type:u,start:g-1,reStart:n.length,open:z3[u].open,close:z3[u].close}),n+=u==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",u,n),u=!1;continue;case")":if(c||!s.length){n+="\\)";continue}h(),i=!0;var D=s.pop();n+=D.close,D.type==="!"&&a.push(D),D.reEnd=n.length;continue;case"|":if(c||!s.length||o){n+="\\|",o=!1;continue}h(),n+="|";continue;case"[":if(h(),c){n+="\\"+A;continue}c=!0,p=g,l=n.length,n+=A;continue;case"]":if(g===p+1||!c){n+="\\"+A,o=!1;continue}var U=t.substring(p+1,g);try{RegExp("["+U+"]")}catch{var $=this.parse(U,oy);n=n.substr(0,l)+"\\["+$[0]+"\\]",i=i||$[1],c=!1;continue}i=!0,c=!1,n+=A;continue;default:h(),o?o=!1:J3[A]&&!(A==="^"&&c)&&(n+="\\"),n+=A}}for(c&&(U=t.substr(p+1),$=this.parse(U,oy),n=n.substr(0,l)+"\\["+$[0],i=i||$[1]),D=s.pop();D;D=s.pop()){var W=n.slice(D.reStart+D.open.length);this.debug("setting tail",n,D),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(ce,te,fe){return fe||(fe="\\"),te+te+fe+"|"}),this.debug(`tail=%j
   %s`,W,W,D,n);var z=D.type==="*"?r0:D.type==="?"?t0:"\\"+D.type;i=!0,n=n.slice(0,D.reStart)+z+"\\("+W}h(),o&&(n+="\\\\");var X=!1;switch(n.charAt(0)){case"[":case".":case"(":X=!0}for(var j=a.length-1;j>-1;j--){var O=a[j],N=n.slice(0,O.reStart),E=n.slice(O.reStart,O.reEnd-8),q=n.slice(O.reEnd-8,O.reEnd),F=n.slice(O.reEnd);q+=F;var G=N.split("(").length-1,P=F;for(g=0;g<G;g++)P=P.replace(/\)[+*?]?/,"");F=P;var x="";F===""&&e!==oy&&(x="$");var se=N+E+F+x+q;n=se}if(n!==""&&i&&(n="(?=.)"+n),X&&(n=f+n),e===oy)return[n,i];if(!i)return _ae(t);var re=r.nocase?"i":"";try{var pe=new RegExp("^"+n+"$",re)}catch{return new RegExp("$.")}return pe._glob=t,pe._src=n,pe}Gr.makeRe=function(t,e){return new Yt(t,e||{}).makeRe()};Yt.prototype.makeRe=vae;function vae(){if(this.regexp||this.regexp===!1)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,r=e.noglobstar?r0:e.dot?fae:dae,n=e.nocase?"i":"",i=t.map(function(o){return o.map(function(s){return s===n0?r:typeof s=="string"?wae(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}Gr.match=function(t,e,r){r=r||{};var n=new Yt(e,r);return t=t.filter(function(i){return n.match(i)}),n.options.nonull&&!t.length&&t.push(e),t};Yt.prototype.match=function(e,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;var n=this.options;Kf.sep!=="/"&&(e=e.split(Kf.sep).join("/")),e=e.split(Y3),this.debug(this.pattern,"split",e);var i=this.set;this.debug(this.pattern,"set",i);var o,s;for(s=e.length-1;s>=0&&(o=e[s],!o);s--);for(s=0;s<i.length;s++){var a=i[s],u=e;n.matchBase&&a.length===1&&(u=[o]);var c=this.matchOne(u,a,r);if(c)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};Yt.prototype.matchOne=function(t,e,r){var n=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var i=0,o=0,s=t.length,a=e.length;i<s&&o<a;i++,o++){this.debug("matchOne loop");var u=e[o],c=t[i];if(this.debug(e,u,c),u===!1)return!1;if(u===n0){this.debug("GLOBSTAR",[e,u,c]);var l=i,p=o+1;if(p===a){for(this.debug("** at the end");i<s;i++)if(t[i]==="."||t[i]===".."||!n.dot&&t[i].charAt(0)===".")return!1;return!0}for(;l<s;){var f=t[l];if(this.debug(`
globstar while`,t,l,e,p,f),this.matchOne(t.slice(l),e.slice(p),r))return this.debug("globstar found match!",l,s,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",t,l,e,p);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,t,l,e,p),l===s))}var m;if(typeof u=="string"?(m=c===u,this.debug("string match",u,c,m)):(m=c.match(u),this.debug("pattern match",u,c,m)),!m)return!1}if(i===s&&o===a)return!0;if(i===s)return r;if(o===a)return i===s-1&&t[i]==="";throw new Error("wtf?")};function _ae(t){return t.replace(/\\(.)/g,"$1")}function wae(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var cy=y((RPe,uy)=>{"use strict";function ej(t){return t.charAt(0)==="/"}function tj(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=e.exec(t),n=r[1]||"",i=!!(n&&n.charAt(1)!==":");return!!(r[2]||i)}uy.exports=process.platform==="win32"?tj:ej;uy.exports.posix=ej;uy.exports.win32=tj});var o0=y(Is=>{Is.setopts=Lae;Is.ownProp=rj;Is.makeAbs=zf;Is.finish=xae;Is.mark=Cae;Is.isIgnored=ij;Is.childrenIgnored=Dae;function rj(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Iae=v("fs"),Zc=v("path"),Aae=ay(),nj=cy(),i0=Aae.Minimatch;function Sae(t,e){return t.localeCompare(e,"en")}function Eae(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]),t.ignore.length&&(t.ignore=t.ignore.map(Pae))}function Pae(t){var e=null;if(t.slice(-3)==="/**"){var r=t.replace(/(\/\*\*)+$/,"");e=new i0(r,{dot:!0})}return{matcher:new i0(t,{dot:!0}),gmatcher:e}}function Lae(t,e,r){if(r||(r={}),r.matchBase&&e.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!r.silent,t.pattern=e,t.strict=r.strict!==!1,t.realpath=!!r.realpath,t.realpathCache=r.realpathCache||Object.create(null),t.follow=!!r.follow,t.dot=!!r.dot,t.mark=!!r.mark,t.nodir=!!r.nodir,t.nodir&&(t.mark=!0),t.sync=!!r.sync,t.nounique=!!r.nounique,t.nonull=!!r.nonull,t.nosort=!!r.nosort,t.nocase=!!r.nocase,t.stat=!!r.stat,t.noprocess=!!r.noprocess,t.absolute=!!r.absolute,t.fs=r.fs||Iae,t.maxLength=r.maxLength||1/0,t.cache=r.cache||Object.create(null),t.statCache=r.statCache||Object.create(null),t.symlinks=r.symlinks||Object.create(null),Eae(t,r),t.changedCwd=!1;var n=process.cwd();rj(r,"cwd")?(t.cwd=Zc.resolve(r.cwd),t.changedCwd=t.cwd!==n):t.cwd=n,t.root=r.root||Zc.resolve(t.cwd,"/"),t.root=Zc.resolve(t.root),process.platform==="win32"&&(t.root=t.root.replace(/\\/g,"/")),t.cwdAbs=nj(t.cwd)?t.cwd:zf(t,t.cwd),process.platform==="win32"&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/")),t.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,t.minimatch=new i0(e,r),t.options=t.minimatch.options}function xae(t){for(var e=t.nounique,r=e?[]:Object.create(null),n=0,i=t.matches.length;n<i;n++){var o=t.matches[n];if(!o||Object.keys(o).length===0){if(t.nonull){var s=t.minimatch.globSet[n];e?r.push(s):r[s]=!0}}else{var a=Object.keys(o);e?r.push.apply(r,a):a.forEach(function(u){r[u]=!0})}}if(e||(r=Object.keys(r)),t.nosort||(r=r.sort(Sae)),t.mark){for(var n=0;n<r.length;n++)r[n]=t._mark(r[n]);t.nodir&&(r=r.filter(function(u){var c=!/\/$/.test(u),l=t.cache[u]||t.cache[zf(t,u)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}t.ignore.length&&(r=r.filter(function(u){return!ij(t,u)})),t.found=r}function Cae(t,e){var r=zf(t,e),n=t.cache[r],i=e;if(n){var o=n==="DIR"||Array.isArray(n),s=e.slice(-1)==="/";if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=zf(t,i);t.statCache[a]=t.statCache[r],t.cache[a]=t.cache[r]}}return i}function zf(t,e){var r=e;return e.charAt(0)==="/"?r=Zc.join(t.root,e):nj(e)||e===""?r=e:t.changedCwd?r=Zc.resolve(t.cwd,e):r=Zc.resolve(e),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function ij(t,e){return t.ignore.length?t.ignore.some(function(r){return r.matcher.match(e)||!!(r.gmatcher&&r.gmatcher.match(e))}):!1}function Dae(t,e){return t.ignore.length?t.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(e))}):!1}});var cj=y((FPe,uj)=>{uj.exports=aj;aj.GlobSync=$t;var $ae=QS(),oj=ay(),OPe=oj.Minimatch,NPe=u0().Glob,BPe=v("util"),s0=v("path"),sj=v("assert"),ly=cy(),Ba=o0(),Tae=Ba.setopts,a0=Ba.ownProp,Mae=Ba.childrenIgnored,Rae=Ba.isIgnored;function aj(t,e){if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new $t(t,e).found}function $t(t,e){if(!t)throw new Error("must provide pattern");if(typeof e=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof $t))return new $t(t,e);if(Tae(this,t,e),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}$t.prototype._finish=function(){if(sj(this instanceof $t),this.realpath){var t=this;this.matches.forEach(function(e,r){var n=t.matches[r]=Object.create(null);for(var i in e)try{i=t._makeAbs(i);var o=$ae.realpathSync(i,t.realpathCache);n[o]=!0}catch(s){if(s.syscall==="stat")n[t._makeAbs(i)]=!0;else throw s}})}Ba.finish(this)};$t.prototype._process=function(t,e,r){sj(this instanceof $t);for(var n=0;typeof t[n]=="string";)n++;var i;switch(n){case t.length:this._processSimple(t.join("/"),e);return;case 0:i=null;break;default:i=t.slice(0,n).join("/");break}var o=t.slice(n),s;i===null?s=".":((ly(i)||ly(t.join("/")))&&(!i||!ly(i))&&(i="/"+i),s=i);var a=this._makeAbs(s);if(!Mae(this,s)){var u=o[0]===oj.GLOBSTAR;u?this._processGlobStar(i,s,a,o,e,r):this._processReaddir(i,s,a,o,e,r)}};$t.prototype._processReaddir=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){for(var a=n[0],u=!!this.minimatch.negate,c=a._glob,l=this.dot||c.charAt(0)===".",p=[],f=0;f<s.length;f++){var m=s[f];if(m.charAt(0)!=="."||l){var h;u&&!t?h=!m.match(a):h=m.match(a),h&&p.push(m)}}var g=p.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<g;f++){var m=p[f];t&&(t.slice(-1)!=="/"?m=t+"/"+m:m=t+m),m.charAt(0)==="/"&&!this.nomount&&(m=s0.join(this.root,m)),this._emitMatch(i,m)}return}n.shift();for(var f=0;f<g;f++){var m=p[f],b;t?b=[t,m]:b=[m],this._process(b.concat(n),i,o)}}}};$t.prototype._emitMatch=function(t,e){if(!Rae(this,e)){var r=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}};$t.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,r,n;try{r=this.fs.lstatSync(t)}catch(o){if(o.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[t]=i,!i&&r&&!r.isDirectory()?this.cache[t]="FILE":e=this._readdir(t,!1),e};$t.prototype._readdir=function(t,e){var r;if(e&&!a0(this.symlinks,t))return this._readdirInGlobStar(t);if(a0(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,this.fs.readdirSync(t))}catch(i){return this._readdirError(t,i),null}};$t.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var n=e[r];t==="/"?n=t+n:n=t+"/"+n,this.cache[n]=!0}return this.cache[t]=e,e};$t.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(e.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=e.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e);break}};$t.prototype._processGlobStar=function(t,e,r,n,i,o){var s=this._readdir(r,o);if(s){var a=n.slice(1),u=t?[t]:[],c=u.concat(a);this._process(c,i,!1);var l=s.length,p=this.symlinks[r];if(!(p&&o))for(var f=0;f<l;f++){var m=s[f];if(!(m.charAt(0)==="."&&!this.dot)){var h=u.concat(s[f],a);this._process(h,i,!0);var g=u.concat(s[f],n);this._process(g,i,!0)}}}};$t.prototype._processSimple=function(t,e){var r=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),!!r){if(t&&ly(t)&&!this.nomount){var n=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=s0.join(this.root,t):(t=s0.resolve(this.root,t),n&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}};$t.prototype._stat=function(t){var e=this._makeAbs(t),r=t.slice(-1)==="/";if(t.length>this.maxLength)return!1;if(!this.stat&&a0(this.cache,e)){var s=this.cache[e];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[e];if(!i){var o;try{o=this.fs.lstatSync(e)}catch(a){if(a&&(a.code==="ENOENT"||a.code==="ENOTDIR"))return this.statCache[e]=!1,!1}if(o&&o.isSymbolicLink())try{i=this.fs.statSync(e)}catch{i=o}else i=o}this.statCache[e]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,r&&s==="FILE"?!1:s};$t.prototype._mark=function(t){return Ba.mark(this,t)};$t.prototype._makeAbs=function(t){return Ba.makeAbs(this,t)}});var pj=y((UPe,lj)=>{var kae=cI(),Jf=Object.create(null),Oae=Sc();lj.exports=kae(Nae);function Nae(t,e){return Jf[t]?(Jf[t].push(e),null):(Jf[t]=[e],Bae(t))}function Bae(t){return Oae(function e(){var r=Jf[t],n=r.length,i=Fae(arguments);try{for(var o=0;o<n;o++)r[o].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){e.apply(null,i)})):delete Jf[t]}})}function Fae(t){for(var e=t.length,r=[],n=0;n<e;n++)r[n]=t[n];return r}});var u0=y((qPe,dj)=>{dj.exports=Fa;var Uae=QS(),fj=ay(),jPe=fj.Minimatch,jae=Dt(),Wae=v("events").EventEmitter,c0=v("path"),l0=v("assert"),Yf=cy(),f0=cj(),Ua=o0(),qae=Ua.setopts,p0=Ua.ownProp,d0=pj(),WPe=v("util"),Vae=Ua.childrenIgnored,Gae=Ua.isIgnored,Xae=Sc();function Fa(t,e,r){if(typeof e=="function"&&(r=e,e={}),e||(e={}),e.sync){if(r)throw new TypeError("callback provided to sync glob");return f0(t,e)}return new Ne(t,e,r)}Fa.sync=f0;var Kae=Fa.GlobSync=f0.GlobSync;Fa.glob=Fa;function zae(t,e){if(e===null||typeof e!="object")return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}Fa.hasMagic=function(t,e){var r=zae({},e);r.noprocess=!0;var n=new Ne(t,r),i=n.minimatch.set;if(!t)return!1;if(i.length>1)return!0;for(var o=0;o<i[0].length;o++)if(typeof i[0][o]!="string")return!0;return!1};Fa.Glob=Ne;jae(Ne,Wae);function Ne(t,e,r){if(typeof e=="function"&&(r=e,e=null),e&&e.sync){if(r)throw new TypeError("callback provided to sync glob");return new Kae(t,e)}if(!(this instanceof Ne))return new Ne(t,e,r);qae(this,t,e),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Xae(r),this.on("error",r),this.on("end",function(u){r(null,u)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return a();for(var o=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,a);o=!1;function a(){--i._processing,i._processing<=0&&(o?process.nextTick(function(){i._finish()}):i._finish())}}Ne.prototype._finish=function(){if(l0(this instanceof Ne),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();Ua.finish(this),this.emit("end",this.found)}};Ne.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var t=this.matches.length;if(t===0)return this._finish();for(var e=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--t===0&&e._finish()}};Ne.prototype._realpathSet=function(t,e){var r=this.matches[t];if(!r)return e();var n=Object.keys(r),i=this,o=n.length;if(o===0)return e();var s=this.matches[t]=Object.create(null);n.forEach(function(a,u){a=i._makeAbs(a),Uae.realpath(a,i.realpathCache,function(c,l){c?c.syscall==="stat"?s[a]=!0:i.emit("error",c):s[l]=!0,--o===0&&(i.matches[t]=s,e())})})};Ne.prototype._mark=function(t){return Ua.mark(this,t)};Ne.prototype._makeAbs=function(t){return Ua.makeAbs(this,t)};Ne.prototype.abort=function(){this.aborted=!0,this.emit("abort")};Ne.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};Ne.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var r=t[e];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var e=0;e<n.length;e++){var i=n[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};Ne.prototype._process=function(t,e,r,n){if(l0(this instanceof Ne),l0(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([t,e,r,n]);return}for(var i=0;typeof t[i]=="string";)i++;var o;switch(i){case t.length:this._processSimple(t.join("/"),e,n);return;case 0:o=null;break;default:o=t.slice(0,i).join("/");break}var s=t.slice(i),a;o===null?a=".":((Yf(o)||Yf(t.join("/")))&&(!o||!Yf(o))&&(o="/"+o),a=o);var u=this._makeAbs(a);if(Vae(this,a))return n();var c=s[0]===fj.GLOBSTAR;c?this._processGlobStar(o,a,u,s,e,r,n):this._processReaddir(o,a,u,s,e,r,n)}};Ne.prototype._processReaddir=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){return a._processReaddir2(t,e,r,n,i,o,c,s)})};Ne.prototype._processReaddir2=function(t,e,r,n,i,o,s,a){if(!s)return a();for(var u=n[0],c=!!this.minimatch.negate,l=u._glob,p=this.dot||l.charAt(0)===".",f=[],m=0;m<s.length;m++){var h=s[m];if(h.charAt(0)!=="."||p){var g;c&&!t?g=!h.match(u):g=h.match(u),g&&f.push(h)}}var b=f.length;if(b===0)return a();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var m=0;m<b;m++){var h=f[m];t&&(t!=="/"?h=t+"/"+h:h=t+h),h.charAt(0)==="/"&&!this.nomount&&(h=c0.join(this.root,h)),this._emitMatch(i,h)}return a()}n.shift();for(var m=0;m<b;m++){var h=f[m],A;t&&(t!=="/"?h=t+"/"+h:h=t+h),this._process([h].concat(n),i,o,a)}a()};Ne.prototype._emitMatch=function(t,e){if(!this.aborted&&!Gae(this,e)){if(this.paused){this._emitQueue.push([t,e]);return}var r=Yf(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=r),!this.matches[t][e]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[t][e]=!0;var i=this.statCache[r];i&&this.emit("stat",e,i),this.emit("match",e)}}};Ne.prototype._readdirInGlobStar=function(t,e){if(this.aborted)return;if(this.follow)return this._readdir(t,!1,e);var r="lstat\0"+t,n=this,i=d0(r,o);i&&n.fs.lstat(t,i);function o(s,a){if(s&&s.code==="ENOENT")return e();var u=a&&a.isSymbolicLink();n.symlinks[t]=u,!u&&a&&!a.isDirectory()?(n.cache[t]="FILE",e()):n._readdir(t,!1,e)}};Ne.prototype._readdir=function(t,e,r){if(!this.aborted&&(r=d0("readdir\0"+t+"\0"+e,r),!!r)){if(e&&!p0(this.symlinks,t))return this._readdirInGlobStar(t,r);if(p0(this.cache,t)){var n=this.cache[t];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(t,Jae(this,t,r))}};function Jae(t,e,r){return function(n,i){n?t._readdirError(e,n,r):t._readdirEntries(e,i,r)}}Ne.prototype._readdirEntries=function(t,e,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var i=e[n];t==="/"?i=t+i:i=t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,r(null,e)}};Ne.prototype._readdirError=function(t,e,r){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e);break}return r()}};Ne.prototype._processGlobStar=function(t,e,r,n,i,o,s){var a=this;this._readdir(r,o,function(u,c){a._processGlobStar2(t,e,r,n,i,o,c,s)})};Ne.prototype._processGlobStar2=function(t,e,r,n,i,o,s,a){if(!s)return a();var u=n.slice(1),c=t?[t]:[],l=c.concat(u);this._process(l,i,!1,a);var p=this.symlinks[r],f=s.length;if(p&&o)return a();for(var m=0;m<f;m++){var h=s[m];if(!(h.charAt(0)==="."&&!this.dot)){var g=c.concat(s[m],u);this._process(g,i,!0,a);var b=c.concat(s[m],n);this._process(b,i,!0,a)}}a()};Ne.prototype._processSimple=function(t,e,r){var n=this;this._stat(t,function(i,o){n._processSimple2(t,e,i,o,r)})};Ne.prototype._processSimple2=function(t,e,r,n,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!n)return i();if(t&&Yf(t)&&!this.nomount){var o=/[\/\\]$/.test(t);t.charAt(0)==="/"?t=c0.join(this.root,t):(t=c0.resolve(this.root,t),o&&(t+="/"))}process.platform==="win32"&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()};Ne.prototype._stat=function(t,e){var r=this._makeAbs(t),n=t.slice(-1)==="/";if(t.length>this.maxLength)return e();if(!this.stat&&p0(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return e(null,i);if(n&&i==="FILE")return e()}var o,s=this.statCache[r];if(s!==void 0){if(s===!1)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return n&&a==="FILE"?e():e(null,a,s)}var u=this,c=d0("stat\0"+r,l);c&&u.fs.lstat(r,c);function l(p,f){if(f&&f.isSymbolicLink())return u.fs.stat(r,function(m,h){m?u._stat2(t,r,null,f,e):u._stat2(t,r,m,h,e)});u._stat2(t,r,p,f,e)}};Ne.prototype._stat2=function(t,e,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[e]=!1,i();var o=t.slice(-1)==="/";if(this.statCache[e]=n,e.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&s==="FILE"?i():i(null,s,n)}});var mj=y((VPe,hj)=>{hj.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var yj=y((GPe,gj)=>{var Yae=mj(),Hj={"{":"}","(":")","[":"]"},Qae=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,i=-2,o=-2,s=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(s===-1||s>n||(s=t.indexOf("\\",e),s===-1||s>n)))||i!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(i=t.indexOf("}",e),i>e&&(s=t.indexOf("\\",e),s===-1||s>i))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(s=t.indexOf("\\",e),s===-1||s>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(s=t.indexOf("\\",r),s===-1||s>o))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var u=Hj[a];if(u){var c=t.indexOf(u,e);c!==-1&&(e=c+1)}if(t[e]==="!")return!0}else e++}return!1},Zae=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=Hj[r];if(n){var i=t.indexOf(n,e);i!==-1&&(e=i+1)}if(t[e]==="!")return!0}else e++}return!1};gj.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Yae(e))return!0;var n=Qae;return r&&r.strict===!1&&(n=Zae),n(e)}});var vj=y((XPe,bj)=>{"use strict";var eue=yj(),tue=v("path").posix.dirname,rue=v("os").platform()==="win32",py="/",nue=/\\/g,iue=/\\([!*?|[\](){}])/g;bj.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&rue&&e.indexOf(py)<0&&(e=e.replace(nue,py)),oue(e)&&(e+=py),e+="a";do e=tue(e);while(sue(e));return e.replace(iue,"$1")};function oue(t){var e=t.slice(-1),r;switch(e){case"}":r="{";break;case"]":r="[";break;default:return!1}var n=t.indexOf(r);return n<0?!1:t.slice(n+1,-1).includes(py)}function sue(t){return/\([^()]+$/.test(t)||t[0]==="{"||t[0]==="["||/[^\\][{[]/.test(t)?!0:eue(t)}});var wj=y((KPe,_j)=>{"use strict";_j.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var Aj=y((zPe,Ij)=>{"use strict";var aue=wj()();Ij.exports=function(t){if(typeof t!="string")throw new TypeError("expected a string");return aue.test(t)}});var Ej=y((JPe,Sj)=>{"use strict";var uue=Aj();Sj.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!uue(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var Pj=y((h0,m0)=>{(function(t){h0&&typeof h0=="object"&&typeof m0<"u"?m0.exports=t():typeof define=="function"&&define.amd?define([],t):typeof window<"u"?window.isWindows=t():typeof global<"u"?global.isWindows=t():typeof self<"u"?self.isWindows=t():this.isWindows=t()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var xj=y((YPe,Lj)=>{"use strict";var cue=Ej(),lue=Pj();Lj.exports=Qf;function Qf(t){if(typeof t!="string")throw new TypeError("isAbsolute expects a string.");return lue()?Qf.win32(t):Qf.posix(t)}Qf.posix=function(e){return e.charAt(0)==="/"};Qf.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!cue(e)}});var g0=y((QPe,Tj)=>{"use strict";var Cj=v("path"),pue=GS(),Dj=xj();Tj.exports=function(t,e){var r=e||{},n=Cj.resolve(r.cwd?r.cwd:process.cwd());n=H0(n);var i=r.root;i&&(i=H0(i),(process.platform==="win32"||!Dj(i))&&(i=H0(Cj.resolve(i)))),t.slice(0,2)==="./"&&(t=t.slice(2)),t.length===1&&t==="."&&(t="");var o=t.slice(-1),s=pue(t);return t=s.pattern,i&&t.charAt(0)==="/"?t=$j(i,t):(!Dj(t)||t.slice(0,1)==="\\")&&(t=$j(n,t)),o==="/"&&t.slice(-1)!=="/"&&(t+="/"),s.negated?"!"+t:t};function H0(t){return t.replace(/\\/g,"/")}function $j(t,e){return t.charAt(t.length-1)==="/"&&(t=t.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?t+"/"+e:t}});var Rj=y((ZPe,Mj)=>{var fue=process.platform==="win32";Mj.exports=function(t){var e=t.length-1;if(e<2)return t;for(;due(t,e);)e--;return t.substr(0,e+1)};function due(t,e){var r=t[e];return e>0&&(r==="/"||fue&&r==="\\")}});var Nj=y((eLe,Oj)=>{"use strict";var hue=v("util").inherits,mue=u0(),Hue=XS(),kj=WS().Readable,gue=vj(),y0=g0(),yue=Rj(),bue="File not found with singular glob: ",vue=" (if this was purposeful, use `allowEmpty` option)";function _ue(t,e){return gue(y0(t,e))}function wue(t){var e=t.minimatch.set;return e.length!==1?!1:e[0].every(function(n){return typeof n=="string"})}function el(t,e,r){if(!(this instanceof el))return new el(t,e,r);var n=Hue({},r);kj.call(this,{objectMode:!0,highWaterMark:n.highWaterMark||16}),delete n.highWaterMark;var i=this;function o(m){return y0(m,n)}var s=e.map(o);n.ignore=s;var a=n.cwd,u=n.allowEmpty||!1,c=n.base||_ue(t,n);t=y0(t,n),delete n.root;var l=new mue.Glob(t,n);this._globber=l;var p=!1;l.on("match",function(m){p=!0;var h={cwd:a,base:c,path:yue(m)};i.push(h)||l.pause()}),l.once("end",function(){if(u!==!0&&!p&&wue(l)){var m=new Error(bue+t+vue);return i.destroy(m)}i.push(null)});function f(m){i.destroy(m)}l.once("error",f)}hue(el,kj);el.prototype._read=function(){this._globber.resume()};el.prototype.destroy=function(t){var e=this;this._globber.abort(),process.nextTick(function(){t&&e.emit("error",t),e.emit("close")})};Oj.exports=el});var Fj=y((tLe,Bj)=>{"use strict";var Iue=cF(),Aue=aU(),Sue=b3(),Eue=GS(),Pue=XS(),Lue=Nj();function xue(t,e){e||(e={});var r=Pue({},e),n=r.ignore;r.cwd=typeof r.cwd=="string"?r.cwd:process.cwd(),r.dot=typeof r.dot=="boolean"?r.dot:!1,r.silent=typeof r.silent=="boolean"?r.silent:!0,r.cwdbase=typeof r.cwdbase=="boolean"?r.cwdbase:!1,r.uniqueBy=typeof r.uniqueBy=="string"||typeof r.uniqueBy=="function"?r.uniqueBy:"path",r.cwdbase&&(r.base=r.cwd),typeof n=="string"&&(n=[n]),Array.isArray(n)||(n=[]),Array.isArray(t)||(t=[t]);var i=[],o=[];t.forEach(s);function s(p,f){if(typeof p!="string")throw new Error("Invalid glob at index "+f);var m=Eue(p),h=m.negated?o:i;h.push({index:f,glob:m.pattern})}if(i.length===0)throw new Error("Missing positive glob");var a=i.map(l),u=new Iue(a),c=Aue(r.uniqueBy);return Sue.obj(u,c);function l(p){var f=o.filter(Cue(p.index)).map(Due).concat(n);return new Lue(p.glob,f,r)}}function Cue(t){return function(e){return e.index>t}}function Due(t){return t.glob}Bj.exports=xue});var vy=y((XLe,Yj)=>{"use strict";var{Transform:kue}=v("stream"),{StringDecoder:Oue}=v("string_decoder"),Ps=Symbol("last"),by=Symbol("decoder");function Nue(t,e,r){let n;if(this.overflow){if(n=this[by].write(t).split(this.matcher),n.length===1)return r();n.shift(),this.overflow=!1}else this[Ps]+=this[by].write(t),n=this[Ps].split(this.matcher);this[Ps]=n.pop();for(let i=0;i<n.length;i++)try{Jj(this,this.mapper(n[i]))}catch(o){return r(o)}if(this.overflow=this[Ps].length>this.maxLength,this.overflow&&!this.skipOverflow){r(new Error("maximum buffer reached"));return}r()}function Bue(t){if(this[Ps]+=this[by].end(),this[Ps])try{Jj(this,this.mapper(this[Ps]))}catch(e){return t(e)}t()}function Jj(t,e){e!==void 0&&t.push(e)}function zj(t){return t}function Fue(t,e,r){switch(t=t||/\r?\n/,e=e||zj,r=r||{},arguments.length){case 1:typeof t=="function"?(e=t,t=/\r?\n/):typeof t=="object"&&!(t instanceof RegExp)&&!t[Symbol.split]&&(r=t,t=/\r?\n/);break;case 2:typeof t=="function"?(r=e,e=t,t=/\r?\n/):typeof e=="object"&&(r=e,e=zj)}r=Object.assign({},r),r.autoDestroy=!0,r.transform=Nue,r.flush=Bue,r.readableObjectMode=!0;let n=new kue(r);return n[Ps]="",n[by]=new Oue("utf8"),n.matcher=t,n.mapper=e,n.maxLength=r.maxLength,n.skipOverflow=r.skipOverflow||!1,n.overflow=!1,n._destroy=function(i,o){this._writableState.errorEmitted=!1,o(i)},n}Yj.exports=Fue});var b2,y2=ZW(()=>{b2="./w32appcontainertokens-XTRA77NA.node"});var _2=y((vDe,v2)=>{y2();try{v2.exports=v(b2)}catch{}});var I2=y(Py=>{"use strict";Object.defineProperty(Py,"__esModule",{value:!0});Py.getAppContainerProcessTokens=void 0;var Gue=v("path"),w2,Xue=()=>{if(process.platform==="win32")return w2??=_2(),w2},Kue=t=>Xue()?.getAppContainerProcessTokens().map(e=>(0,Gue.join)(e,t));Py.getAppContainerProcessTokens=Kue});var F2=y((bTe,rce)=>{rce.exports={name:"dotenv",version:"16.3.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var q2=y((vTe,Io)=>{var U2=v("fs"),M0=v("path"),nce=v("os"),ice=v("crypto"),oce=F2(),R0=oce.version,sce=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function ace(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=sce.exec(r))!=null;){let i=n[1],o=n[2]||"";o=o.trim();let s=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),e[i]=o}return e}function uce(t){let e=W2(t),r=jt.configDotenv({path:e});if(!r.parsed)throw new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);let n=j2(t).split(","),i=n.length,o;for(let s=0;s<i;s++)try{let a=n[s].trim(),u=pce(r,a);o=jt.decrypt(u.ciphertext,u.key);break}catch(a){if(s+1>=i)throw a}return jt.parse(o)}function cce(t){console.log(`[dotenv@${R0}][INFO] ${t}`)}function lce(t){console.log(`[dotenv@${R0}][WARN] ${t}`)}function T0(t){console.log(`[dotenv@${R0}][DEBUG] ${t}`)}function j2(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function pce(t,e){let r;try{r=new URL(e)}catch(a){throw a.code==="ERR_INVALID_URL"?new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development"):a}let n=r.password;if(!n)throw new Error("INVALID_DOTENV_KEY: Missing key part");let i=r.searchParams.get("environment");if(!i)throw new Error("INVALID_DOTENV_KEY: Missing environment part");let o=`DOTENV_VAULT_${i.toUpperCase()}`,s=t.parsed[o];if(!s)throw new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);return{ciphertext:s,key:n}}function W2(t){let e=M0.resolve(process.cwd(),".env");return t&&t.path&&t.path.length>0&&(e=t.path),e.endsWith(".vault")?e:`${e}.vault`}function fce(t){return t[0]==="~"?M0.join(nce.homedir(),t.slice(1)):t}function dce(t){cce("Loading env from encrypted .env.vault");let e=jt._parseVault(t),r=process.env;return t&&t.processEnv!=null&&(r=t.processEnv),jt.populate(r,e,t),{parsed:e}}function hce(t){let e=M0.resolve(process.cwd(),".env"),r="utf8",n=!!(t&&t.debug);t&&(t.path!=null&&(e=fce(t.path)),t.encoding!=null&&(r=t.encoding));try{let i=jt.parse(U2.readFileSync(e,{encoding:r})),o=process.env;return t&&t.processEnv!=null&&(o=t.processEnv),jt.populate(o,i,t),{parsed:i}}catch(i){return n&&T0(`Failed to load ${e} ${i.message}`),{error:i}}}function mce(t){let e=W2(t);return j2(t).length===0?jt.configDotenv(t):U2.existsSync(e)?jt._configVault(t):(lce(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),jt.configDotenv(t))}function Hce(t,e){let r=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(t,"base64"),i=n.slice(0,12),o=n.slice(-16);n=n.slice(12,-16);try{let s=ice.createDecipheriv("aes-256-gcm",r,i);return s.setAuthTag(o),`${s.update(n)}${s.final()}`}catch(s){let a=s instanceof RangeError,u=s.message==="Invalid key length",c=s.message==="Unsupported state or unable to authenticate data";if(a||u){let l="INVALID_DOTENV_KEY: It must be 64 characters long (or more)";throw new Error(l)}else if(c){let l="DECRYPTION_FAILED: Please check your DOTENV_KEY";throw new Error(l)}else throw console.error("Error: ",s.code),console.error("Error: ",s.message),s}}function gce(t,e,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if(typeof e!="object")throw new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");for(let o of Object.keys(e))Object.prototype.hasOwnProperty.call(t,o)?(i===!0&&(t[o]=e[o]),n&&T0(i===!0?`"${o}" is already defined and WAS overwritten`:`"${o}" is already defined and was NOT overwritten`)):t[o]=e[o]}var jt={configDotenv:hce,_configVault:dce,_parseVault:uce,config:mce,decrypt:Hce,parse:ace,populate:gce};Io.exports.configDotenv=jt.configDotenv;Io.exports._configVault=jt._configVault;Io.exports._parseVault=jt._parseVault;Io.exports.config=jt.config;Io.exports.decrypt=jt.decrypt;Io.exports.parse=jt.parse;Io.exports.populate=jt.populate;Io.exports=jt});var ob=M(lt()),GW=M(v("fs")),XW=M(v("net")),KW=M(v("os")),sb=M(v("path"));var Q0;(function(t){(function(e){var r=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=i(t);typeof r.Reflect>"u"?r.Reflect=t:n=i(r.Reflect,n),e(n);function i(o,s){return function(a,u){typeof o[a]!="function"&&Object.defineProperty(o,a,{configurable:!0,writable:!0,value:u}),s&&s(a,u)}}})(function(e){var r=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",i=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",o=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",s=typeof Object.create=="function",a={__proto__:[]}instanceof Array,u=!s&&!a,c={create:s?function(){return In(Object.create(null))}:a?function(){return In({__proto__:null})}:function(){return In({})},has:u?function(d,H){return r.call(d,H)}:function(d,H){return H in d},get:u?function(d,H){return r.call(d,H)?d[H]:void 0}:function(d,H){return d[H]}},l=Object.getPrototypeOf(Function),p=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=!p&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:cd(),m=!p&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ab(),h=!p&&typeof WeakMap=="function"?WeakMap:He(),g=new h;function b(d,H,_,w){if(te(_)){if(!Ie(d))throw new TypeError;if(!he(H))throw new TypeError;return N(d,H)}else{if(!Ie(d))throw new TypeError;if(!ge(H))throw new TypeError;if(!ge(w)&&!te(w)&&!fe(w))throw new TypeError;return fe(w)&&(w=void 0),_=Y(_),E(d,H,_,w)}}e("decorate",b);function A(d,H){function _(w,L){if(!ge(w))throw new TypeError;if(!te(L)&&!Te(L))throw new TypeError;se(d,H,w,L)}return _}e("metadata",A);function D(d,H,_,w){if(!ge(_))throw new TypeError;return te(w)||(w=Y(w)),se(d,H,_,w)}e("defineMetadata",D);function U(d,H,_){if(!ge(H))throw new TypeError;return te(_)||(_=Y(_)),F(d,H,_)}e("hasMetadata",U);function $(d,H,_){if(!ge(H))throw new TypeError;return te(_)||(_=Y(_)),G(d,H,_)}e("hasOwnMetadata",$);function W(d,H,_){if(!ge(H))throw new TypeError;return te(_)||(_=Y(_)),P(d,H,_)}e("getMetadata",W);function z(d,H,_){if(!ge(H))throw new TypeError;return te(_)||(_=Y(_)),x(d,H,_)}e("getOwnMetadata",z);function X(d,H){if(!ge(d))throw new TypeError;return te(H)||(H=Y(H)),re(d,H)}e("getMetadataKeys",X);function j(d,H){if(!ge(d))throw new TypeError;return te(H)||(H=Y(H)),pe(d,H)}e("getOwnMetadataKeys",j);function O(d,H,_){if(!ge(H))throw new TypeError;te(_)||(_=Y(_));var w=q(H,_,!1);if(te(w)||!w.delete(d))return!1;if(w.size>0)return!0;var L=g.get(H);return L.delete(_),L.size>0||g.delete(H),!0}e("deleteMetadata",O);function N(d,H){for(var _=d.length-1;_>=0;--_){var w=d[_],L=w(H);if(!te(L)&&!fe(L)){if(!he(L))throw new TypeError;H=L}}return H}function E(d,H,_,w){for(var L=d.length-1;L>=0;--L){var C=d[L],R=C(H,_,w);if(!te(R)&&!fe(R)){if(!ge(R))throw new TypeError;w=R}}return w}function q(d,H,_){var w=g.get(d);if(te(w)){if(!_)return;w=new f,g.set(d,w)}var L=w.get(H);if(te(L)){if(!_)return;L=new f,w.set(H,L)}return L}function F(d,H,_){var w=G(d,H,_);if(w)return!0;var L=eu(H);return fe(L)?!1:F(d,L,_)}function G(d,H,_){var w=q(H,_,!1);return te(w)?!1:pr(w.has(d))}function P(d,H,_){var w=G(d,H,_);if(w)return x(d,H,_);var L=eu(H);if(!fe(L))return P(d,L,_)}function x(d,H,_){var w=q(H,_,!1);if(!te(w))return w.get(d)}function se(d,H,_,w){var L=q(_,w,!0);L.set(d,H)}function re(d,H){var _=pe(d,H),w=eu(d);if(w===null)return _;var L=re(w,H);if(L.length<=0)return _;if(_.length<=0)return L;for(var C=new m,R=[],k=0,T=_;k<T.length;k++){var ee=T[k],ae=C.has(ee);ae||(C.add(ee),R.push(ee))}for(var de=0,Se=L;de<Se.length;de++){var ee=Se[de],ae=C.has(ee);ae||(C.add(ee),R.push(ee))}return R}function pe(d,H){var _=[],w=q(d,H,!1);if(te(w))return _;for(var L=w.keys(),C=ot(L),R=0;;){var k=So(C);if(!k)return _.length=R,_;var T=Ao(k);try{_[R]=T}catch(ee){try{ks(C)}finally{throw ee}}R++}}function ce(d){if(d===null)return 1;switch(typeof d){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return d===null?1:6;default:return 6}}function te(d){return d===void 0}function fe(d){return d===null}function be(d){return typeof d=="symbol"}function ge(d){return typeof d=="object"?d!==null:typeof d=="function"}function Wt(d,H){switch(ce(d)){case 0:return d;case 1:return d;case 2:return d;case 3:return d;case 4:return d;case 5:return d}var _=H===3?"string":H===5?"number":"default",w=Ze(d,i);if(w!==void 0){var L=w.call(d,_);if(ge(L))throw new TypeError;return L}return me(d,_==="default"?"number":_)}function me(d,H){if(H==="string"){var _=d.toString;if(J(_)){var w=_.call(d);if(!ge(w))return w}var L=d.valueOf;if(J(L)){var w=L.call(d);if(!ge(w))return w}}else{var L=d.valueOf;if(J(L)){var w=L.call(d);if(!ge(w))return w}var C=d.toString;if(J(C)){var w=C.call(d);if(!ge(w))return w}}throw new TypeError}function pr(d){return!!d}function $r(d){return""+d}function Y(d){var H=Wt(d,3);return be(H)?H:$r(H)}function Ie(d){return Array.isArray?Array.isArray(d):d instanceof Object?d instanceof Array:Object.prototype.toString.call(d)==="[object Array]"}function J(d){return typeof d=="function"}function he(d){return typeof d=="function"}function Te(d){switch(ce(d)){case 3:return!0;case 4:return!0;default:return!1}}function Ze(d,H){var _=d[H];if(_!=null){if(!J(_))throw new TypeError;return _}}function ot(d){var H=Ze(d,o);if(!J(H))throw new TypeError;var _=H.call(d);if(!ge(_))throw new TypeError;return _}function Ao(d){return d.value}function So(d){var H=d.next();return H.done?!1:H}function ks(d){var H=d.return;H&&H.call(d)}function eu(d){var H=Object.getPrototypeOf(d);if(typeof d!="function"||d===l||H!==l)return H;var _=d.prototype,w=_&&Object.getPrototypeOf(_);if(w==null||w===Object.prototype)return H;var L=w.constructor;return typeof L!="function"||L===d?H:L}function cd(){var d={},H=[],_=function(){function R(k,T,ee){this._index=0,this._keys=k,this._values=T,this._selector=ee}return R.prototype["@@iterator"]=function(){return this},R.prototype[o]=function(){return this},R.prototype.next=function(){var k=this._index;if(k>=0&&k<this._keys.length){var T=this._selector(this._keys[k],this._values[k]);return k+1>=this._keys.length?(this._index=-1,this._keys=H,this._values=H):this._index++,{value:T,done:!1}}return{value:void 0,done:!0}},R.prototype.throw=function(k){throw this._index>=0&&(this._index=-1,this._keys=H,this._values=H),k},R.prototype.return=function(k){return this._index>=0&&(this._index=-1,this._keys=H,this._values=H),{value:k,done:!0}},R}();return function(){function R(){this._keys=[],this._values=[],this._cacheKey=d,this._cacheIndex=-2}return Object.defineProperty(R.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),R.prototype.has=function(k){return this._find(k,!1)>=0},R.prototype.get=function(k){var T=this._find(k,!1);return T>=0?this._values[T]:void 0},R.prototype.set=function(k,T){var ee=this._find(k,!0);return this._values[ee]=T,this},R.prototype.delete=function(k){var T=this._find(k,!1);if(T>=0){for(var ee=this._keys.length,ae=T+1;ae<ee;ae++)this._keys[ae-1]=this._keys[ae],this._values[ae-1]=this._values[ae];return this._keys.length--,this._values.length--,k===this._cacheKey&&(this._cacheKey=d,this._cacheIndex=-2),!0}return!1},R.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=d,this._cacheIndex=-2},R.prototype.keys=function(){return new _(this._keys,this._values,w)},R.prototype.values=function(){return new _(this._keys,this._values,L)},R.prototype.entries=function(){return new _(this._keys,this._values,C)},R.prototype["@@iterator"]=function(){return this.entries()},R.prototype[o]=function(){return this.entries()},R.prototype._find=function(k,T){return this._cacheKey!==k&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=k)),this._cacheIndex<0&&T&&(this._cacheIndex=this._keys.length,this._keys.push(k),this._values.push(void 0)),this._cacheIndex},R}();function w(R,k){return R}function L(R,k){return k}function C(R,k){return[R,k]}}function ab(){return function(){function d(){this._map=new f}return Object.defineProperty(d.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),d.prototype.has=function(H){return this._map.has(H)},d.prototype.add=function(H){return this._map.set(H,H),this},d.prototype.delete=function(H){return this._map.delete(H)},d.prototype.clear=function(){this._map.clear()},d.prototype.keys=function(){return this._map.keys()},d.prototype.values=function(){return this._map.values()},d.prototype.entries=function(){return this._map.entries()},d.prototype["@@iterator"]=function(){return this.keys()},d.prototype[o]=function(){return this.keys()},d}()}function He(){var d=16,H=c.create(),_=w();return function(){function T(){this._key=w()}return T.prototype.has=function(ee){var ae=L(ee,!1);return ae!==void 0?c.has(ae,this._key):!1},T.prototype.get=function(ee){var ae=L(ee,!1);return ae!==void 0?c.get(ae,this._key):void 0},T.prototype.set=function(ee,ae){var de=L(ee,!0);return de[this._key]=ae,this},T.prototype.delete=function(ee){var ae=L(ee,!1);return ae!==void 0?delete ae[this._key]:!1},T.prototype.clear=function(){this._key=w()},T}();function w(){var T;do T="@@WeakMap@@"+k();while(c.has(H,T));return H[T]=!0,T}function L(T,ee){if(!r.call(T,_)){if(!ee)return;Object.defineProperty(T,_,{value:c.create()})}return T[_]}function C(T,ee){for(var ae=0;ae<ee;++ae)T[ae]=Math.random()*255|0;return T}function R(T){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(T)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(T)):C(new Uint8Array(T),T):C(new Array(T),T)}function k(){var T=R(d);T[6]=T[6]&79|64,T[8]=T[8]&191|128;for(var ee="",ae=0;ae<d;++ae){var de=T[ae];(ae===4||ae===6||ae===8)&&(ee+="-"),de<16&&(ee+="0"),ee+=de.toString(16).toLowerCase()}return ee}}function In(d){return d.__=void 0,delete d.__,d}})})(Q0||(Q0={}));var fn=M(lt());var qt=t=>!!t,tu=t=>dd(t,e=>e!==null),Z0=t=>dd(t,e=>e!==void 0),Os=t=>e=>e instanceof t,fd=(t,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(t)))};function dd(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];e(i,n)&&(r[n]=i)}return r}function ji(t,e){let r={};for(let n of Object.keys(t)){let i=t[n];r[n]=e(i,n)}return r}function eE(t,e){let r={};for(let n of Object.keys(t))e(n,t[n])&&(r[n]=t[n]);return r}function tE(...t){if(t.length===0)return{};let e={},r=Object.create(null);for(let n of t)if(n)for(let i of Object.keys(n)){let o=i.toLowerCase();r[o]?e[r[o]]=n[i]:(r[o]=i,e[i]=n[i])}return e}function rE(t,e){if(t.hasOwnProperty(e))return t[e];let r=e.toLowerCase();for(let n of Object.keys(t))if(n.toLowerCase()===r)return t[n]}var pb=Symbol("unset");function ye(t){let e=pb,r=(...n)=>(e===pb&&(r.value=e=t(...n)),e);return r.forget=()=>{e=pb,r.value=void 0},r.value=void 0,r}function Ns(t){let e=new Map,r=n=>{if(e.has(n))return e.get(n);let i=t(n);return e.set(n,i),i};return r.clear=()=>e.clear(),r}function nE(t){let e,r=n=>(e?.arg===n||(e={arg:n,val:t(n)}),e.val);return r.clear=()=>e=void 0,r}function iE(t,e){let r,n=()=>{r!==void 0&&clearTimeout(r),r=setTimeout(()=>{r=void 0,e()},t)};return n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}function oE(t,e){let r,n=()=>{r===void 0&&(r=setTimeout(()=>{r=void 0,e()},t))};return n.queued=()=>!!r,n.clear=()=>{r&&(clearTimeout(r),r=void 0)},n}async function sE(t,e){let r=[],n=[];for(let i of t)await e(i)?r.push(i):n.push(i);return[r,n]}function Bs(t){let e=[];for(let r of t)e=e.concat(r);return e}var Hq=2**31-1,hd=()=>{let t=0;return()=>t++&Hq};var ru={dispose:()=>{}},je=class{constructor(e){this.disposed=!1;this.items=[];e&&(this.items=e.slice())}get isDisposed(){return this.disposed}callback(...e){for(let r of e)this.push({dispose:r})}push(...e){return this.disposed?(e.forEach(r=>r.dispose()),e[0]):(this.items.push(...e),e[0])}disposeObject(e){this.items=this.items.filter(r=>r!==e),e.dispose()}dispose(){let e=Promise.all(this.items.map(r=>r.dispose()));return this.items=[],this.disposed=!0,e}};var uE=v("crypto"),cE=v("os"),lE=M(v("path"));var Dl=v("fs"),aE=v("path"),Hd=v("zlib"),gq=(t,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,md=class{constructor(e,r){this.file=e;this.dap=r;try{(0,Dl.mkdirSync)((0,aE.dirname)(e),{recursive:!0})}catch{}e.endsWith(".gz")?(this.stream=(0,Hd.createGzip)(),this.stream.pipe((0,Dl.createWriteStream)(e))):this.stream=(0,Dl.createWriteStream)(e)}async setup(){this.dap?.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){this.stream&&(this.stream.write(JSON.stringify(e,gq)+`
`),this.stream.flush?.(Hd.constants.Z_SYNC_FLUSH))}};var yq={runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null},Jce=Object.keys(yq),ne=Symbol("ILogger");function bq(t,e=(0,cE.tmpdir)()){if(t===!1)return{stdio:!1,logFile:null};let r={stdio:!0,logFile:lE.join(e,`vscode-debugadapter-${(0,uE.randomBytes)(4).toString("hex")}.json.gz`)};return t===!0?r:{...r,...t}}function pE(t,e){let r=bq(e),n={sinks:[]};return r.logFile&&n.sinks.push(new md(r.logFile,t)),n}var st=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return this}get base1(){return new gt(this.lineNumber+1,this.columnNumber+1)}get base01(){return new An(this.lineNumber,this.columnNumber+1)}compare(e){let r=e.base0;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},gt=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new st(this.lineNumber-1,this.columnNumber-1)}get base1(){return this}get base01(){return new An(this.lineNumber-1,this.columnNumber)}compare(e){let r=e.base1;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber||0}},An=class{constructor(e,r){this.lineNumber=e;this.columnNumber=r}get base0(){return new st(this.lineNumber-1,this.columnNumber)}get base1(){return new gt(this.lineNumber,this.columnNumber+1)}get base01(){return this}compare(e){let r=e.base01;return this.lineNumber-r.lineNumber||this.columnNumber-r.columnNumber}},Sn=class t{constructor(e,r){this.begin=e;this.end=r}static{this.ZERO=new t(new st(0,0),new st(0,0))}static{this.INFINITE=new t(new st(0,0),new st(1/0,1/0))}static simplify(e){if(e.length===0)return[];let r=e.slice().sort((o,s)=>o.begin.compare(s.begin)),n=[],i=r[0];for(let o=1;o<r.length;o++){let s=r[o];i.end.compare(s.begin)>=0?i=new t(i.begin,s.end):(n.push(i),i=s)}return n.push(i),n}contains(e){return e.compare(this.begin)>=0&&e.compare(this.end)<=0}toString(){let e=this.begin.base0,r=this.end.base0;return`Range[${e.lineNumber}:${e.columnNumber} -> ${r.lineNumber}:${r.columnNumber}]`}};var Le=t=>isFinite(t)?new Promise(e=>setTimeout(e,t)):new Promise(()=>{}),fE=(t,e)=>{let r=setTimeout(t,e);return{dispose:()=>clearTimeout(r)}};function nu(t){return new Promise((e,r)=>{let n=t.length;for(let i of t)i.then(o=>{o?(e(o),n=-1):--n===0&&e(void 0)}).catch(r)})}function ke(){let t=null,e=null,r=!1,n,i=new Promise((o,s)=>{t=a=>{r=!0,n=a,o(a)},e=a=>{r=!0,s(a)}});return{resolve:t,reject:e,promise:i,get settledValue(){return n},hasSettled:()=>r}}var Ru=M(ue());var zC=M(lt()),JC=v("path"),YC=v("url");var YP=v("path"),QP=v("worker_threads");var Ws=M(KP()),Gb=v("fs"),Xb=v("worker_threads");var g5=Buffer.from("(function (exports, require, module, __filename, __dirname) { "),y5=Buffer.from(`
});`),b5=Buffer.from("(function (exports, require, module, __filename, __dirname, process, global, Buffer) { return function (exports, require, module, __filename, __dirname) { "),v5=Buffer.from(`
}.call(this, exports, require, module, __filename, __dirname); });`),_5=Buffer.from("#!"),w5=Buffer.from("\r")[0],I5=Buffer.from(`
`)[0],A5=(t,e)=>t.slice(0,e.length).equals(e),zP=(t,e,r)=>{let n=e.length===64?Ws.shaHash:Ws.hash;if(n(t)===e)return!0;if(r){if(A5(t,_5)){let i=t.indexOf(I5);return t[i-1]===w5&&i--,n(t.slice(i))===e}if(n(Buffer.concat([g5,t,y5]))===e)return!0}return n(Buffer.concat([b5,t,v5]))===e},JP=t=>t instanceof Buffer?t:Buffer.from(t,"utf-8");async function S5(t){switch(t.type){case 0:try{let e=await Gb.promises.readFile(t.file);return{id:t.id,hash:t.mode===0?(0,Ws.hash)(e):(0,Ws.shaHash)(e)}}catch{return{id:t.id}}case 1:try{return{id:t.id,hash:(0,Ws.hash)(JP(t.data))}}catch{return{id:t.id}}case 2:try{let e=await Gb.promises.readFile(t.file);return{id:t.id,matches:zP(e,t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}case 3:try{return{id:t.id,matches:zP(JP(t.data),t.expected,t.checkNode)}}catch{return{id:t.id,matches:!1}}}}function E5(t){t.on("message",e=>{S5(e).then(r=>t.postMessage(r))})}Xb.parentPort&&E5(Xb.parentPort);var eh=class{constructor(e=3,r=(0,YP.join)(__dirname,"hash.js")){this.maxFailures=e;this.hasherScriptPath=r;this.idCounter=0;this.failureCount=0;this.deferredMap=new Map;this.deferCleanup=iE(3e4,()=>this.cleanup())}async hashBytes(e,r){return(await this.send({type:1,data:r,mode:e,id:this.idCounter++})).hash}async hashFile(e,r){return(await this.send({type:0,file:r,mode:e,id:this.idCounter++})).hash}async verifyBytes(e,r,n){return(await this.send({type:3,data:e,id:this.idCounter++,expected:r,checkNode:n})).matches}async verifyFile(e,r,n){return(await this.send({type:2,file:e,id:this.idCounter++,expected:r,checkNode:n})).matches}dispose(){this.cleanup(),this.deferCleanup.clear()}send(e){let r=this.getProcess();if(!r)throw new Error("hash.js process unexpectedly exited");this.deferCleanup();let n=ke();return this.deferredMap.set(e.id,{deferred:n,request:e}),r.postMessage(e),n.promise}cleanup(){this.instance&&(this.instance.removeAllListeners("exit"),this.instance.terminate(),this.instance=void 0,this.failureCount=0)}getProcess(){if(this.instance)return this.instance;if(this.failureCount>this.maxFailures)return;let e=this.instance=new QP.Worker(this.hasherScriptPath);return e.setMaxListeners(1/0),e.on("message",r=>{let n=r,i=this.deferredMap.get(n.id);i&&(i.deferred.resolve(n),this.deferredMap.delete(n.id))}),e.on("exit",()=>{this.instance=void 0,this.failureCount++;let r=this.getProcess();if(r){this.deferCleanup();for(let{request:n}of this.deferredMap.values())r.postMessage(n)}else{for(let{deferred:n}of this.deferredMap.values())n.reject(new Error("hash.js process unexpectedly exited"));this.deferredMap.clear(),this.deferCleanup.clear()}}),e}};var Vi=M(v("fs")),ZP=M(v("util"));async function pu({access:t},e){if(!e)return!1;try{return await t(e),!0}catch{return!1}}async function Lo({stat:t},e){if(e)try{return await t(e)}catch{return}}function eL(t){return new Promise(e=>{Vi.readFile(t,"utf8",async(r,n)=>{e(r?"":n)})})}var fpe=ZP.promisify(Vi.writeFile);var Er=Symbol("FsUtils"),Cn=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,Vi.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},Kb=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:r}=await this.dap.remoteFileExistsRequest({localFilePath:e});return r}catch{return!1}}readFile(){throw new Error("not implemented")}},th=class{constructor(e,r,n){this.remoteFilePrefix=e;this.localFsUtils=r;this.remoteFsUtils=n}static create(e,r,n){let i=new Cn(r);return e!==void 0?new this(e.toLowerCase(),i,new Kb(n)):i}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var Ox=v("crypto"),Nx=M(Hv()),Bx=v("os"),xe=M(v("path"));var AX=process.platform==="win32"?"\\\\.\\pipe\\":(0,Bx.tmpdir)(),SX=0,Fx=()=>xe.join(AX,`node-cdp.${process.pid}-${(0,Ox.randomBytes)(4).toString("hex")}-${SX++}.sock`);async function dh(t,e,r){let n;if(process.platform==="win32"){let i=r.WINDIR||"C:\\Windows";n=xe.join(i,"System32","where.exe")}else n="/usr/bin/which";try{if(await Lo(t,n)){let o=(await(0,Nx.default)(n,[e],{env:tu(r)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let s=String(r.PATHEXT||".exe").toUpperCase().split(";");for(let a of o){let u=xe.extname(a).toUpperCase();if(u&&s.includes(u))return a}}else if(o.length>0)return o[0];return}return e}catch{}}async function Ux(t,e,r){if(e){if(process.platform==="win32"&&!xe.extname(e)){let n=r.lookup("PATHEXT");if(n){let i=n.split(";");for(let o of i){let s=e+o;if(await Lo(t,s))return s}}}if(await Lo(t,e))return e}}var jx=t=>t.includes(`.asar${xe.sep}`);function xo(...t){return xe.posix.isAbsolute(t[0])?et(xe.posix.join(...t)):xe.win32.isAbsolute(t[0])?xe.win32.join(...t):xe.join(...t)}function Mr(...t){return xe.posix.isAbsolute(t[0])?xe.posix.resolve(...t):xe.win32.isAbsolute(t[0])?xe.win32.resolve(...t):xe.resolve(...t)}function Gl(t,e){return xe.posix.isAbsolute(t)?xe.posix.relative(t,e):xe.win32.isAbsolute(t)?xe.win32.relative(t,e):xe.relative(t,e)}var EX=/\/|\\/,Vl="file:///",Wx=t=>t.startsWith(Vl)&&t[Vl.length+1]===":",gv=t=>t.split(EX);function yv(t,e=!1){if(!t)return t;if(Wx(t)){let r=Vl.length;t=Vl+t[r].toLowerCase()+t.substr(r+1)}else hh(t)&&(t=(e?t[0].toUpperCase():t[0].toLowerCase())+t.substr(1));return t}function pt(t,e=!1){if(!t)return t;if(t=yv(t,e),Wx(t)){let r=Vl.length;t=t.substr(0,r+1)+t.substr(r+1).replace(/\//g,"\\")}else hh(t)&&(t=t.replace(/\//g,"\\"));return t}function et(t){return t.replace(/\\\//g,"/").replace(/\\/g,"/")}var qx=(t,e)=>{let r=xe.relative(t,e);return r.length&&!xe.isAbsolute(r)&&!r.startsWith("..")},Vx=(t,e)=>{let r=xe.relative(t,e);return!xe.isAbsolute(r)&&!r.startsWith("..")},bv=t=>t.startsWith("\\\\"),hh=t=>/^[A-Za-z]:/.test(t)||bv(t);var Xx=v("fs"),Gx=new eh;async function Kx(t,e,r){return!t||jx(t)?void 0:e?(typeof r=="string"?await Gx.verifyBytes(r,e,!0):await Gx.verifyFile(t,e,!0))?t:void 0:await new Cn(Xx.promises).exists(t)?t:void 0}var Bh=v("./vendor/acorn.js");var{stringify:LX}=JSON;if(!String.prototype.repeat)throw new Error("String.prototype.repeat is undefined, see https://github.com/davidbonnet/astring#installation");if(!String.prototype.endsWith)throw new Error("String.prototype.endsWith is undefined, see https://github.com/davidbonnet/astring#installation");var mh={"||":2,"??":3,"&&":4,"|":5,"^":6,"&":7,"==":8,"!=":8,"===":8,"!==":8,"<":9,">":9,"<=":9,">=":9,in:9,instanceof:9,"<<":10,">>":10,">>>":10,"+":11,"-":11,"*":12,"%":12,"/":12,"**":13},Dn=17,xX={ArrayExpression:20,TaggedTemplateExpression:20,ThisExpression:20,Identifier:20,PrivateIdentifier:20,Literal:18,TemplateLiteral:20,Super:20,SequenceExpression:20,MemberExpression:19,ChainExpression:19,CallExpression:19,NewExpression:19,ArrowFunctionExpression:Dn,ClassExpression:Dn,FunctionExpression:Dn,ObjectExpression:Dn,UpdateExpression:16,UnaryExpression:15,AwaitExpression:15,BinaryExpression:14,LogicalExpression:13,ConditionalExpression:4,AssignmentExpression:3,YieldExpression:2,RestElement:1};function yu(t,e){let{generator:r}=t;if(t.write("("),e!=null&&e.length>0){r[e[0].type](e[0],t);let{length:n}=e;for(let i=1;i<n;i++){let o=e[i];t.write(", "),r[o.type](o,t)}}t.write(")")}function tC(t,e,r,n){let i=t.expressionsPrecedence[e.type];if(i===Dn)return!0;let o=t.expressionsPrecedence[r.type];return i!==o?!n&&i===15&&o===14&&r.operator==="**"||i<o:i!==13&&i!==14?!1:e.operator==="**"&&r.operator==="**"?!n:i===13&&o===13&&(e.operator==="??"||r.operator==="??")?!0:n?mh[e.operator]<=mh[r.operator]:mh[e.operator]<mh[r.operator]}function Hh(t,e,r,n){let{generator:i}=t;tC(t,e,r,n)?(t.write("("),i[e.type](e,t),t.write(")")):i[e.type](e,t)}function CX(t,e,r,n){let i=e.split(`
`),o=i.length-1;if(t.write(i[0].trim()),o>0){t.write(n);for(let s=1;s<o;s++)t.write(r+i[s].trim()+n);t.write(r+i[o].trim())}}function hr(t,e,r,n){let{length:i}=e;for(let o=0;o<i;o++){let s=e[o];t.write(r),s.type[0]==="L"?t.write("// "+s.value.trim()+`
`,s):(t.write("/*"),CX(t,s.value,r,n),t.write("*/"+n))}}function DX(t){let e=t;for(;e!=null;){let{type:r}=e;if(r[0]==="C"&&r[1]==="a")return!0;if(r[0]==="M"&&r[1]==="e"&&r[2]==="m")e=e.object;else return!1}}function vv(t,e){let{generator:r}=t,{declarations:n}=e;t.write(e.kind+" ");let{length:i}=n;if(i>0){r.VariableDeclarator(n[0],t);for(let o=1;o<i;o++)t.write(", "),r.VariableDeclarator(n[o],t)}}var zx,Jx,Yx,Qx,Zx,eC,$X={Program(t,e){let r=e.indent.repeat(e.indentLevel),{lineEnd:n,writeComments:i}=e;i&&t.comments!=null&&hr(e,t.comments,r,n);let o=t.body,{length:s}=o;for(let a=0;a<s;a++){let u=o[a];i&&u.comments!=null&&hr(e,u.comments,r,n),e.write(r),this[u.type](u,e),e.write(n)}i&&t.trailingComments!=null&&hr(e,t.trailingComments,r,n)},BlockStatement:eC=function(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=r+e.indent;e.write("{");let s=t.body;if(s!=null&&s.length>0){e.write(n),i&&t.comments!=null&&hr(e,t.comments,o,n);let{length:a}=s;for(let u=0;u<a;u++){let c=s[u];i&&c.comments!=null&&hr(e,c.comments,o,n),e.write(o),this[c.type](c,e),e.write(n)}e.write(r)}else i&&t.comments!=null&&(e.write(n),hr(e,t.comments,o,n),e.write(r));i&&t.trailingComments!=null&&hr(e,t.trailingComments,o,n),e.write("}"),e.indentLevel--},ClassBody:eC,StaticBlock(t,e){e.write("static "),this.BlockStatement(t,e)},EmptyStatement(t,e){e.write(";")},ExpressionStatement(t,e){let r=e.expressionsPrecedence[t.expression.type];r===Dn||r===3&&t.expression.left.type[0]==="O"?(e.write("("),this[t.expression.type](t.expression,e),e.write(")")):this[t.expression.type](t.expression,e),e.write(";")},IfStatement(t,e){e.write("if ("),this[t.test.type](t.test,e),e.write(") "),this[t.consequent.type](t.consequent,e),t.alternate!=null&&(e.write(" else "),this[t.alternate.type](t.alternate,e))},LabeledStatement(t,e){this[t.label.type](t.label,e),e.write(": "),this[t.body.type](t.body,e)},BreakStatement(t,e){e.write("break"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},ContinueStatement(t,e){e.write("continue"),t.label!=null&&(e.write(" "),this[t.label.type](t.label,e)),e.write(";")},WithStatement(t,e){e.write("with ("),this[t.object.type](t.object,e),e.write(") "),this[t.body.type](t.body,e)},SwitchStatement(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e;e.indentLevel++;let o=r+e.indent,s=o+e.indent;e.write("switch ("),this[t.discriminant.type](t.discriminant,e),e.write(") {"+n);let{cases:a}=t,{length:u}=a;for(let c=0;c<u;c++){let l=a[c];i&&l.comments!=null&&hr(e,l.comments,o,n),l.test?(e.write(o+"case "),this[l.test.type](l.test,e),e.write(":"+n)):e.write(o+"default:"+n);let{consequent:p}=l,{length:f}=p;for(let m=0;m<f;m++){let h=p[m];i&&h.comments!=null&&hr(e,h.comments,s,n),e.write(s),this[h.type](h,e),e.write(n)}}e.indentLevel-=2,e.write(r+"}")},ReturnStatement(t,e){e.write("return"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e)),e.write(";")},ThrowStatement(t,e){e.write("throw "),this[t.argument.type](t.argument,e),e.write(";")},TryStatement(t,e){if(e.write("try "),this[t.block.type](t.block,e),t.handler){let{handler:r}=t;r.param==null?e.write(" catch "):(e.write(" catch ("),this[r.param.type](r.param,e),e.write(") ")),this[r.body.type](r.body,e)}t.finalizer&&(e.write(" finally "),this[t.finalizer.type](t.finalizer,e))},WhileStatement(t,e){e.write("while ("),this[t.test.type](t.test,e),e.write(") "),this[t.body.type](t.body,e)},DoWhileStatement(t,e){e.write("do "),this[t.body.type](t.body,e),e.write(" while ("),this[t.test.type](t.test,e),e.write(");")},ForStatement(t,e){if(e.write("for ("),t.init!=null){let{init:r}=t;r.type[0]==="V"?vv(e,r):this[r.type](r,e)}e.write("; "),t.test&&this[t.test.type](t.test,e),e.write("; "),t.update&&this[t.update.type](t.update,e),e.write(") "),this[t.body.type](t.body,e)},ForInStatement:zx=function(t,e){e.write(`for ${t.await?"await ":""}(`);let{left:r}=t;r.type[0]==="V"?vv(e,r):this[r.type](r,e),e.write(t.type[3]==="I"?" in ":" of "),this[t.right.type](t.right,e),e.write(") "),this[t.body.type](t.body,e)},ForOfStatement:zx,DebuggerStatement(t,e){e.write("debugger;",t)},FunctionDeclaration:Jx=function(t,e){e.write((t.async?"async ":"")+(t.generator?"function* ":"function ")+(t.id?t.id.name:""),t),yu(e,t.params),e.write(" "),this[t.body.type](t.body,e)},FunctionExpression:Jx,VariableDeclaration(t,e){vv(e,t),e.write(";")},VariableDeclarator(t,e){this[t.id.type](t.id,e),t.init!=null&&(e.write(" = "),this[t.init.type](t.init,e))},ClassDeclaration(t,e){if(e.write("class "+(t.id?`${t.id.name} `:""),t),t.superClass){e.write("extends ");let{superClass:r}=t,{type:n}=r,i=e.expressionsPrecedence[n];(n[0]!=="C"||n[1]!=="l"||n[5]!=="E")&&(i===Dn||i<e.expressionsPrecedence.ClassExpression)?(e.write("("),this[t.superClass.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ")}this.ClassBody(t.body,e)},ImportDeclaration(t,e){e.write("import ");let{specifiers:r}=t,{length:n}=r,i=0;if(n>0){for(;i<n;){i>0&&e.write(", ");let o=r[i],s=o.type[6];if(s==="D")e.write(o.local.name,o),i++;else if(s==="N")e.write("* as "+o.local.name,o),i++;else break}if(i<n){for(e.write("{");;){let o=r[i],{name:s}=o.imported;if(e.write(s,o),s!==o.local.name&&e.write(" as "+o.local.name),++i<n)e.write(", ");else break}e.write("}")}e.write(" from ")}this.Literal(t.source,e),e.write(";")},ImportExpression(t,e){e.write("import("),this[t.source.type](t.source,e),e.write(")")},ExportDefaultDeclaration(t,e){e.write("export default "),this[t.declaration.type](t.declaration,e),e.expressionsPrecedence[t.declaration.type]!=null&&t.declaration.type[0]!=="F"&&e.write(";")},ExportNamedDeclaration(t,e){if(e.write("export "),t.declaration)this[t.declaration.type](t.declaration,e);else{e.write("{");let{specifiers:r}=t,{length:n}=r;if(n>0)for(let i=0;;){let o=r[i],{name:s}=o.local;if(e.write(s,o),s!==o.exported.name&&e.write(" as "+o.exported.name),++i<n)e.write(", ");else break}e.write("}"),t.source&&(e.write(" from "),this.Literal(t.source,e)),e.write(";")}},ExportAllDeclaration(t,e){t.exported!=null?e.write("export * as "+t.exported.name+" from "):e.write("export * from "),this.Literal(t.source,e),e.write(";")},MethodDefinition(t,e){t.static&&e.write("static ");let r=t.kind[0];(r==="g"||r==="s")&&e.write(t.kind+" "),t.value.async&&e.write("async "),t.value.generator&&e.write("*"),t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),yu(e,t.value.params),e.write(" "),this[t.value.body.type](t.value.body,e)},ClassExpression(t,e){this.ClassDeclaration(t,e)},ArrowFunctionExpression(t,e){e.write(t.async?"async ":"",t);let{params:r}=t;r!=null&&(r.length===1&&r[0].type[0]==="I"?e.write(r[0].name,r[0]):yu(e,t.params)),e.write(" => "),t.body.type[0]==="O"?(e.write("("),this.ObjectExpression(t.body,e),e.write(")")):this[t.body.type](t.body,e)},ThisExpression(t,e){e.write("this",t)},Super(t,e){e.write("super",t)},RestElement:Yx=function(t,e){e.write("..."),this[t.argument.type](t.argument,e)},SpreadElement:Yx,YieldExpression(t,e){e.write(t.delegate?"yield*":"yield"),t.argument&&(e.write(" "),this[t.argument.type](t.argument,e))},AwaitExpression(t,e){e.write("await ",t),Hh(e,t.argument,t)},TemplateLiteral(t,e){let{quasis:r,expressions:n}=t;e.write("`");let{length:i}=n;for(let s=0;s<i;s++){let a=n[s],u=r[s];e.write(u.value.raw,u),e.write("${"),this[a.type](a,e),e.write("}")}let o=r[r.length-1];e.write(o.value.raw,o),e.write("`")},TemplateElement(t,e){e.write(t.value.raw,t)},TaggedTemplateExpression(t,e){Hh(e,t.tag,t),this[t.quasi.type](t.quasi,e)},ArrayExpression:Zx=function(t,e){if(e.write("["),t.elements.length>0){let{elements:r}=t,{length:n}=r;for(let i=0;;){let o=r[i];if(o!=null&&this[o.type](o,e),++i<n)e.write(", ");else{o==null&&e.write(", ");break}}}e.write("]")},ArrayPattern:Zx,ObjectExpression(t,e){let r=e.indent.repeat(e.indentLevel++),{lineEnd:n,writeComments:i}=e,o=r+e.indent;if(e.write("{"),t.properties.length>0){e.write(n),i&&t.comments!=null&&hr(e,t.comments,o,n);let s=","+n,{properties:a}=t,{length:u}=a;for(let c=0;;){let l=a[c];if(i&&l.comments!=null&&hr(e,l.comments,o,n),e.write(o),this[l.type](l,e),++c<u)e.write(s);else break}e.write(n),i&&t.trailingComments!=null&&hr(e,t.trailingComments,o,n),e.write(r+"}")}else i?t.comments!=null?(e.write(n),hr(e,t.comments,o,n),t.trailingComments!=null&&hr(e,t.trailingComments,o,n),e.write(r+"}")):t.trailingComments!=null?(e.write(n),hr(e,t.trailingComments,o,n),e.write(r+"}")):e.write("}"):e.write("}");e.indentLevel--},Property(t,e){t.method||t.kind[0]!=="i"?this.MethodDefinition(t,e):(t.shorthand||(t.computed?(e.write("["),this[t.key.type](t.key,e),e.write("]")):this[t.key.type](t.key,e),e.write(": ")),this[t.value.type](t.value,e))},PropertyDefinition(t,e){if(t.static&&e.write("static "),t.computed&&e.write("["),this[t.key.type](t.key,e),t.computed&&e.write("]"),t.value==null){t.key.type[0]!=="F"&&e.write(";");return}e.write(" = "),this[t.value.type](t.value,e),e.write(";")},ObjectPattern(t,e){if(e.write("{"),t.properties.length>0){let{properties:r}=t,{length:n}=r;for(let i=0;this[r[i].type](r[i],e),++i<n;)e.write(", ")}e.write("}")},SequenceExpression(t,e){yu(e,t.expressions)},UnaryExpression(t,e){if(t.prefix){let{operator:r,argument:n,argument:{type:i}}=t;e.write(r);let o=tC(e,n,t);!o&&(r.length>1||i[0]==="U"&&(i[1]==="n"||i[1]==="p")&&n.prefix&&n.operator[0]===r&&(r==="+"||r==="-"))&&e.write(" "),o?(e.write(r.length>1?" (":"("),this[i](n,e),e.write(")")):this[i](n,e)}else this[t.argument.type](t.argument,e),e.write(t.operator)},UpdateExpression(t,e){t.prefix?(e.write(t.operator),this[t.argument.type](t.argument,e)):(this[t.argument.type](t.argument,e),e.write(t.operator))},AssignmentExpression(t,e){this[t.left.type](t.left,e),e.write(" "+t.operator+" "),this[t.right.type](t.right,e)},AssignmentPattern(t,e){this[t.left.type](t.left,e),e.write(" = "),this[t.right.type](t.right,e)},BinaryExpression:Qx=function(t,e){let r=t.operator==="in";r&&e.write("("),Hh(e,t.left,t,!1),e.write(" "+t.operator+" "),Hh(e,t.right,t,!0),r&&e.write(")")},LogicalExpression:Qx,ConditionalExpression(t,e){let{test:r}=t,n=e.expressionsPrecedence[r.type];n===Dn||n<=e.expressionsPrecedence.ConditionalExpression?(e.write("("),this[r.type](r,e),e.write(")")):this[r.type](r,e),e.write(" ? "),this[t.consequent.type](t.consequent,e),e.write(" : "),this[t.alternate.type](t.alternate,e)},NewExpression(t,e){e.write("new ");let r=e.expressionsPrecedence[t.callee.type];r===Dn||r<e.expressionsPrecedence.CallExpression||DX(t.callee)?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),yu(e,t.arguments)},CallExpression(t,e){let r=e.expressionsPrecedence[t.callee.type];r===Dn||r<e.expressionsPrecedence.CallExpression?(e.write("("),this[t.callee.type](t.callee,e),e.write(")")):this[t.callee.type](t.callee,e),t.optional&&e.write("?."),yu(e,t.arguments)},ChainExpression(t,e){this[t.expression.type](t.expression,e)},MemberExpression(t,e){let r=e.expressionsPrecedence[t.object.type];r===Dn||r<e.expressionsPrecedence.MemberExpression?(e.write("("),this[t.object.type](t.object,e),e.write(")")):this[t.object.type](t.object,e),t.computed?(t.optional&&e.write("?."),e.write("["),this[t.property.type](t.property,e),e.write("]")):(t.optional?e.write("?."):e.write("."),this[t.property.type](t.property,e))},MetaProperty(t,e){e.write(t.meta.name+"."+t.property.name,t)},Identifier(t,e){e.write(t.name,t)},PrivateIdentifier(t,e){e.write(`#${t.name}`,t)},Literal(t,e){t.raw!=null?e.write(t.raw,t):t.regex!=null?this.RegExpLiteral(t,e):t.bigint!=null?e.write(t.bigint+"n",t):e.write(LX(t.value),t)},RegExpLiteral(t,e){let{regex:r}=t;e.write(`/${r.pattern}/${r.flags}`,t)}},TX={};var _v=class{constructor(e){let r=e??TX;this.output="",r.output!=null?(this.output=r.output,this.write=this.writeToStream):this.output="",this.generator=r.generator!=null?r.generator:$X,this.expressionsPrecedence=r.expressionsPrecedence!=null?r.expressionsPrecedence:xX,this.indent=r.indent!=null?r.indent:"  ",this.lineEnd=r.lineEnd!=null?r.lineEnd:`
`,this.indentLevel=r.startingIndentLevel!=null?r.startingIndentLevel:0,this.writeComments=r.comments?r.comments:!1,r.sourceMap!=null&&(this.write=r.output==null?this.writeAndMap:this.writeToStreamAndMap,this.sourceMap=r.sourceMap,this.line=1,this.column=0,this.lineEndSize=this.lineEnd.split(`
`).length-1,this.mapping={original:null,generated:this,name:void 0,source:r.sourceMap.file||r.sourceMap._file})}write(e){this.output+=e}writeToStream(e){this.output.write(e)}writeAndMap(e,r){this.output+=e,this.map(e,r)}writeToStreamAndMap(e,r){this.output.write(e),this.map(e,r)}map(e,r){if(r!=null){let{type:o}=r;if(o[0]==="L"&&o[2]==="n"){this.column=0,this.line++;return}if(r.loc!=null){let{mapping:s}=this;s.original=r.loc.start,s.name=r.name,this.sourceMap.addMapping(s)}if(o[0]==="T"&&o[8]==="E"||o[0]==="L"&&o[1]==="i"&&typeof r.value=="string"){let{length:s}=e,{column:a,line:u}=this;for(let c=0;c<s;c++)e[c]===`
`?(a=0,u++):a++;this.column=a,this.line=u;return}}let{length:n}=e,{lineEnd:i}=this;n>0&&(this.lineEndSize>0&&(i.length===1?e[n-1]===i:e.endsWith(i))?(this.line+=this.lineEndSize,this.column=0):this.column+=n)}toString(){return this.output}};function Gi(t,e){let r=new _v(e);return r.generator[t.type](t,r),r.output}var np=M(Ih());var SC=v("./vendor/acorn.js"),Eh=v("./vendor/acorn-loose.js");var Ah={ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],AwaitExpression:["argument"],BinaryExpression:["left","right"],BlockStatement:["body"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExperimentalRestProperty:["argument"],ExperimentalSpreadProperty:["argument"],ExportAllDeclaration:["exported","source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],ForStatement:["init","test","update","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportExpression:["source"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],JSXAttribute:["name","value"],JSXClosingElement:["name"],JSXClosingFragment:[],JSXElement:["openingElement","children","closingElement"],JSXEmptyExpression:[],JSXExpressionContainer:["expression"],JSXFragment:["openingFragment","children","closingFragment"],JSXIdentifier:[],JSXMemberExpression:["object","property"],JSXNamespacedName:["namespace","name"],JSXOpeningElement:["name","attributes"],JSXOpeningFragment:[],JSXSpreadAttribute:["argument"],JSXSpreadChild:["expression"],JSXText:[],LabeledStatement:["label","body"],Literal:[],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],StaticBlock:["body"],Super:[],SwitchCase:["test","consequent"],SwitchStatement:["discriminant","cases"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},lK=Object.keys(Ah);for(let t of lK)Object.freeze(Ah[t]);Object.freeze(Ah);var Nv=Ah;var Bv={ecmaVersion:"latest",locations:!0,allowAwaitOutsideFunction:!0,allowImportExportEverywhere:!0,allowReserved:!0,allowReturnOutsideFunction:!0},$o=t=>t.start,Fv=t=>t.end,EC=(t,e)=>t.slice($o(e),Fv(e)),ci=(t,e=!1)=>(e?SC.parse:Eh.parse)(t,Bv),Ph=t=>{let e=ci(t);for(let r of e.body)r.type==="FunctionDeclaration"&&r.id&&(0,Eh.isDummy)(r.id)&&(r.id=null);return e.body};function PC(t,e,r){return e.length>1||e[0].type!=="FunctionDeclaration"?CC(t,e,!0,r):LC(t,[{type:"ReturnStatement",argument:{type:"CallExpression",optional:!1,arguments:[{type:"ThisExpression"},...t.map(n=>({type:"Identifier",name:n}))],callee:{type:"MemberExpression",property:{type:"Identifier",name:"call"},computed:!1,optional:!1,object:{type:"FunctionExpression",params:e[0].params,body:e[0].body}}}}],!0,r)}var LC=(t,e,r,n)=>{let i={type:"Identifier",name:"e"},s=n?[{type:"TryStatement",block:{type:"BlockStatement",body:e},handler:{type:"CatchClause",param:i,body:{type:"BlockStatement",body:[{type:"ReturnStatement",argument:{type:"LogicalExpression",left:{type:"LogicalExpression",left:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"stack"},computed:!1,optional:!1},operator:"||",right:{type:"MemberExpression",object:i,property:{type:"Identifier",name:"message"},computed:!1,optional:!1}},operator:"||",right:{type:"CallExpression",callee:{type:"Identifier",name:"String"},arguments:[i],optional:!1}}}]}}}]:e;return r?{type:"FunctionExpression",id:{type:"Identifier",name:"_generatedCode"},params:t.map(a=>({type:"Identifier",name:a})),body:{type:"BlockStatement",body:s}}:{type:"ArrowFunctionExpression",params:t.map(a=>({type:"Identifier",name:a})),expression:!1,body:{type:"BlockStatement",body:s}}},fK=(t,e)=>({type:"CallExpression",arguments:t.map(r=>({type:"Identifier",name:r})),callee:e,optional:!1}),xC=(t,e,r)=>fK(t,CC(t,e,r,!0));function CC(t,e,r,n){let i=e[e.length-1];if(i.type!=="ReturnStatement"){let o=dK(i);o&&(e=[...e.slice(0,-1),{type:"ReturnStatement",argument:o}])}return LC(t,e,r,n)}function dK(t){switch(t.type){case"ExpressionStatement":return t.expression;case"BlockStatement":return{type:"CallExpression",arguments:[],callee:{type:"ArrowFunctionExpression",params:[],expression:!1,body:t},optional:!1};case"ReturnStatement":return t.argument||void 0;default:return}}var To=(t,e)=>{Sh(t,e)},Lh=(t,e)=>{let r=Sh(t,e);return r&&typeof r=="object"?r.replace:t},Sh=(t,e,r)=>{if(!t)return;let n=e.enter(t,r);if(n===0)return 0;if(n&&typeof n=="object")return n;if(n===1)return;let i=Nv[t.type];if(i)for(let o of i){let s=t[o];if(s instanceof Array)for(let[a,u]of s.entries()){let c=Sh(u,e,t);if(c===0)return 0;c&&typeof c=="object"&&(s[a]=c.replace)}else if(s){let a=Sh(s,e,t);if(a===0)return 0;a&&typeof a=="object"&&(t[o]=a.replace)}}e.leave?.(t)};var UC=v("dns"),Rr=M(v("path")),Xi=v("url");var MC=v("url");var K=class{constructor(){this._listeners=new Set;this.event=(e,r,n)=>{let i={listener:e,thisArg:r};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return n&&n.push(o),o}}get size(){return this._listeners.size}fire(e){let r=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let n of this._listeners)this._deliveryQueue.push({data:n,event:e});if(r){for(let n=0;n<this._deliveryQueue.length;n++){let{data:i,event:o}=this._deliveryQueue[n];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},Ql=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,r){let n=this.map.get(e);n||(n=new K,this.map.set(e,n));let i=n.event(r);return{dispose:ye(()=>{i.dispose(),n?.size===0&&this.map.delete(e)})}}emit(e,r){this.listeners.get(e)?.fire(r)}};var DC=v("./vendor/acorn.js"),$C=v("crypto");var tt=()=>`
//# sourceURL=eval-${(0,$C.randomBytes)(4).toString("hex")}.cdp
`;function Gs(t){return hK(""+t)}function hK(t){let e=(0,DC.parseExpressionAt)(t,0,{ecmaVersion:"latest",locations:!0});if(e.type!=="FunctionExpression")throw new Error(`Could not find function declaration for:

${t}`);let r=e.params.map(s=>{if(s.type!=="Identifier")throw new Error("Parameter must be identifier");return s.name}),{start:n,end:i}=e.body,o=s=>`
    ${s.map((a,u)=>`let ${r[u]} = ${a}`).join("; ")};
    ${t.slice(n+1,i-1)}
  `;return{expr:(...s)=>`(()=>{${o(s)}})();
${tt()}`,decl:(...s)=>`function(...runtimeArgs){${o(s)};
${tt()}}`}}var Vs=class extends Error{constructor(r){super(r.text);this.details=r}},Zl=class{constructor(e){this.objectId=e}};function Rt(t){let e=(""+t).replace("}",tt()+"}"),r=async({cdp:n,args:i,...o})=>{let s=await n.Runtime.callFunctionOn({functionDeclaration:e,arguments:i.map(a=>a instanceof Zl?{objectId:a.objectId}:{value:a}),...o});if(!s)throw new Vs({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});if(s.exceptionDetails)throw new Vs(s.exceptionDetails);return s.result};return r.source=e,r}var TC=()=>"globalThis.__jsDebugIsReady = true; "+tt();var ep=new Set(["page","iframe","worker","service_worker"]),xh=new Set(["page","iframe"]),jv=new Set(["page","iframe"]),mK=jv,Ch=class t{constructor(e,r,n,i,o,s,a,u,c){this._manager=e;this._targetInfo=r;this.launchConfig=s;this.sessionId=a;this.logger=u;this._attached=!1;this._onNameChangedEmitter=new K;this.onNameChanged=this._onNameChangedEmitter.event;this.entryBreakpoint=void 0;this._children=new Map;this.sourcePathResolver=this._manager._sourcePathResolver;this._cdp=n,n.pause(),this.parentTarget=i,this._waitingForDebugger=o,this._updateFromInfo(r),this._ondispose=c}get targetInfo(){return this._targetInfo}get targetId(){return this._targetInfo.targetId}get independentLifeycle(){return jv.has(this.type())}get supplementalConfig(){let e=this.type();return{__browserTargetType:e,__usePerformanceFromParent:e!=="page"}}targetOrigin(){return this._manager._targetOrigin}id(){return this.sessionId}cdp(){return this._cdp}name(){return this._computeName()}fileName(){return this._targetInfo.url}type(){return this._targetInfo.type}afterBind(){return this._cdp.resume(),Promise.resolve()}initialize(){return Promise.resolve()}async runIfWaitingForDebugger(){await Promise.all([this._cdp.Runtime.runIfWaitingForDebugger({}),this._cdp.Runtime.evaluate({expression:TC()})])}parent(){return this.parentTarget&&!ep.has(this.parentTarget.type())?this.parentTarget.parentTarget:this.parentTarget}children(){let e=[];for(let r of this._children.values())ep.has(r.type())?e.push(r):e.push(...r.children());return e}canStop(){return mK.has(this.type())}stop(){if(this._manager.targetList().includes(this))if(this.type()==="service_worker"){if(this._manager.serviceWorkerModel.stopWorker(this.id()),!this.parentTarget)return;this._manager.serviceWorkerModel.stopWorker(this.parentTarget.id())}else this._cdp.Target.closeTarget({targetId:this._targetInfo.targetId})}canRestart(){return jv.has(this.type())}restart(){this._cdp.Page.reload({})}waitingForDebugger(){return this._waitingForDebugger}canAttach(){return!this._attached}async attach(){return this._waitingForDebugger=!1,this._attached=!0,Promise.resolve(this._cdp)}canDetach(){return this._attached}async detach(){this._attached=!1,this._manager._detachedFromTarget(this.sessionId)}executionContextName(e){let r=e.auxData,n=e.name;if(!r)return n;let i=r.frameId,o=i?this._manager.frameModel.frameForId(i):void 0;return o&&r.isDefault&&!o.parentFrame()?"top":o&&r.isDefault?o.displayName():o?`${n}`:n}supportsCustomBreakpoints(){return xh.has(this.type())}supportsXHRBreakpoints(){return xh.has(this.type())}scriptUrlToUrl(e){return Mo(this._targetInfo.url,e)||e}_updateFromInfo(e){this._targetInfo={...e,type:this._targetInfo.type},this._onNameChangedEmitter.fire()}setComputeNameFn(e){this._customNameComputeFn=e,this._onNameChangedEmitter.fire()}_computeName(){let e=this._customNameComputeFn?.(this);if(e)return e;if(this.type()==="service_worker"){let i=this._manager.serviceWorkerModel.version(this.id());if(i)return i.label()+" [Service Worker]"}let r=this._targetInfo.title;if(!(r&&this._manager.targetList().some(i=>i instanceof t&&i!==this&&i._targetInfo.title===this._targetInfo.title)))return r;try{let i=new MC.URL(this._targetInfo.url);i.protocol==="data:"?r=" <data>":i?r+=` (${this._targetInfo.url.replace(/^[a-z]+:\/\/|\/$/gi,"")})`:r+=` (${this._targetInfo.url})`}catch{r+=` (${this._targetInfo.url})`}return r}async _detached(){await this._manager.serviceWorkerModel.detached(this._cdp),this._ondispose(this)}};function tp(t){return t instanceof Array?t:[t]}function RC(t,e,r){let n=0,i=t.length-1;for(;n<=i;){let o=(n+i)/2|0,s=r(t[o],e);if(s<0)n=o+1;else if(s>0)i=o-1;else return o}return n}function kC(t,e){let r=new Map;for(let n of t){let i=e(n),o=r.get(i);o?o.push(n):r.set(i,[n])}return r}function wu(t){return t.next().value}var Dh=class{constructor(e,r){this.key=e;this.value=r}toString(){return`${this.key}: ${this.value}`}},li=class{constructor(e,r){this.projection=e;this.initialContents=r;let n=Array.from(r||[]).map(i=>[this.projection(i[0]),new Dh(i[0],i[1])]);this.projectionToKeyAndValue=new Map(n)}clear(){this.projectionToKeyAndValue.clear()}delete(e){let r=this.projection(e);return this.projectionToKeyAndValue.delete(r)}forEach(e,r){this.projectionToKeyAndValue.forEach(n=>{e.call(r,n.value,n.key,this)},r)}get(e){let r=this.projection(e),n=this.projectionToKeyAndValue.get(r);return n?n.value:void 0}has(e){return this.projectionToKeyAndValue.has(this.projection(e))}set(e,r){return this.projectionToKeyAndValue.set(this.projection(e),new Dh(e,r)),this}get size(){return this.projectionToKeyAndValue.size}*entries(){for(let e of this.projectionToKeyAndValue.values())yield[e.key,e.value]}*keys(){for(let e of this.projectionToKeyAndValue.values())yield e.key}*values(){for(let e of this.projectionToKeyAndValue.values())yield e.value}[Symbol.iterator](){return this.entries()}get[Symbol.toStringTag](){return JSON.stringify(Array.from(this.entries()))}toString(){return`MapUsingProjection<${JSON.stringify([...this.entries()])}>`}};function pi(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Iu(t,e){if(t.length<=e)return t;let r=e>>1,n=e-r-1,i=t.codePointAt(t.length-n-1);i&&i>=65536&&(--n,++r);let o=t.codePointAt(r-1);return r>0&&o&&o>=65536&&--r,t.substr(0,r)+"\u2026"+t.substr(t.length-n,n)}var OC="/\\.?*()^${}|[]+",NC=t=>OC.includes(t);function mr(t,e){let r=OC.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${r}]`,"g");return t.replace(n,"\\$&")}var Ro=class{constructor(e){this.source=e;this.lines=[];this.lines.push(0);for(let r=e.indexOf(`
`);r!==-1;r=e.indexOf(`
`,r+1))this.lines.push(r+1)}getLineOffset(e){return e>=this.lines.length?this.source.length:this.lines[e]}convert(e){let r=e.base0;if(r.lineNumber>this.lines.length)return this.source.length;let n=this.lines[r.lineNumber],i=this.lines[r.lineNumber+1]??this.source.length+1;return n+Math.min(i-n-1,r.columnNumber)}};var Th=process.platform!=="win32";function Vv(){return Th}function Mh(t){return Th?t:t.toLowerCase()}function Rh(t,e){return Th?t===e:t.toLowerCase()===e.toLowerCase()}function Xs(){return Vv()?new Map:new li(Mh)}var BC=process.platform==="win32"?process.env.PATHEXT?.toLowerCase().split(";"):void 0,jC=t=>{let e=Mh(Rr.basename(t));if(BC){for(let r of BC)if(e.endsWith(r))return e.slice(0,-r.length)}return e},gK=async(t,e)=>{for(;;){if(await e(t))return t;let r=Rr.dirname(t);if(r===t)return;t=r}},kh=(t,e,r)=>gK(e,n=>t.exists(Rr.join(n,r))),yK=new Set(["localhost","127.0.0.1","::1"]);var FC=t=>yK.has(t.toLowerCase()),bK=t=>{try{return new Xi.URL(t).hostname.replace(/^\[|\]$/g,"")}catch{return t}};var Au=Ns(async t=>{let e=bK(t);if(FC(e))return!0;try{let r=await UC.promises.lookup(e);return FC(r.address)}catch{return!1}});function Mo(t,e){try{return new Xi.URL(e,t).href}catch{}}function Oh(t,e){try{return new Xi.URL(e),e}catch{}let r;try{r=new Xi.URL(t||"")}catch{return e}let n=r.protocol+"//";return r.username&&(n+=r.username+":"+r.password+"@"),n+=r.host,n+=Rr.dirname(r.pathname),n[n.length-1]!=="/"&&(n+="/"),n+=e,n}function Nh(t){try{return new Xi.URL(t),!0}catch{return!1}}function WC(t){return t.replace(/\/$/,"").replace(/\\$/,"")}var vK=/^https:\/\/([a-z0-9\-]+)\+\.vscode-resource\.vscode-(?:webview|cdn)\.net\/(.+)/i;function at(t){let e=vK.exec(t);if(e)t=`${e[1]}:///${e[2]}`;else if(t.startsWith("vscode-webview-resource://"))t=new Xi.URL(t).pathname.replace(/%2F/gi,"/").replace(/^\/([a-z0-9\-]+)(\/{1,2})/i,(n,i,o)=>o.length===1?`${i}:///`:`${i}://`);else if(!tn(t))return;return t=t.replace("file:///",""),t=decodeURIComponent(t),t.startsWith("/")&&process.platform==="win32"&&t[1]!=="/"&&(t="/"+t),t[0]!=="/"&&!t.match(/^[A-Za-z]:/)&&(t="/"+t),pt(t)}function qC(t){return tn(t)&&(t=t.replace("file:///","\\\\"),t=t.replace(/\//g,"\\"),t=decodeURIComponent(t)),t}function Ce(t){return Gv==="win32"?"file:///"+ko(t):"file://"+ko(t)}function Su(t){return t.startsWith("/")?"file://"+ko(t):"file:///"+ko(t)}function rr(t){return Rr.posix.isAbsolute(t)||Rr.win32.isAbsolute(t)}function Gt(t){return!!t&&t.startsWith("data:")}var Wv=(t,e,r)=>{if(!r||t===":"){e.add(t);return}if(t==="/"){e.add(`\\${t}`);return}NC(t)?e.add(`\\${t}`):e.add(t);let n=encodeURIComponent(t);t!=="\\"&&n!==t&&e.add(n)},_K=t=>{switch(t.size){case 0:return"";case 1:return wu(t.values());default:let e=[...t];return e.some(r=>r.length>1)?`(?:${e.join("|")})`:`[${e.join("")}]`}},rp=new Set,qv=(t,e,r,n)=>{let i="";for(let o of t.slice(e,r))Th?Wv(o,rp,n):(Wv(o.toLowerCase(),rp,n),Wv(o.toUpperCase(),rp,n)),i+=_K(rp),rp.clear();return i};function en(t,[e,r]=[0,t.length]){if(r<=e)return t;let n=[],i=qv(t,0,e,!1),o=qv(t,r,t.length,!1),s=t.slice(e,r);for(let a of[decodeURIComponent(s),at(s)]){if(!a)continue;let u=qv(a,0,a.length,!0);n.push(wK(`${i}${u}${o}`).concat("($|\\?)"))}return n.join("|")}var wK=t=>t.replace(/^(file:\\\/\\\/\\\/)?([a-z]):/i,(e,r="",n)=>`${r}[${n.toUpperCase()}${n.toLowerCase()}]:`);function tn(t){return t.startsWith("file:///")}var Gv=process.platform;function ko(t){return t=$n(t),Gv==="win32"?(bv(t)&&(t=t.slice(1)),t.split(/[\\//]/g).map((e,r)=>r>0?encodeURIComponent(e):e).join("/")):t.split("/").map(encodeURIComponent).join("/")}function $n(t){return t&&Gv==="win32"&&t[1]===":"?t[0].toUpperCase()+t.substring(1):t}var Oo=(t,e=[])=>{let r=t.urlFilter||"file"in t&&t.file||t.url,n=r?AK(r,...e):void 0;return i=>!i.url.startsWith("devtools://")&&n?.(i.url)!==!1},Eu=t=>e=>e.type==="page"&&t(e);function IK(t){return!!t&&!Rr.isAbsolute(t)&&!!(0,Xi.parse)(t).protocol}var AK=(...t)=>{let e=i=>{i=i.toLowerCase();let o=at(i);o?i=o:IK(i)&&i.includes("://")&&(i=i.substr(i.indexOf("://")+3)),i.endsWith("/")&&(i=i.substr(0,i.length-1));let s=i.indexOf("#");return s!==-1&&(i=i.slice(0,i[s-1]==="/"?s-1:s)),i},r=t.map(i=>mr(e(i),"/*").replace(/(\/\*$)|\*/g,".*")),n=new RegExp("^("+r.join("|")+")$","g");return i=>(n.lastIndex=0,n.test(e(i)))};var Pu=class t{constructor(e,r,n,i,o){this.original=e;this.metadata=r;this.actualRoot=n;this.actualSources=i;this.hasNames=o;this.sourceActualToOriginal=new Map;this.sourceOriginalToActual=new Map;this.id=t.idCounter++;if(i.length!==e.sources.length)throw new Error("Expected actualSources.length === original.source.length");for(let s=0;s<i.length;s++)this.sourceActualToOriginal.set(i[s],e.sources[s]),this.sourceOriginalToActual.set(e.sources[s],i[s])}static{this.idCounter=0}get sources(){return this.actualSources.slice()}get sourceRoot(){return this.actualRoot}computedSourceUrl(e){return pt(Oh(Gt(this.metadata.sourceMapUrl)?this.metadata.compiledPath:this.metadata.sourceMapUrl,this.sourceRoot+e))}computeColumnSpans(){this.original.computeColumnSpans()}originalPositionFor(e){let r=this.original.originalPositionFor(e);return r.source&&(r.source=this.sourceOriginalToActual.get(r.source)??r.source),r}generatedPositionFor(e){return this.original.generatedPositionFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}allGeneratedPositionsFor(e){return this.original.allGeneratedPositionsFor({...e,source:this.sourceActualToOriginal.get(e.source)??e.source})}hasContentsOfAllSources(){return this.original.hasContentsOfAllSources()}sourceContentFor(e,r){return this.original.sourceContentFor(this.sourceActualToOriginal.get(e)??e,r)}eachMapping(e,r,n){return this.original.eachMapping(e,r,n)}destroy(){this.original.destroy()}};async function GC(t,e,r,n){let i=Bh.Parser.parse(e,{locations:!0,ecmaVersion:"latest"}),o=new np.SourceMapGenerator({file:t}),s=Gi(i,{sourceMap:{setSourceContent:(a,u)=>o.setSourceContent(a,u),applySourceMap:(a,u,c)=>o.applySourceMap(a,u,c),toJSON:()=>o.toJSON(),toString:()=>o.toString(),addMapping:a=>o.addMapping({generated:a.original,original:{column:a.generated.column,line:a.generated.line},source:t,name:a.name})}});return o.setSourceContent(t,s),new Pu(await np.SourceMapConsumer.fromSourceMap(o),{sourceMapUrl:n,compiledPath:r},"",[t],!1)}function XC(t){let e;try{e=ci(t)}catch{return}let r=(u,c)=>({type:"ExpressionStatement",expression:{type:"AssignmentExpression",operator:"=",left:u,right:c}}),n=!1,i=!1,o=Lh(e,{enter(u,c){switch(u.type){case"ClassDeclaration":return{replace:r(u.id||{type:"Identifier",name:"_default"},{...u,type:"ClassExpression"})};case"FunctionDeclaration":return{replace:r(u.id||{type:"Identifier",name:"_default"},{...u,type:"FunctionExpression"})};case"FunctionExpression":case"ArrowFunctionExpression":case"MethodDefinition":return 1;case"AwaitExpression":n=!0;return;case"ForOfStatement":u.await&&(n=!0);return;case"ReturnStatement":i=!0;return;case"VariableDeclaration":if(!c||!("body"in c)||!(c.body instanceof Array))return;let l=c.body,p=u.declarations.map(f=>({type:"ExpressionStatement",expression:{type:"UnaryExpression",operator:"void",prefix:!0,argument:{type:"AssignmentExpression",operator:"=",left:f.id,right:f.init||{type:"Identifier",name:"undefined"}}}}));l.splice(l.indexOf(u),1,...p)}}});if(!n||i)return;let s=e.body[e.body.length-1];s.type==="ExpressionStatement"&&(e.body[e.body.length-1]={type:"ReturnStatement",argument:s.expression});let a={type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"ArrowFunctionExpression",params:[],generator:!1,expression:!1,async:!0,body:{type:"BlockStatement",body:o.body}},arguments:[],optional:!1}};return Gi(a)}function ip(t){try{let e=(0,Bh.parseExpressionAt)(t,0,Bv);return e.end<t.length||e.type!=="ObjectExpression"?t:`(${t})`}catch{return t}}function Lu(t){if(!t)return;let e="sourceMappingURL",r=t.length,n=e.length,i=r,o=0;for(;;){if(i=t.lastIndexOf(e,i),i===-1||i<4)return;if(i-=4,t[i]==="/"&&t[i+1]==="/"&&!(t[i+2]!=="#"&&t[i+2]!=="@")&&!(t[i+3]!==" "&&t[i+3]!=="	")&&(o=i+4+n,!(o<r&&t[o]!=="=")))break}let s=t.substring(o+1),a=s.indexOf(`
`);return a!==-1&&(s=s.substring(0,a)),s.trim()}function Fh(t,e,r){let n=r.generatedPositionFor({source:t,line:e.lineNumber,column:e.columnNumber-1,bias:np.SourceMapConsumer.GREATEST_LOWER_BOUND}),i=a=>{if(a.line===null||a.column===null)return 1e11;let u=r.originalPositionFor(a);return u.line!==null?Math.abs(e.lineNumber-u.line):1e11},o=i(n),s=r.allGeneratedPositionsFor({source:t,line:e.lineNumber,column:e.columnNumber-1}).filter(a=>a.line!==null&&a.column!==null).sort((a,u)=>a.line!==u.line?a.line-u.line:a.column-u.column).map(a=>[a,i(a)]);return s.push([n,o]),s.sort(([a,u],[c,l])=>u-l||a.line-c.line||a.column-c.column),s[0][0]}var Xv=(t,e)=>!!e&&((e.type==="FunctionExpression"||e.type==="FunctionDeclaration"||e.type==="ArrowFunctionExpression")&&e.params.includes(t)||(e.type==="ForInStatement"||e.type==="ForOfStatement")&&e.left===t||e.type==="VariableDeclarator"&&e.id===t||e.type==="AssignmentPattern"&&e.left===t||e.type==="CatchClause"&&e.param===t||"kind"in e&&e.kind==="init"&&e.value===t||e.type==="RestElement"&&e.argument===t||e.type==="AssignmentPattern"&&e.left===t);function No(t){try{new Function(t)}catch(e){return e}}function EK(t,e){let r=ci(t),n,i;return To(r,{enter:o=>{let s=o;e>=s.start&&e<s.end&&(o.type==="CallExpression"||o.type==="NewExpression"?i=o:n=o)}}),i||n}var VC=/^[^()]+/g;function KC(t,e){try{let n=EK(t,e);if(n&&"callee"in n){let i=n.callee;return{text:`${t.slice(i.start,i.end)}(...)`,start:i.start,end:i.end}}else{let i=n;return{text:t.slice(i.start,i.end),start:i.start,end:i.end}}}catch{}VC.lastIndex=e-1;let r=VC.exec(t);if(r)return{text:r[0],start:e,end:e+r[0].length}}var Ks=class{constructor(e,r,n,i,o,s,a,u){this.url=r;this.inlineScriptOffset=s;this.runtimeScriptOffset=a;this.contentHash=u;this._scripts=[];this.sourceReference=e.getSourceReference(r),this._contentGetter=ye(i),this._container=e,this.absolutePath=n||"",this._fqname=this._fullyQualifiedName(),this._name=this._humanName(),this.setSourceMapUrl(o),this._existingAbsolutePath=this.checkContentHash(u)}checkContentHash(e){return Kx(this.absolutePath,this.inlineScriptOffset||this.runtimeScriptOffset?void 0:e,this._container._fileContentOverridesForTest.get(this.absolutePath))}offsetScriptToSource(e){return this.runtimeScriptOffset?{...e,lineNumber:Math.max(1,e.lineNumber-this.runtimeScriptOffset.lineOffset),columnNumber:e.columnNumber-this.runtimeScriptOffset.columnOffset}:e}offsetSourceToScript(e){return this.runtimeScriptOffset?{...e,lineNumber:e.lineNumber+this.runtimeScriptOffset.lineOffset,columnNumber:e.columnNumber+this.runtimeScriptOffset.columnOffset}:e}setSourceMapUrl(e){if(!e){this.sourceMap=void 0;return}this.sourceMap={type:0,sourceByUrl:new Map,value:ke(),metadata:e}}addScript(e){this._scripts.push(e)}filterScripts(e){this._scripts=this._scripts.filter(e)}get scripts(){return this._scripts}get getSuggestedMimeType(){if(this.url.endsWith(".wat"))return"text/wat";if(!/\.[^/]+$/.test(this.url)||this.url.includes("?"))return"text/javascript"}async content(){let e=await this._contentGetter();return this.inlineScriptOffset?.lineOffset&&(e=`
`.repeat(this.inlineScriptOffset.lineOffset)+e),e}async prettyPrint(){if(!this._container)return;if(Bo(this)&&this.sourceMap.metadata.sourceMapUrl.endsWith("-pretty.map")){let u=this.sourceMap.value.settledValue;return u&&{map:u,source:[...this.sourceMap.sourceByUrl.values()][0]}}let e=await this.content();if(!e)return;let r=this.url||`eval://${this.sourceReference}.js`,n=r+"-pretty.map",o=r.split(/[\/\\]/).pop()+"-pretty.js",s=await GC(o,e,r,n);if(!s)return;this.setSourceMapUrl({compiledPath:this.absolutePath,sourceMapUrl:""}),this.sourceMap.value.resolve(s);let a=this;return await this._container._addSourceMapSources(a,s),{map:s,source:[...a.sourceMap.sourceByUrl.values()][0]}}async toDap(){return this.toDapShallow()}async toDapShallow(){let e=await this._existingAbsolutePath,r={name:this._name,path:this._fqname,sourceReference:this.sourceReference,presentationHint:this.blackboxed()?"deemphasize":void 0,origin:this.blackboxed()?zC.t("Skipped by skipFiles"):void 0};return e&&(r.sourceReference=0,r.path=e),r}existingAbsolutePath(){return this._existingAbsolutePath}async prettyName(){let e=await this._existingAbsolutePath;return e||this._fqname}_humanName(){if(rr(this._fqname)){for(let e of this._container.rootPaths)if(qx(e,this._fqname))return et((0,JC.relative)(e,this._fqname))}return this._fqname}_fullyQualifiedName(){if(!this.url)return"<eval>/VM"+this.sourceReference;if(this.url.endsWith(".repl"))return"repl";if(this.absolutePath.startsWith("<node_internals>"))return this.absolutePath;if(rr(this.url))return this.url;let e=at(this.url);if(e)return e;let r=this.url;try{let n=[],i=new YC.URL(this.url);if(i.protocol==="data:")return"<eval>/VM"+this.sourceReference;i.hostname&&n.push(i.hostname),i.port&&n.push("\uA789"+i.port),i.pathname&&n.push(/^\/[a-z]:/.test(i.pathname)?i.pathname.slice(1):i.pathname);let o=i.searchParams?.toString();o&&n.push("?"+o),r=n.join("")}catch{}return r.endsWith("/")&&(r+="(index)"),this.inlineScriptOffset&&(r+=`\uA789${this.inlineScriptOffset.lineOffset+1}:${this.inlineScriptOffset.columnOffset+1}`),r}blackboxed(){return this._container.isSourceSkipped(this.url)}};var op;(n=>{async function t(i){return i.value.promise}n.waitForValue=t;function e(i,o){return i.type===0&&i.value.settledValue?Promise.resolve(i.value.settledValue):Promise.race([t(i),Le(o)])}n.waitForValueWithTimeout=e;async function r(i){return await t(i),i.sourceByUrl}n.waitForSources=r})(op||={});var ft=class extends Ks{constructor(){super(...arguments);this.compiledToSourceUrl=new Map}},jh=class extends Ks{constructor(r,n,i){super(r,n.url,i,()=>Promise.resolve("Binary content not shown, see the decompiled WAT file"),void 0,void 0,void 0,void 0);this.event=n;this.sourceMap={type:1,value:ke(),sourceByUrl:new Map}}checkContentHash(){return Promise.resolve(void 0)}offsetScriptToSource(r){return r}offsetSourceToScript(r){return r}},Hr=t=>!!t&&t instanceof Ks&&!!t.sourceMap,Bo=t=>Hr(t)&&t.sourceMap.type===0,zs=t=>Hr(t)&&t.sourceMap.type===1,Kv=t=>!!t&&typeof t.getDisassembly=="function";function QC(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r+=e.lineOffset,r<=1&&(n+=e.columnOffset)),{...t,lineNumber:r,columnNumber:n}}function ZC(t,e){if(!e)return t;let{lineNumber:r,columnNumber:n}=t;return e&&(r=Math.max(1,r-e.lineOffset),r<=1&&(n=Math.max(1,n-e.columnOffset))),{...t,lineNumber:r,columnNumber:n}}var eD=t=>({lineNumber:t.lineNumber+1,columnNumber:t.columnNumber+1}),Ki=t=>({lineNumber:t.lineNumber-1,columnNumber:t.columnNumber-1});var PK={"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null},LK={"extension.js-debug.addCustomBreakpoints":null,"extension.js-debug.addXHRBreakpoints":null,"extension.js-debug.editXHRBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeXHRBreakpoint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null,"extension.js-debug.enableSourceMapStepping":null,"extension.js-debug.disableSourceMapStepping":null},rde=new Set(Object.keys(LK)),nde=new Set(Object.keys(PK));var Ee=Symbol("AnyLaunchConfiguration"),tD={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.js","!**/node_modules/**"],sourceMapPathOverrides:Jv("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},ap={...tD,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:["<node_internals>/**"]},rD={...ap,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},xK={...ap,type:"node-terminal",request:"attach",name:rD.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},CK={...ap,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},DK={...ap,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,killBehavior:"forceful"},zv={...tD,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:Jv("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},$K={...zv,type:"pwa-msedge",useWebView:!1},nD={...zv,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},TK={...nD,type:"pwa-msedge",useWebView:!1},MK={...ap,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function Jv(t){return{"webpack:///./~/*":`${t}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${t}/*`,"webpack://?:*/*":`${t}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${t}/*`}}var iD=t=>{!t.sourceMapPathOverrides&&t.cwd&&(t.sourceMapPathOverrides=Jv(t.cwd)),t.resolveSourceMapLocations===void 0&&!t.remoteRoot&&(t.resolveSourceMapLocations=t.outFiles)};function RK({...t}){return iD(t),t.request==="attach"?{...MK,...t}:{...DK,...t}}function kK(t,e){return t.request==="attach"?{...zv,browserAttachLocation:e,...t}:{...nD,browserLaunchLocation:e,...t}}function OK(t,e){return t.request==="attach"?{...$K,browserAttachLocation:e,...t}:{...TK,browserLaunchLocation:e,...t}}function NK(t){let e={...CK,...t};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function BK(t){return iD(t),t.request==="launch"?{...rD,...t}:{...xK,...t}}function xu(t,e){let r,n=e==="remote"?"ui":"workspace";switch(t.type){case"pwa-node":r=RK(t);break;case"pwa-msedge":r=OK(t,n);break;case"pwa-chrome":r=kK(t,n);break;case"pwa-extensionHost":r=NK(t);break;case"node-terminal":r=BK(t);break;default:throw fd(t,"Unknown config: {value}")}return UK(r)}function FK(t){let e="${workspaceFolder}",r={...t,rootPath:void 0,outFiles:t.outFiles.filter(n=>!n.includes(e)),sourceMapPathOverrides:dd(t.sourceMapPathOverrides,n=>!n.includes("${workspaceFolder}"))};return"vueComponentPaths"in r&&(r.vueComponentPaths=r.vueComponentPaths.filter(n=>!n.includes(e))),"resolveSourceMapLocations"in r&&(r.resolveSourceMapLocations=r.resolveSourceMapLocations?.filter(n=>!n.includes(e))??null),"cwd"in r&&r.cwd?.includes(e)&&(r.cwd=void 0),"webRoot"in r&&r.webRoot?.includes(e)&&(r.webRoot="/"),r}function UK(t){return t.__workspaceFolder||(t=FK(t)),t=sp(t,"workspaceFolder",t.__workspaceFolder),t=sp(t,"webRoot","webRoot"in t?t.webRoot:t.__workspaceFolder),t}function sp(t,e,r){let n;if(typeof t=="string")n=t.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!r)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return r});else if(t instanceof Array)n=t.map(i=>sp(i,e,r));else if(typeof t=="object"&&t){let i={};for(let[o,s]of Object.entries(t))i[sp(o,e,r)]=sp(s,e,r);n=i}else n=t;return n}var Wh="js-debug",up="1.85.0",jK="ms-vscode",oD=Wh.includes("nightly"),ade=`${jK}.${Wh}`;var sD=v("worker_threads");var Cu=v("worker_threads");function Yv(t,e){let r=ci(t),n=(a,{loc:u}=a,{loc:c}=a)=>{if(!u||!c)throw new Error("should include locations");let l=e(u,c);if(o.length>0){let p=o[o.length-1];p.scopeNode.children??=[],p.scopeNode.children.push(l)}o.push({node:a,scopeNode:l})},i=new Set,o=[],s;return To(r,{enter:a=>{switch(a.type){case"FunctionDeclaration":case"ArrowFunctionExpression":n(a,a.params[0]||a.body,a.body),i.add(a.body);break;case"Program":n(a),s=o[0].scopeNode;break;case"ForStatement":case"ForOfStatement":case"ForInStatement":n(a),i.add(a.body);break;case"BlockStatement":i.has(a)||n(a);break}},leave:a=>{a===o[o.length-1].node&&o.pop()}}),s}Cu.isMainThread||Cu.parentPort?.postMessage(Yv(Cu.workerData,(t,e)=>({start:t.start,end:e.end})));var Du=class t{constructor(e){this.range=e}static hydrate(e){let r=new t(new Sn(new st(e.start.line,e.start.column),new st(e.end.line,e.end.column)));return r.children=e.children?.map(t.hydrate),r}search(e){if(this.range.contains(e)){if(!this.children)return this;for(let r of this.children){let n=r.search(e);if(n)return n}return this}}findDeepest(e,r){if(this.range.contains(e)){if(this.children)for(let n of this.children){let i=n.findDeepest(e,r);if(i!==void 0)return i}return r(this)}}filterHoist(e){if(this.children)for(let r=0;r<this.children.length;r++){let n=this.children[r];if(n.filterHoist(e),!e(n)){let i=n.children||[];this.children.splice(r,1,...i),r--}}}forEach(e){e(this),this.children?.forEach(r=>r.forEach(e))}toJSON(){return{range:this.range,children:this.children}}},WK=1024*512;function aD(t){return t.length<WK?qK(t):new Promise((e,r)=>{let n=new sD.Worker(`${__dirname}/renameWorker.js`,{workerData:t});n.on("message",i=>e(Du.hydrate(i))),n.on("error",r),n.on("exit",()=>r("rename worker exited"))})}function qK(t){return Yv(t,(e,r)=>new Du(new Sn(new An(e.start.line,e.start.column).base0,new An(r.end.line,r.end.column).base0)))}var fi=M(ue()),SD=M(Ih());var qh=class extends Error{constructor(r,n,i){super(`Unexpected ${r} response from ${n}: ${i??"<empty body>"}`);this.statusCode=r;this.url=n;this.body=i}},Js=Symbol("IResourceProvider");var Xe=M(lt());var Q=class extends Error{constructor(r){super("__errorMarker"in r?r.error.format:r.format);this._cause="__errorMarker"in r?r.error:r}get cause(){return this._cause}};function uD(t,e){t.output({category:"console",output:e+`
`})}function Be(t,e=9222){return{__errorMarker:!0,error:{id:e,format:t,showUser:!1}}}function Fe(t,e=9223){return{__errorMarker:!0,error:{id:e,format:t,showUser:!0}}}var Qv=()=>Fe(Xe.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvs', 'nvm' or 'fnm' to be installed."),9224),cD=()=>Fe(Xe.t("Attribute 'runtimeVersion' with a flavor/architecture requires 'nvs' to be installed."),9225),lD=()=>Fe(Xe.t("Attribute 'runtimeVersion' requires Node.js version manager 'nvm-windows' or 'nvs'."),9226),Zv=(t,e)=>Fe(Xe.t("Node.js version '{0}' not installed using version manager {1}.",t,e),9226),pD=t=>Fe(Xe.t("Cannot launch debug target in terminal ({0}).",t),9227),fD=t=>Fe(Xe.t("Can't load environment variables from file ({0}).",t),9228),dD=t=>Fe(Xe.t("The configured `cwd` {0} does not exist.",t),9245),e_=(t,e)=>Fe(Xe.t(`Can't find Node.js binary "{0}": {1}. Make sure Node.js is installed and in your PATH, or set the "runtimeExecutable" in your launch.json`,t,e),9229),hD=(t,e)=>Fe(Xe.t('The Node version in "{0}" is outdated (version {1}), we require at least Node 8.x.',e,t),9230),t_=t=>Fe(Xe.t('Invalid hit condition "{0}". Expected an expression like "> 42" or "== 2".',t),9231),$u=()=>Fe(Xe.t("An error occurred taking a profile from the target."),9235),mD=()=>Fe(Xe.t("Please stop the running profile before starting a new one."),9236),HD=t=>Be(t,9238),Vh=(t,e,r)=>Fe(e==="*"&&!r.length?Xe.t('Unable to find an installation of the browser on your system. Try installing it, or providing an absolute path to the browser in the "runtimeExecutable" in your launch.json.'):Xe.t('Unable to find {0} version {1}. Available auto-discovered versions are: {2}. You can set the "runtimeExecutable" in your launch.json to one of these, or provide an absolute path to the browser executable.',t,e,JSON.stringify([...new Set(r)])),9233),gD=t=>Fe(Xe.t('Unable to launch browser: "{0}"',t.message),9240),cp=t=>Fe(t??Xe.t("Unable to attach to browser"),9242),Gh=()=>Fe(Xe.t('Target page not found. You may need to update your "urlFilter" to match the page you want to debug.'),9241);var yD=()=>Be(Xe.t("Variables not available in async stacks"),9234),Fo=(t,e)=>Fe(Xe.t("Syntax error setting breakpoint with condition {0} on line {1}: {2}",JSON.stringify(t.condition),t.line,e),9237),r_=()=>Be(Xe.t("Thread not found"),9244),Xh=(t,e)=>Fe(Xe.t("Could not read source map for {0}: {1}",t,e)),bD=()=>Fe(Xe.t("UWP webview debugging is not available on your platform.")),vD=()=>Fe(Xe.t("Could not connect to any UWP Webview pipe. Make sure your webview is hosted in debug mode, and that the `pipeName` in your `launch.json` is correct.")),_D=t=>typeof t=="object"&&!!t&&"__errorMarker"in t,wD=(t,e)=>t instanceof Q&&t.cause.id===e,ID=t=>Fe(Xe.t("The browser process exited with code {0} before connecting to the debug server. Make sure the `runtimeExecutable` is configured correctly and that it can run without errors.",t));var AD=new WeakSet;var VK="Request",GK=t=>t.endsWith("Request"),Lr=Symbol("IDapApi"),Tu=Symbol("IRootDapApi"),lp=class{constructor(e,r){this.transport=e;this.logger=r;this._pendingRequests=new Map;this._requestHandlers=new Map;this._eventListeners=new Map;this.disposables=[];this._initialized=ke();this.closed=!1;this._sequence=1,this.disposables.push(this.transport.messageReceived(n=>this._onMessage(n.message,n.receivedTime))),this._dap=this._createApi()}get initializedBlocker(){return this._initialized.promise}attachTelemetry(e){this.telemetryReporter=e,e.attachDap(this._dap)}dap(){return this._dap}_createApi(){return new Proxy({},{get:(e,r)=>{if(r!=="then")return r==="on"?(n,i)=>(this._requestHandlers.set(n,i),()=>this._requestHandlers.delete(n)):r==="off"?n=>this._requestHandlers.delete(n):n=>{if(GK(r))return this.enqueueRequest(r.slice(0,-VK.length),n);this._send({seq:0,type:"event",event:r,body:n})}}})}createTestApi(){let e=(i,o)=>{let s=this._eventListeners.get(i);s||(s=new Set,this._eventListeners.set(i,s)),s.add(o)},r=(i,o)=>{let s=this._eventListeners.get(i);s&&s.delete(o)},n=(i,o)=>new Promise(s=>{let a=u=>{o&&!o(u)||(r(i,a),s(u))};e(i,a)});return new Proxy({},{get:(i,o)=>o==="on"?e:o==="off"?r:o==="once"?n:s=>this.enqueueRequest(o,s)})}enqueueRequest(e,r){return new Promise(n=>{let i={seq:0,type:"request",command:e,arguments:r||{}};this._send(i),this._pendingRequests.set(i.seq,n)})}stop(){this.closed=!0,this.transport.close()}_send(e,r){if(this.closed)this.logger.warn("dap.send","Not sending message because the connection has ended",e),r?.();else{e.seq=this._sequence++;let n=e.type!=="event"||!AD.has(e.body);this.transport.send(e,n,r)}}async _onMessage(e,r){if(e.type==="request"){let n={seq:0,type:"response",request_seq:e.seq,command:e.command,success:!0};try{let i=this._requestHandlers.get(e.command);if(!i)console.error(`Unknown request: ${e.command}`);else{let o=await i(e.arguments);if(_D(o))this._send({...n,success:!1,message:o.error.format,body:{error:o.error}});else{let s={...n,body:o};n.command==="initialize"?(this._send(s),this._initialized.resolve(this)):n.command==="disconnect"?this._send({...n,body:o},()=>{this.stop()}):this._send(s)}}this.telemetryReporter?.reportOperation("dapOperation",e.command,r.elapsed().ms)}catch(i){i instanceof Q?this._send({...n,success:!1,body:{error:i.cause}}):(console.error(i),this._send({...n,success:!1,body:{error:{id:9221,format:`Error processing ${e.command}: ${i.stack||i.message}`,showUser:!1,sendTelemetry:!1}}})),this.telemetryReporter?.reportOperation("dapOperation",e.command,r.elapsed().ms,i)}}if(e.type==="event"){let n=this._eventListeners.get(e.event)||new Set;for(let i of n)i(e.body)}if(e.type==="response"){let n=this._pendingRequests.get(e.request_seq);if(!this.logger.assert(n,`Expected callback for request sequence ID ${e.request_seq}`))return;if(this._pendingRequests.delete(e.request_seq),e.success)n(e.body);else{let i=e.body?.error?.format;n(i||e.message||"Unknown error")}}}};var We=Symbol("ISourcePathResolver");var di=Symbol("ISourceMapFactory"),n_=Symbol("IRootSourceMapFactory"),Ys=class{constructor(e,r){this.root=e;this.resourceProvider=r}load(e){return this.root.load(this.resourceProvider,e)}guardSourceMapFn(e,r,n){return this.root.guardSourceMapFn(e,r,n)}};Ys=V([(0,fi.injectable)(),I(0,(0,fi.inject)(n_)),I(1,(0,fi.inject)(Js))],Ys);var pp=class{constructor(e,r,n){this.pathResolve=e;this.dap=r;this.logger=n;this.hasWarnedAboutMaps=new WeakSet}async load(e,r){let n=await this.parseSourceMap(e,r.sourceMapUrl),i=n.sourceRoot;n.sourceRoot=void 0;let o=!1,s=[];if("sections"in n){s=[];let a=0;for(let u of n.sections)s.push(...u.map.sources),u.map.sources=u.map.sources.map(()=>`source${a++}.js`),o||=!!u.map.names?.length}else"sources"in n&&Array.isArray(n.sources)&&(s=n.sources,n.sources=n.sources.map((a,u)=>`source${u}.js`),o=!!n.names?.length);return new Pu(await new SD.SourceMapConsumer(n),r,i??"",s,o)}async parseSourceMap(e,r){let n;try{n=await this.parseSourceMapDirect(e,r)}catch(i){if(n=await this.parsePathMappedSourceMap(e,r),!n)throw i}if("sections"in n){let i=await Promise.all(n.sections.map((o,s)=>"url"in o?this.parseSourceMap(e,o.url).then(a=>({offset:o.offset,map:a})).catch(a=>{this.logger.warn("sourcemap.parsing",`Error parsing nested map ${s}: ${a}`)}):o));n.sections=i.filter(qt)}return n}async parsePathMappedSourceMap(e,r){if(Gt(r))return;let n=await this.pathResolve.urlToAbsolutePath({url:r});if(n)try{return this.parseSourceMapDirect(e,n)}catch(i){this.logger.info("sourcemap.parsing","Parsing path mapped source map failed.",i)}}guardSourceMapFn(e,r,n){try{return r()}catch(i){if(!/error parsing/i.test(String(i.message)))throw i;if(!this.hasWarnedAboutMaps.has(e)){let o=Xh(e.metadata.compiledPath,i.message).error;this.dap.output({output:o.format+`
`,category:"stderr"}),this.hasWarnedAboutMaps.add(e)}return n()}}dispose(){}async parseSourceMapDirect(e,r){let n=at(r);n&&(n=this.pathResolve.rebaseRemoteToLocal(n));let i=await e.fetch(n||r);if(!i.ok)throw i.error;let o=i.body;return o.slice(0,3)===")]}"&&(o=o.substring(o.indexOf(`
`))),JSON.parse(o)}};pp=V([(0,fi.injectable)(),I(0,(0,fi.inject)(We)),I(1,(0,fi.inject)(Tu)),I(2,(0,fi.inject)(ne))],pp);var Uo=class extends pp{constructor(){super(...arguments);this.knownMaps=new li(r=>r.toLowerCase());this.overwrittenSourceMaps=[]}load(r,n){let i=this.knownMaps.get(n.sourceMapUrl);if(!i)return this.loadNewSourceMap(r,n);let o=n.cacheKey,s=i.metadata.cacheKey;return i.reloadIfNoMtime?o&&s&&o===s?(i.reloadIfNoMtime=!1,i.prom):(this.overwrittenSourceMaps.push(i.prom),this.loadNewSourceMap(r,n)):s&&o&&o!==s?(this.overwrittenSourceMaps.push(i.prom),this.loadNewSourceMap(r,n)):i.prom}loadNewSourceMap(r,n){let i=super.load(r,n);return this.knownMaps.set(n.sourceMapUrl,{metadata:n,reloadIfNoMtime:!1,prom:i}),i}dispose(){for(let r of this.knownMaps.values())r.prom.then(n=>n.destroy(),()=>{});for(let r of this.overwrittenSourceMaps)r.then(n=>n.destroy(),()=>{});this.knownMaps.clear()}invalidateCache(){for(let r of this.knownMaps.values())r.reloadIfNoMtime=!0}};Uo=V([(0,fi.injectable)()],Uo);var ED=/[$a-z_][$0-9A-Z_$]*/iy,jo=Symbol("IRenameProvider"),Mu=class{constructor(e,r,n){this.logger=e;this.sourceMapFactory=r;this.launchConfig=n;this.renames=new Map}provideOnStackframe(e){if(!this.launchConfig.sourceMapRenames)return rn.None;let r=e.uiLocation();return r===void 0?rn.None:"then"in r?r.then(n=>this.provideForSource(n?.source)):this.provideForSource(r?.source)}provideForSource(e){if(!this.launchConfig.sourceMapRenames||!(e instanceof ft))return rn.None;let r=wu(e.compiledToSourceUrl.keys());if(!r)throw new Error("unreachable");if(!Bo(r))return rn.None;let n=this.renames.get(r.url);if(n)return n;let i=this.sourceMapFactory.load(r.sourceMap.metadata).then(async o=>{if(!o?.hasNames)return rn.None;let s=await r.content();return s?await this.createFromSourceMap(o,s):rn.None}).catch(()=>rn.None);return this.renames.set(r.url,i),i}async createFromSourceMap(e,r){let n=Date.now(),i;try{i=await aD(r)}catch(a){return this.logger.info("runtime",`Error parsing content for source tree: ${a}}`,{url:e.metadata.compiledPath}),rn.None}let o=new Ro(r);e.eachMapping(a=>{if(!a.name)return;let u=new An(a.generatedLine,a.generatedColumn).base0,c=o.convert(u);ED.lastIndex=c;let l=ED.exec(r);if(!l)return;let p=l[0];if(p===a.name)return;let f=i.search(u)||i;f.data??=[],f.data.some(m=>m.compiled==p)||f.data.push({compiled:p,original:a.name})}),i.filterHoist(a=>!!a.data);let s=Date.now();return this.logger.info("runtime",`renames calculated in ${s-n}ms`,{url:e.metadata.compiledPath}),new rn(i)}};Mu=V([(0,Ru.injectable)(),I(0,(0,Ru.inject)(ne)),I(1,(0,Ru.inject)(di)),I(2,(0,Ru.inject)(Ee))],Mu);var rn=class t{constructor(e){this.renames=e}static{this.None=new t(new Du(Sn.ZERO))}getOriginalName(e,r){return this.getClosestRename(r,n=>n.compiled===e)?.original}getCompiledName(e,r){return this.getClosestRename(r,n=>n.original===e)?.compiled}getClosestRename(e,r){return this.renames.findDeepest(e,n=>n.data?.find(r))}};var ku=Symbol("IContainer"),hi=Symbol("StoragePath"),nr=Symbol("IInitializeParams"),Wo=Symbol("VSCodeApi"),Ou=Symbol("IsVSCode"),PD=Symbol("ExtensionContext"),o_=Symbol("ProcessEnv"),fp=Symbol("execa"),Ve=Symbol("FS"),Qs="ExtensionLocation",Zs=Symbol("IBrowserFinder"),rhe=Symbol("DwarfDebugging"),LD=Symbol("SessionSubStates"),i_=new WeakMap,dt=(t,e)=>{if(!(typeof e=="object"&&e&&"dispose"in e))return e;let r=e,n=i_.get(t.container);return n?n.push(r):i_.set(t.container,[r]),e},zh=t=>{i_.get(t)?.forEach(e=>e.dispose())},nhe=Symbol("IExtensionContribution");var yr=Symbol("ITelemetryReporter");var xD=M(ue());var qo=Symbol("IShutdownParticipants"),Nu=class{constructor(){this.participants=[]}register(e,r){if(this.shutdownStage!==void 0&&this.shutdownStage>=e)return r(),ru;for(;this.participants.length<=e;)this.participants.push(new Set);return this.participants[e].add(r),{dispose:()=>this.participants[e].delete(r)}}async shutdown(){for(this.shutdownStage=0;this.shutdownStage<this.participants.length;this.shutdownStage++)await Promise.all([...this.participants[this.shutdownStage]].map(e=>e()))}};Nu=V([(0,xD.injectable)()],Nu);var wi=M(ue());var Jh=class{constructor(e=!1,r=!1){this.verified=e;this.hit=r}},Yh=class{constructor(){this._statisticsById=new Map}registerBreakpoints(e){e.forEach(r=>{r.id!==void 0&&!this._statisticsById.has(r.id)&&this._statisticsById.set(r.id,new Jh(r.verified,!1))})}registerResolvedBreakpoint(e){this.getStatistics(e).verified=!0}registerBreakpointHit(e){this.getStatistics(e).hit=!0}getStatistics(e){let r=this._statisticsById.get(e);if(r!==void 0)return r;{let n=new Jh;return this._statisticsById.set(e,n),n}}statistics(){let e=0,r=0,n=0;for(let i of this._statisticsById.values())e++,i.hit&&n++,i.verified&&r++;return{set:e,verified:r,hit:n}}};var Qh=async(t,e,r,n={})=>{let i=Date.now();try{return await r()}finally{t.verbose("perf.function","",{method:e,duration:Date.now()-i,...n})}};var hp=v("fs"),kt=M(ue()),Zh=M(v("path"));var ea=M(ue()),dp=M(v("path"));var Bu=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:r}){!e||!r?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=r.map(n=>{let i=n.startsWith("!");return{negated:i,pattern:n.slice(i?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:r,pattern:n}=this.patterns[e];if(r)continue;let i=dp.resolve(this.rootPath,n).split(/[\\/]/g),o=i.findIndex(u=>u.includes("*"));if(o===-1){yield{cwd:i.slice(0,-1).join("/"),pattern:i[i.length-1],negations:[]};continue}let s=i.slice(0,o).join("/"),a=[];for(let u=e+1;u<this.patterns.length;u++){let{negated:c,pattern:l}=this.patterns[u];if(c)if(l.startsWith("**"))a.push(et(l));else{let p=dp.relative(s,dp.resolve(this.rootPath,l));p.startsWith("..")||a.push(et(p))}}yield{cwd:s,negations:a,pattern:i.slice(o).join("/")}}}};Bu=V([(0,ea.injectable)()],Bu);var mi=class extends Bu{constructor({rootPath:e,outFiles:r}){super({rootPath:e,patterns:r})}};mi=V([(0,ea.injectable)(),I(0,(0,ea.inject)(Ee))],mi);var zi=class extends Bu{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};zi=V([(0,ea.injectable)(),I(0,(0,ea.inject)(Ee))],zi);var CD=v("path");var Fu=Symbol("ISearchStrategy"),_he=Symbol("ISearchStrategyFallback"),DD=async(t,e,r)=>{let n,o=`${(0,CD.basename)(t)}.map`;if(e.siblings.includes(o)&&(n=o),n||(typeof r>"u"&&(r=await eL(t)),n=Lu(r)),!(!n||(Gt(n)||(n=Mo(Ce(t),n)),!n))&&!(!n.startsWith("data:")&&!n.startsWith("file://")))return{compiledPath:t,sourceMapUrl:n,cacheKey:e.mtime}};var s_=Symbol("InlineSourceMapUrl"),$D=10*1e3,ta=class{constructor(e){e.__workspaceCachePath&&(this.path=Zh.join(e.__workspaceCachePath,"bp-predict.json"))}async load(){if(this.value||!this.path)return this.value;try{this.value=JSON.parse(await hp.promises.readFile(this.path,"utf-8"))}catch{}return this.value}async store(e){this.value=e,this.path&&(await hp.promises.mkdir(Zh.dirname(this.path),{recursive:!0}),await hp.promises.writeFile(this.path,JSON.stringify(e)))}};ta=V([(0,kt.injectable)(),I(0,(0,kt.inject)(Ee))],ta);var Hi=class{constructor(e,r,n,i,o,s){this.outFiles=e;this.repo=r;this.logger=n;this.sourceMapFactory=i;this.sourcePathResolver=o;this.state=s}async createMapping(e){if(this.outFiles.empty)return new Map;let r=Xs(),n=await this.state.load();try{let{state:i}=await this.repo.streamChildrenWithSourcemaps({files:this.outFiles,processMap:async o=>{let s=[],a=await this.sourceMapFactory.load(o);for(let u of a.sources){let c=this.sourcePathResolver?await this.sourcePathResolver.urlToAbsolutePath({url:u,map:a}):at(u);c&&s.push({...o,sourceMapUrl:Gt(o.sourceMapUrl)?{[s_]:o.sourceMapUrl}:o.sourceMapUrl,resolvedPath:c,sourceUrl:u})}return{discovered:s,compiledPath:pt(o.compiledPath)}},onProcessedMap:({discovered:o})=>{for(let s of o){let a=r.get(s.resolvedPath);a||(a=new Set,r.set(s.resolvedPath,a)),a.add(s)}},lastState:n,...e});i&&this.state.store(i).catch(o=>this.logger.warn("runtime.exception","Error saving sourcemap cache",{error:o}))}catch(i){this.logger.warn("runtime.exception","Error reading sourcemaps from disk",{error:i})}return r}};Hi=V([(0,kt.injectable)(),I(0,(0,kt.inject)(mi)),I(1,(0,kt.inject)(Fu)),I(2,(0,kt.inject)(ne)),I(3,(0,kt.inject)(di)),I(4,(0,kt.inject)(We)),I(5,(0,kt.inject)(ta))],Hi);var Uu=class extends Hi{async getMetadataForPaths(r){this.sourcePathToCompiled||(this.sourcePathToCompiled=this.createInitialMapping());let n=await this.sourcePathToCompiled;return r.map(i=>n.get(i))}async createInitialMapping(){return Qh(this.logger,"BreakpointsPredictor.createInitialMapping",()=>this.createMapping())}};Uu=V([(0,kt.injectable)()],Uu);var ju=class extends Hi{constructor(){super(...arguments);this.sourcePathToCompiled=new Map}async getMetadataForPaths(r){let n=r.map(s=>this.sourcePathToCompiled.get(s)),i=r.map((s,a)=>a).filter(s=>!n[s]);if(i.length){let s=new Set(i.map(u=>pt(r[u]))),a=this.createMapping({filter:(u,c)=>!c||c.discovered.some(l=>s.has(l.resolvedPath))});for(let u of i)this.sourcePathToCompiled.set(r[u],a),n[u]=a}return await Promise.all(n.map(async(s,a)=>(await s).get(r[a])))}};ju=V([(0,kt.injectable)()],ju);var na=Symbol("IBreakpointsPredictor"),ra=class{constructor(e,r,n,i){this.bpSearch=e;this.outFiles=r;this.logger=n;this.sourceMapFactory=i;this.predictedLocations=new Map;this.longParseEmitter=new K;this.targetedMode=!1;this.onLongParse=this.longParseEmitter.event}async predictBreakpoints(e){if(!e.source.path||!e.breakpoints?.length)return;let r=await this.getMetadataForPaths([e.source.path]).then(i=>i[0]);if(!r)return;let n=async(i,o,s)=>{let a=typeof s.sourceMapUrl=="string"?s.sourceMapUrl:s.sourceMapUrl.hasOwnProperty(s_)?s.sourceMapUrl[s_]:await hp.promises.readFile(s.compiledPath,"utf8").then(Lu);if(!a)return[];let u=await this.sourceMapFactory.load({...s,sourceMapUrl:a}),c=this.sourceMapFactory.guardSourceMapFn(u,()=>Fh(s.sourceUrl,{lineNumber:i,columnNumber:o||1},u),()=>null);if(!c||c.line===null)return[];let l=await this.getMetadataForPaths([s.compiledPath]).then(p=>p[0]);return l?(await Promise.all([...l].map(f=>n(c.line,c.column,f)))).flat():[{absolutePath:s.compiledPath,lineNumber:c.line||1,columnNumber:c.column?c.column+1:1}]};for(let i of e.breakpoints??[]){let o=`${e.source.path}:${i.line}:${i.column||1}`;if(this.predictedLocations.has(o))return;let s=[];this.predictedLocations.set(o,s);for(let a of r)s.push(...await n(i.line,i.column||0,a))}}async getPredictionForSource(e){return this.getMetadataForPaths([e]).then(r=>r[0])}async getMetadataForPaths(e){let r=setTimeout(()=>{this.longParseEmitter.fire(),this.logger.warn("runtime.sourcemap","Long breakpoint predictor runtime",{longPredictionWarning:$D,patterns:[...this.outFiles.explode()].join(", ")})},$D),n=await this.bpSearch.getMetadataForPaths(e);return clearTimeout(r),n}predictedResolvedLocations(e){let r=`${e.absolutePath}:${e.lineNumber}:${e.columnNumber||1}`;return this.predictedLocations.get(r)??[]}};ra=V([(0,kt.injectable)(),I(0,(0,kt.inject)(Hi)),I(1,(0,kt.inject)(mi)),I(2,(0,kt.inject)(ne)),I(3,(0,kt.inject)(di))],ra);var Gu=M(ue());var MD=v("crypto"),mp=M(ue());var XK=0,rt=Symbol("ICdpApi"),ia=class extends Error{constructor(r){super("<<message>>");this.method=r}setCause(r,n){return this.cause={code:r,message:n},this.message=`CDP error ${r} calling method ${this.method}: ${n}`,this.stack=this.stack?.replace("<<message>>",this.message),this}},_t=class{constructor(e,r,n){this.logger=r;this.telemetryReporter=n;this._connectionId=XK++;this._lastId=1e3;this._disposedSessions=new Map;this._onDisconnectedEmitter=new K;this.waitWrapper=zK();this.onDisconnected=this._onDisconnectedEmitter.event;this._transport=e,this._transport.onMessage(([i,o])=>this._onMessage(i,o)),this._transport.onEnd(()=>this._onTransportClose()),this._sessions=new Map,this._closed=!1,this._rootSession=new em(this,"",this.logger),this._sessions.set("",this._rootSession)}rootSession(){return this._rootSession.cdp()}_send(e,r={},n){let i=++this._lastId,o={id:i,method:e,params:r};n&&(o.sessionId=n);let s=JSON.stringify(o);return this.logger.verbose("cdp.send",void 0,{connectionId:this._connectionId,message:o}),this._transport.send(s),i}_onMessage(e,r){let n=JSON.parse(e),i=n;n.result&&n.result.scriptSource?i={...n,result:{...n.result,scriptSource:"<script source>"}}:n.method==="Debugger.scriptParsed"&&n.params&&Gt(n.params.sourceMapURL)&&(i={...n,params:{...n.params,sourceMapURL:"<data source map url>"}}),this.logger.verbose("cdp.receive",void 0,{connectionId:this._connectionId,message:i});let o=this._sessions.get(n.sessionId||"");if(!o){let u=this._disposedSessions.get(n.sessionId);if(u){let c=(Date.now()-u.getTime())/1e3;this.logger.warn("internal",`Got message for a session disposed ${c} seconds ago`,{sessionId:n.sessionId,disposeOn:u});return}else throw new Error(`Unknown session id: ${n.sessionId} while processing: ${n.method}`)}let s=n.method,a;try{o._onMessage(n)}catch(u){a=u}s&&this.telemetryReporter.reportOperation("cdpOperation",s,r.elapsed().ms,a)}_onTransportClose(){if(!this._closed){this._closed=!0,this._transport.dispose(),this.logger.info("cdp.receive","Connection closed",{connectionId:this._connectionId});for(let e of this._sessions.values())e._onClose();this._sessions.clear(),this._onDisconnectedEmitter.fire()}}close(){this._onTransportClose()}isClosed(){return this._closed}createSession(e){let r=new em(this,e,this.logger);return this._sessions.set(e,r),r.cdp()}disposeSession(e){let r=this._sessions.get(e);r&&(r._onClose(),this._disposedSessions.set(r.sessionId(),new Date),this._sessions.delete(r.sessionId()))}},KK=+process.version.substring(1).split(".")[0]<11,em=class{constructor(e,r,n){this.logger=n;this._queue=[];this._prefixListeners=new Ql;this._directListeners=new Ql;this.paused=!1;this._callbacks=new Map,this._connection=e,this._sessionId=r,this._cdp=this._createApi()}pause(){this.paused=!0}resume(){if(!this.paused)return;this.paused=!1;let e=this._queue;this._queue=[],this.logger.verbose("cdp.receive","Dequeue messages",{message:e});for(let r of e)this._processResponse(r)}cdp(){return this._cdp}sessionId(){return this._sessionId}_createApi(){return new Proxy({},{get:(e,r)=>r==="pause"?()=>this.pause():r==="resume"?()=>this.resume():r==="session"?this:new Proxy({},{get:(n,i)=>{if(i!=="then")return i==="on"?(o,s)=>this.on(`${r}.${o}`,s):o=>this.send(`${r}.${i}`,o)}})})}on(e,r){return this._directListeners.listen(e,r)}onPrefix(e,r){return this._prefixListeners.listen(e,r)}send(e,r={}){return this.sendOrDie(e,r).catch(()=>{})}sendOrDie(e,r={}){if(!this._connection)return Promise.reject(new ia(e).setCause(0,"Connection is closed"));let n=this._connection._send(e,r,this._sessionId);return new Promise((i,o)=>{this._callbacks.set(n,{resolve:i,reject:o,from:new ia(e),method:e})})}_onMessage(e){if(this.paused&&e.id){this._processResponse(e);return}if(this._queue.length>0){this._queue.push(e);return}if(!KK&&!this.paused){this._processResponse(e);return}this._queue.push(e),this.paused||this._processQueue()}_processQueue(){this._connection?.waitWrapper(()=>{if(this.paused)return;let e=this._queue.shift();e&&(this._processResponse(e),this._queue.length&&this._processQueue())})}_processResponse(e){if(e.id===void 0){let n=e;this._directListeners.emit(n.method,n.params);for(let[i,o]of this._prefixListeners.listeners)n.method.startsWith(i)&&o.fire(n);return}let r=this._callbacks.get(e.id);r&&(this._callbacks.delete(e.id),"error"in e?r.reject(r.from.setCause(e.error.code,e.error.message)):"result"in e&&r.resolve(e.result))}async detach(){if(!this._connection)throw new Error("Session already detached. Most likely the target has been closed.");this._connection._send("Target.detachFromTarget",{},this._sessionId)}isClosed(){return!this._connection}_onClose(){for(let e of this._callbacks.values())e.reject(e.from.setCause(0,"Connection is closed"));this._callbacks.clear(),this._connection=void 0}};function zK(){if(parseInt(process.versions.node,10)>=11)return setImmediate;let t=!1,e=[],r=()=>{let n=e.shift();if(!n){t=!1;return}setImmediate(r),n()};return n=>{e.push(n),t||(t=!0,setImmediate(r))}}var Ji="$returnValue",JK="__js_debug_hoisted_",TD=()=>JK+(0,MD.randomBytes)(8).toString("hex"),nn=Symbol("IEvaluator"),Wu=class{constructor(e,r){this.cdp=e;this.renameProvider=r}get hasReturnValue(){return!!this.returnValue}setReturnedValue(e){this.returnValue=e}prepare(e,{isInternalScript:r,hoist:n,renames:i}={}){r!==!1&&(e+=tt());let o=new Map;o.set(Ji,TD());for(let u of n??[])o.set(u,TD());let{transformed:s,hoisted:a}=this.replaceVariableInExpression(e,o,i);return a.size?{canEvaluateDirectly:!1,invoke:(u,c={})=>Promise.all([...o].map(([l,p])=>this.hoistValue(l===Ji?this.returnValue:c[l],p))).then(()=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:s}))}:{canEvaluateDirectly:!0,invoke:u=>this.cdp.Debugger.evaluateOnCallFrame({...u,expression:s})}}async evaluate(e,r){if(!("callFrameId"in e))return this.cdp.Runtime.evaluate(e);let n=r;if(r?.stackFrame){let i=await this.renameProvider.provideOnStackframe(r.stackFrame);n={...n,renames:{mapping:i,position:r.stackFrame.rawPosition}}}return this.prepare(e.expression,n).invoke(e)}async hoistValue(e,r){let n=e?.objectId,i=`setTimeout(() => { delete globalThis.${r} }, 0)`;n?await this.cdp.Runtime.callFunctionOn({objectId:n,functionDeclaration:`function() { globalThis.${r} = this; ${i}; ${tt()} }`}):await this.cdp.Runtime.evaluate({expression:`globalThis.${r} = ${JSON.stringify(e?.value)};${i};`+tt()})}replaceVariableInExpression(e,r,n){let i=new Set,o=!1,s=(p,f)=>({type:"ConditionalExpression",test:{type:"BinaryExpression",left:{type:"UnaryExpression",operator:"typeof",prefix:!0,argument:{type:"Identifier",name:p}},operator:"!==",right:{type:"Literal",value:"undefined"}},consequent:{type:"Identifier",name:p},alternate:f}),a=[],u=ci(e),c=Lh(u,{enter(p,f){let m=p;if(p.type!=="Identifier"||e[m.start-1]===".")return;let h=r.get(p.name);if(h)return i.add(p.name),o=!0,{replace:Xv(p,f)?{type:"Identifier",name:h}:s(h,YK)};let g=n?.mapping.getCompiledName(p.name,n.position);if(g)return o=!0,{replace:Xv(p,f)?{type:"Identifier",name:g}:s(g,p)}},leave:()=>{a.pop()}});if(!o)return{hoisted:i,transformed:e};let l=u.body[u.body.length-1].end;return{hoisted:i,transformed:Gi(c)+e.slice(l)}}};Wu=V([(0,mp.injectable)(),I(0,(0,mp.inject)(rt)),I(1,(0,mp.inject)(jo))],Wu);var YK={type:"Identifier",name:"undefined"};var tm=class t{static parse(e,r,n,i){n&&(r=a_(r));let o=r&&No(r);if(o)throw new Q(Fo(e,o.message));let{canEvaluateDirectly:s,invoke:a}=i.prepare(r);return new t(s?r:a)}constructor(e){typeof e=="function"?this.invoke=e:this.breakCondition=e}async shouldStayPaused(e){return this.invoke?(await this.invoke({callFrameId:e.callFrames[0].callFrameId,returnByValue:!0}))?.result.value===!0:Promise.resolve(!0)}},a_=t=>`(()=>{try{return ${t};}catch(e){console.error(e);return true}})()`;var QK=/^(>|>=|={1,3}|<|<=|%)?\s*([0-9]+)$/,qu=class t{constructor(e){this.predicate=e;this.hits=0;this.breakCondition=void 0}shouldStayPaused(){return Promise.resolve(this.predicate(++this.hits))}static parse(e){let r=QK.exec(e);if(!r)throw new Q(t_(e));let[,n="=",i]=r;return new t(ZK(e,n,Number(i)))}},ZK=(t,e,r)=>{switch(e){case"=":case"==":case"===":return n=>n===r;case">":return n=>n>r;case">=":return n=>n>=r;case"<":return n=>n<r;case"<=":return n=>n<=r;case"%":return n=>n%r===0;default:throw new Q(t_(t))}};var RD=v("crypto"),nm=M(ue());var rm=class{constructor(e){this.invoke=e;this.breakCondition=void 0}async shouldStayPaused(e){return await this.invoke({callFrameId:e.callFrames[0].callFrameId}),!1}};var oa=class{constructor(e,r){this.breakCondition=r;let n=r&&No(r);if(n)throw new Q(Fo(e,n.message))}shouldStayPaused(){return Promise.resolve(!0)}};var Vo=class{constructor(e){this.evaluator=e}compile(e,r){let n=this.logMessageToExpression(r),i=No(n);if(i)throw new Q(Fo(e,i.message));let{canEvaluateDirectly:o,invoke:s}=this.evaluator.prepare(n);return o?new oa(e,this.logMessageToExpression(r)):new rm(s)}serializeLogStatements(e){return xC([],e,!1)}logMessageToExpression(e){let r=c=>c.replace(/%/g,"%%"),n=[],i=[],o=0;for(;;){let c=e.indexOf("{",o);if(c===-1){n.push(r(e.slice(o)));break}n.push(r(e.slice(o,c)));let[l]=Ph(e.slice(c));if(o=c+l.end,o-1===c+1||e[o-1]!=="}"){n.push(r(e.slice(c,o)));continue}if(l.type!=="BlockStatement")break;i.push(Gi(this.serializeLogStatements(l.body))),n.push("%O")}let a=`console.log(${[JSON.stringify(n.join("")),...i].join(", ")}), false`,u=(0,RD.createHash)("sha1").update(a).digest("hex").slice(0,7);return a+`
//# sourceURL=logpoint-${u}.cdp`}};Vo=V([(0,nm.injectable)(),I(0,(0,nm.inject)(nn))],Vo);var e6=new oa({line:0},void 0),Ame=new oa({line:0},"false"),im=Symbol("IBreakpointConditionFactory"),Vu=class{constructor(e,r,n){this.logPointCompiler=e;this.evaluator=r;this.breakOnError=n.__breakOnConditionalError}getConditionFor(e){return e.condition?tm.parse(e,e.condition,this.breakOnError,this.evaluator):e.logMessage?this.logPointCompiler.compile(e,e.logMessage):e.hitCondition?qu.parse(e.hitCondition):e6}};Vu=V([(0,Gu.injectable)(),I(0,(0,Gu.inject)(Vo)),I(1,(0,Gu.inject)(nn)),I(2,(0,Gu.inject)(Ee))],Vu);var am=v("path");var om=(t,e)=>t.lineNumber===e.lineNumber&&t.columnNumber===e.columnNumber;var sm=t=>!("location"in t),kD=t=>"location"in t,t6=(t,e)=>t.url&&e===t.url||t.urlRegex&&new RegExp(t.urlRegex).test(e),Xu=class{constructor(e,r,n){this._manager=e;this._source=r;this._originalPosition=n;this.isEnabled=!1;this.setInCdpScriptIds=new Set;this.cdpScriptIds=this.setInCdpScriptIds;this.cdpBreakpoints=[];this._cdpIds=new Set}get enabled(){return this.isEnabled}get cdpIds(){return this._cdpIds}get source(){return this._source}get originalPosition(){return this._originalPosition}async updateSourceLocation(e,r,n){this._source=r,this._originalPosition=n;let i=[];for(let o of this.cdpBreakpoints)o.state===1&&i.push(this.updateUiLocations(e,o.cdpId,o.locations));await Promise.all(i)}async refreshUiLocations(e){await Promise.all(this.cdpBreakpoints.filter(r=>r.state===1).map(r=>this.updateUiLocations(e,r.cdpId,r.locations)))}async enable(e){if(this.isEnabled)return;this.isEnabled=!0;let r=[this._setPredicted(e)],n=this._manager._sourceContainer.source(this.source);if((!n||!(n instanceof ft))&&r.push(this._setByPath(e,n?.offsetSourceToScript(this.originalPosition)||this.originalPosition)),await Promise.all(r),n&&this.isEnabled){let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n});await Promise.all(i.map(o=>this._setByUiLocation(e,n.offsetSourceToScript(o))))}}async updateUiLocations(e,r,n){this.updateExistingCdpRef(r,a=>({...a,locations:n}));let i=(await Promise.all(n.map(a=>e.rawLocationToUiLocation(e.rawLocation(a))))).find(a=>!!a);if(!i)return;let o=this._manager._sourceContainer.source(this.source);if(!o)return;let s=await this._manager._sourceContainer.currentSiblingUiLocations(i);this.updateExistingCdpRef(r,a=>{let u=s.filter(c=>c.source===o);return{...a,locations:n,uiLocations:u.length?u:s}})}compare(e){let r=this.originalPosition,n=e.originalPosition;return r.lineNumber!==n.lineNumber?r.lineNumber-n.lineNumber:r.columnNumber-n.columnNumber}async disable(){if(!this.isEnabled)return;this.isEnabled=!1;let e=this.cdpBreakpoints.map(r=>this.removeCdpBreakpoint(r));await Promise.all(e)}async updateForNewLocations(e,r){let n=this._manager._sourceContainer.source(this.source);if(!n)return[];let i=await this._manager._sourceContainer.currentSiblingUiLocations({lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber,source:n},await r.source);if(!i.length)return[];let o=[];for(let s of i)o.push(this._setForSpecific(e,r,n.offsetSourceToScript(s)));for(let s of this.cdpBreakpoints){if(!sm(s.args)||!t6(s.args,r.url))continue;let a=s.args;i.some(u=>u.columnNumber-1===a.columnNumber&&u.lineNumber-1===a.lineNumber)||(this._manager.logger.verbose("runtime.sourcemap","Adjusted breakpoint due to overlaid sourcemap",{url:n.url}),o.push(this.removeCdpBreakpoint(s)))}return await Promise.all(o),i}executionContextWasCleared(){this.updateCdpRefs(e=>e.filter(r=>sm(r.args)))}hasResolvedAt(e,r){let{lineNumber:n,columnNumber:i}=r.base0;return this.cdpBreakpoints.some(o=>o.state===1&&o.locations.some(s=>s.scriptId===e&&s.lineNumber===n&&(s.columnNumber===void 0||s.columnNumber===i)))}getBreakCondition(){}updateExistingCdpRef(e,r){this.updateCdpRefs(n=>n.map(i=>i.state!==1||i.cdpId!==e?i:r(i)))}updateCdpRefs(e){let r=this;r.cdpBreakpoints=e(this.cdpBreakpoints);let n=new Set;this.setInCdpScriptIds.clear();for(let i of this.cdpBreakpoints)if(i.state===1){n.add(i.cdpId);for(let o of i.locations)this.setInCdpScriptIds.add(o.scriptId)}this._cdpIds=n}async _setPredicted(e){if(!this.source.path||!this._manager._breakpointsPredictor)return;let r=this._manager._breakpointsPredictor.predictedResolvedLocations({absolutePath:this.source.path,lineNumber:this.originalPosition.lineNumber,columnNumber:this.originalPosition.columnNumber}),n=[];for(let i of r){let o=this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(i.absolutePath);o!==void 0&&(typeof o=="string"?n.push(this._setByUrlRegexp(e,o,i)):n.push(o.then(s=>s?this._setByUrlRegexp(e,s,i):void 0)))}await Promise.all(n)}async _setByUiLocation(e,r){await Promise.all(r.source.scripts.map(n=>this._setForSpecific(e,n,r)))}async _setByPath(e,r){let n=this._manager._sourceContainer.source({path:this.source.path});if(!(n instanceof ft&&[...n.compiledToSourceUrl.keys()].some(o=>o.absolutePath===this.source.path)))if(this.source.path){let i=await this._manager._sourceContainer.sourcePathResolver.absolutePathToUrlRegexp(this.source.path);if(!i)return;await this._setByUrlRegexp(e,i,r)}else{let o=this._manager._sourceContainer.source(this.source)?.url;if(!o)return;await this._setByUrl(e,o,r),this.source.path!==o&&this.source.path!==void 0&&await this._setByUrl(e,Ce(this.source.path),r)}}hasSetOnLocation(e,r){return this.cdpBreakpoints.find(n=>e.scriptId&&kD(n.args)&&n.args.location.scriptId===e.scriptId&&om(n.args.location,r)||e.url&&!e.hasSourceURL&&sm(n.args)&&(n.args.urlRegex?new RegExp(n.args.urlRegex).test(e.url):e.url===n.args.url)&&om(n.args,r))}hasSetOnLocationByUrl(e,r,n){return this.cdpBreakpoints.find(i=>{if(sm(i.args))return om(i.args,n)?e==="url"?i.args.urlRegex?new RegExp(i.args.urlRegex).test(r):i.args.url===r:e==="re"&&i.args.urlRegex===r:!1;let o=this._manager._sourceContainer.getScriptById(i.args.location.scriptId);if(o)return om(i.args.location,n)&&e==="re"?new RegExp(r).test(o.url):o.url===r})}async _setForSpecific(e,r,n){return r.url&&!r.hasSourceURL&&(!r.embedderName||r.embedderName===r.url)?this._setByUrl(e,r.url,n):this._setByScriptId(e,r,n)}async _setByUrl(e,r,n){n=Ki(n);let i=this.hasSetOnLocationByUrl("url",r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{url:r,condition:this.getBreakCondition(),...n})}async _setByUrlRegexp(e,r,n){n=Ki(n);let i=this.hasSetOnLocationByUrl("re",r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{urlRegex:r,condition:this.getBreakCondition(),...n})}async _setByScriptId(e,r,n){n=Ki(n);let i=this.hasSetOnLocation(r,n);if(i){i.state===0&&await i.done;return}return this._setAny(e,{condition:this.getBreakCondition(),location:{scriptId:r.scriptId,...n}})}async _setAny(e,r){if(!this.isEnabled)return;let n={state:0,args:r,deadletter:!1};n.done=(async()=>{let i=kD(r)?await e.cdp().Debugger.setBreakpoint(r):await e.cdp().Debugger.setBreakpointByUrl(r);if(!i)return;if(n.deadletter){await e.cdp().Debugger.removeBreakpoint({breakpointId:i.breakpointId});return}let o="actualLocation"in i?[i.actualLocation]:i.locations;this._manager._resolvedBreakpoints.set(i.breakpointId,this);let s={state:1,cdpId:i.breakpointId,args:r,locations:o,uiLocations:[]};return this.updateCdpRefs(a=>a.map(u=>u===n?s:u)),await this.updateUiLocations(e,i.breakpointId,o),s})(),this.updateCdpRefs(i=>[...i,n]),await n.done}async removeCdpBreakpoint(e){this.updateCdpRefs(r=>r.filter(n=>n!==e)),e.state===0?(e.deadletter=!0,await e.done):(await this._manager._thread?.cdp().Debugger.removeBreakpoint({breakpointId:e.cdpId}),this._manager._resolvedBreakpoints.delete(e.cdpId))}};var gi=class t extends Xu{constructor(r,n,i){super(r,n,{lineNumber:1,columnNumber:1});this.mode=i}static getModeKeyForSource(r,n){return r===1?(0,am.basename)(n,(0,am.extname)(n)||void 0):n}_setPredicted(){return Promise.resolve()}_setByPath(r,n){if(!this.source.path)return Promise.resolve();let i=t.getModeKeyForSource(this.mode,this.source.path);return this.mode===1?super._setByUrlRegexp(r,mr(i),n):super._setByPath(r,n)}};var ND=M(lt());var on=class extends Xu{constructor(r,n,i,o,s){super(r,i,{lineNumber:o.line,columnNumber:o.column||1});this.dapId=n;this.dapParams=o;this.condition=s;this.completedSet=ke()}equivalentTo(r){return r.dapParams.column===this.dapParams.column&&r.dapParams.line===this.dapParams.line&&r.dapParams.hitCondition===this.dapParams.hitCondition&&r.dapParams.condition===this.dapParams.condition&&r.dapParams.logMessage===this.dapParams.logMessage}untilSetCompleted(){return this.completedSet.promise}markSetCompleted(){this.completedSet.resolve()}testHitCondition(r){return this.condition.shouldStayPaused(r)}async toDap(){let r=this.enabled&&this.getResolvedUiLocation();return r?{id:this.dapId,verified:!0,source:await r.source.toDap(),line:r.lineNumber,column:r.columnNumber}:{id:this.dapId,verified:!1,message:ND.t("Unbound breakpoint")}}diagnosticDump(){return{source:this.source,params:this.dapParams,cdp:this.cdpBreakpoints}}getBreakCondition(){return this.condition.breakCondition}updateCdpRefs(r){let n=this.getResolvedUiLocation();super.updateCdpRefs(r),this.getResolvedUiLocation()!==n&&this.notifyResolved()}getResolvedUiLocation(){for(let r of this.cdpBreakpoints)if(r.state===1&&r.uiLocations.length)return r.uiLocations[0]}async notifyResolved(){await this._manager.notifyBreakpointChange(this,this.completedSet.hasSettled())}};var um=class extends on{constructor(e,r,n,i){super(e,r,n,i,new qu(()=>!1))}getResolvedUiLocation(){}};var G$=M(vp());var _p=class extends gi{constructor(r,n){super(r,{path:n},1);this.pattern=n}async enable(r){if(this.isEnabled)return;this.isEnabled=!0;let n=(0,G$.makeRe)(et(this.pattern),{contains:!0,lookbehinds:!1});await this._setAny(r,{urlRegex:n.source.replace(/([a-z]):/i,(i,o)=>`[${o.toLowerCase()}${o.toUpperCase()}]:`),lineNumber:0,columnNumber:0})}};var Ju=M(ue());var mm=Symbol("IExperimentationService");var gz=/\/node_modules\/|^node\:/,yz=2,X$=5e3,bz=X$/2,it=class{constructor(e,r,n){this.telemetry=r;this.experimentation=n;this.disposable=new je;this.hadBreakpoint=!1;this.didVerifyBreakpoint=!1;this.hadNonModuleSourcemap=!1;this.startedAt=Date.now();this.disposable.push(it.didVerifyEmitter.event(()=>{this.didVerifyBreakpoint=!0})),it.consecutiveQualifyingSessions>=yz&&this.disposable.push(fE(async()=>{this.currentlyQualifying&&await this.experimentation.getTreatment("diagnosticPrompt",!0)&&(r.report("diagnosticPrompt",{event:"suggested"}),it.didSuggest=!0,e.suggestDiagnosticTool({}))},X$))}get currentlyQualifying(){return this.hadBreakpoint&&!this.didVerifyBreakpoint&&this.hadNonModuleSourcemap}notifyHadBreakpoint(){this.hadBreakpoint=!0}notifyVerifiedBreakpoint(){this.didVerifyBreakpoint||(it.didVerifyEmitter.fire(),it.didSuggest&&(it.didSuggest=!1,this.telemetry.report("diagnosticPrompt",{event:"resolved"})))}attach(e){if(!this.hadNonModuleSourcemap){let r=this.disposable.push(e.Debugger.on("scriptParsed",n=>{n.sourceMapURL&&!gz.test(n.url)&&(this.hadNonModuleSourcemap=!0,this.disposable.disposeObject(r))}))}}dispose(){this.currentlyQualifying&&Date.now()-bz>this.startedAt?it.consecutiveQualifyingSessions++:it.consecutiveQualifyingSessions=0,this.disposable.dispose()}};it.consecutiveQualifyingSessions=0,it.didVerifyEmitter=new K,it.didSuggest=!1,it=V([(0,Ju.injectable)(),I(0,(0,Ju.inject)(Tu)),I(1,(0,Ju.inject)(yr)),I(2,(0,Ju.inject)(mm))],it);var an=M(ue()),cT=M(Z$()),C_=M(Ih());var bm=M(ue());var eT=M(v("fs")),ym=M(v("path")),tT=t=>{let e={};f(e);function r(h,g){return t({category:"telemetry",output:h,data:g})}let n=h=>r("js-debug/dap/operation",{...e,...h}),i=h=>r("js-debug/cdp/operation",{...e,...h}),o=h=>r("js-debug/error",{...e,...h}),s=h=>{e.browser=(h.targetProject||h.targetProject)+"/"+h.targetVersion,r("js-debug/browserVersion",{...e,...h})},a=h=>r("js-debug/breakpointStats",{...e,...h}),u=h=>r("js-debug/statistics",{...e,...h}),c=h=>{e.nodeVersion=h.version,r("js-debug/nodeRuntime",{...e,...h})},l=h=>{r("js-debug/launch",{...e,...h,parameters:JSON.stringify(h.parameters)})},p=h=>{r("js-debug/diagnosticPrompt",{...e,...h})};function f(h){try{let g=ym.resolve(ym.dirname(__filename),"..","..",".gitcommit");h.jsDebugCommitId=eT.readFileSync(g,"utf8")}catch{}}return{breakpointStats:a,statistics:u,browserVersion:s,cdpOperation:i,dapOperation:n,error:o,launch:l,nodeRuntime:c,diagnosticPrompt:p,setGlobalMetric:(h,g)=>{e[h]=g}}};var wp=class{constructor(e=!0){this.isVSCode=e;this.measurements=Object.create(null)}add(e,r,n){let i=this.measurements[e];i||(i=this.measurements[e]={times:[],errors:[]}),i.times.push(r),n&&i.errors.push(n)}flush(){let e={errors:[]};for(let r in this.measurements){let{times:n,errors:i}=this.measurements[r],o={operation:r,totalTime:0,max:0,avg:0,stddev:0,count:n.length,failed:i.length};for(let s of n)o.totalTime+=s,o.max=Math.max(o.max,s);o.avg=o.totalTime/o.count;for(let s of n)o.stddev+=(s-o.avg)**2;o.stddev=Math.sqrt(o.stddev/(n.length-1)),e[o.operation]=o,e[`!${o.operation}.errors`]=i,this.isVSCode||(e[`${o.operation}.errors`]=i)}return this.measurements=Object.create(null),e}};var vi=class{constructor(e=!0){this.isVsCode=e;this.target=[];this.flushEmitter=new K;this.loggers=tT(e=>this.pushOutput(e));this.batchFlushTimeout={};this.batchers={dapOperation:new wp(this.isVsCode),cdpOperation:new wp(this.isVsCode)};this.onFlush=this.flushEmitter.event;this.setGlobalMetric=this.loggers.setGlobalMetric}report(e,...r){let n=this.loggers[e];n(...r)}reportOperation(e,r,n,i){this.batchers[e].add(r,n,i),this.batchFlushTimeout[e]===void 0&&(this.batchFlushTimeout[e]=setTimeout(()=>{this.report(e,this.batchers[e].flush()),this.batchFlushTimeout[e]=void 0},vi.batchFlushInterval))}attachDap(e){this.target instanceof Array&&this.target.forEach(r=>e.output(r)),this.target=e}flush(){this.flushEmitter.fire();let e=Object.entries(this.batchFlushTimeout);for(let[r,n]of e){let i=this.batchers[r].flush();i.length&&this.report(r,i),this.batchFlushTimeout[r]=void 0,clearTimeout(n)}}dispose(){for(let e of Object.values(this.batchFlushTimeout))e&&clearTimeout(e)}pushOutput(e){e.data=S_(e.data),this.target instanceof Array?this.target.push(e):this.target.output(e)}};vi.batchFlushInterval=5e3,vi=V([(0,bm.injectable)(),I(0,(0,bm.inject)(Ou))],vi);var S_=t=>typeof t=="number"?Number(t.toFixed(1)):typeof t!="object"||!t?t:t instanceof Error?E_(t):t instanceof Array?t.map(S_):ji(t,S_),rT=/(?:[A-z]:)?(?:[\\/][^:]*)+[\\/]([^:]*:)/g;function E_(t){let e=String(t.message),r=String(t.name);rT.lastIndex=0;let n=typeof t.stack=="string"?t.stack.replace(rT,"$1"):void 0;return{error:{message:e,name:r,stack:n}}}var iT=v("crypto"),_i=M(ue());var Ip=Symbol("IDwarfModuleProvider");var _m=Symbol("IWasmSymbolProvider"),x_=Symbol("IWasmWorkerFactory"),Zu=class{constructor(e,r){this.dwarf=e;this.launchConfig=r;this.cdpCounter=0;this.cdp=new Map;this.prompt=ye(()=>this.dwarf.prompt())}async spawn(e){if(!this.launchConfig.enableDWARF)return null;this.worker??=this.dwarf.load().then(i=>{if(!i)return null;let o=i.spawn({getWasmGlobal:(s,a)=>this.loadWasmValue(`globals[${s}]`,a),getWasmLocal:(s,a)=>this.loadWasmValue(`locals[${s}]`,a),getWasmOp:(s,a)=>this.loadWasmValue(`stack[${s}]`,a),getWasmLinearMemory:(s,a,u)=>this.loadWasmValue(`[].slice.call(new Uint8Array(memories[0].buffer, ${+s}, ${+a}))`,u).then(c=>new Uint8Array(c).buffer)});return o.rpc.sendMessage("hello",[],!1),o});let r=await this.worker;if(!r)return null;let n=this.cdpCounter++;return this.cdp.set(n,e),{rpc:r.rpc,getStopId:i=>`${n}:${i}`,dispose:()=>(this.cdp.delete(n),r.dispose())}}async dispose(){await this.worker?.then(e=>e?.dispose()),this.worker=Promise.resolve(null)}async loadWasmValue(e,r){let n=r,i=n.indexOf(":"),o=n.substring(0,i),s=n.substring(i+1),a=await this.cdp.get(+o)?.Debugger.evaluateOnCallFrame({callFrameId:s,expression:e+tt(),silent:!0,returnByValue:!0,throwOnSideEffect:!0});if(!a||a.exceptionDetails)throw new Error(`evaluate failed: ${a?.exceptionDetails?.text||"unknown"}`);return a.result.value}};Zu=V([(0,_i.injectable)(),I(0,(0,_i.inject)(Ip)),I(1,(0,_i.inject)(Ee))],Zu);var ec=class{constructor(e,r,n,i){this.dwarf=e;this.cdp=r;this.logger=n;this.launchConfig=i;this.worker=ye(()=>this.dwarf.spawn(this.cdp))}async loadWasmSymbols(e){if(!this.launchConfig.enableDWARF)return this.defaultSymbols(e);let r=await this.worker();if(!r){let a=this.defaultSymbols(e);return a.onDidDisassemble=this.dwarf.prompt,a}let{rpc:n}=r,i=(0,iT.randomUUID)(),o=e.debugSymbols?.externalURL,s;try{s=await n.sendMessage("addRawModule",i,o,{url:e.url,code:!o&&e.url.startsWith("wasm://")?await this.getBytecode(e.scriptId):void 0})}catch{return this.defaultSymbols(e)}return!(s instanceof Array)||s.length===0?(n.sendMessage("removeRawModule",i),this.defaultSymbols(e)):(this.logger.info("sourcemap.parsing","parsed files from wasm",{files:s}),new P_(e,this.cdp,i,r,s))}async dispose(){await this.worker.value?.then(e=>e?.dispose())}defaultSymbols(e){return new vm(e,this.cdp,[])}async getBytecode(e){let n=(await this.cdp.Debugger.getScriptSource({scriptId:e}))?.bytecode;return n?Buffer.from(n,"base64").buffer:void 0}};ec=V([(0,_i.injectable)(),I(0,(0,_i.inject)(x_)),I(1,(0,_i.inject)(rt)),I(2,(0,_i.inject)(ne)),I(3,(0,_i.inject)(Ee))],ec);var vm=class{constructor(e,r,n){this.event=e;this.cdp=r;this.doDisassemble=ye(async()=>{let e=[],r;for await(let n of this.getDisassembledStream()){e=e.concat(n.lines);let i;if(r){let o=new Uint32Array(r.length+n.lines.length);i=r.length,o.set(r),r=o}else r=new Uint32Array(n.lines.length),i=0;for(let o=0;o<n.lines.length;o++)r[i+o]=n.bytecodeOffsets[o]}return r??=new Uint32Array(0),{lines:e,byteOffsetsOfLines:r}});n.push(this.decompiledUrl=e.url.replace(".wasm",".wat")),this.files=n}async getDisassembly(){let{lines:e}=await this.doDisassemble();return this.onDidDisassemble?.(),e.join(`
`)}originalPositionFor(e){return this.disassembledPositionFor(e)}async disassembledPositionFor(e){let{byteOffsetsOfLines:r}=await this.doDisassemble(),n=RC(r,e.base0.columnNumber,(i,o)=>i-o);if(n!==r.length)return{url:this.decompiledUrl,position:new st(n,0)}}async compiledPositionFor(e,r){if(e!==this.decompiledUrl)return[];let{byteOffsetsOfLines:n}=await this.doDisassemble(),{lineNumber:i}=r.base0;if(i>=n.length)return[];let o=n[r.base0.lineNumber];return[new st(0,o)]}dispose(){}async*getDisassembledStream(){let{scriptId:e}=this.event,r=await this.cdp.Debugger.disassembleWasmModule({scriptId:e});if(r)for(yield r.chunk;r.streamId;){let n=await this.cdp.Debugger.nextWasmDisassemblyChunk({streamId:r.streamId});if(!n)return;yield n.chunk}}},P_=class extends vm{constructor(r,n,i,o,s){super(r,n,s);this.moduleId=i;this.worker=o;this.mappedLines=new Map}get codeOffset(){return this.event.codeOffset||0}async originalPositionFor(r){let n=await this.worker.rpc.sendMessage("rawLocationToSourceLocation",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return n.length?{position:new st(n[0].lineNumber,n[0].columnNumber),url:n[0].sourceFileURL}:super.originalPositionFor(r)}async compiledPositionFor(r,n){if(r===this.decompiledUrl)return super.compiledPositionFor(r,n);let{lineNumber:i,columnNumber:o}=n.base0,s=await this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:i,columnNumber:o===0?-1:o,rawModuleId:this.moduleId,sourceFileURL:r});if(o===0&&s.length===0){let a=await this.getMappedLines(r),u=a.find(c=>c>i);if(!a.includes(i)&&u)return this.compiledPositionFor(r,new st(u,0))}return s.filter(a=>a.rawModuleId===this.moduleId).map(a=>new st(0,this.codeOffset+a.startOffset))}dispose(){return this.worker.rpc.sendMessage("removeRawModule",this.moduleId)}async getVariablesInScope(r,n){let i={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId};return(await this.worker.rpc.sendMessage("listVariablesInScope",i)).map(s=>({name:s.name,scope:s.scope,type:s.type,evaluate:async()=>{let a=await this.worker.rpc.sendMessage("evaluate",s.name,i,this.worker.getStopId(r));return a?new L_(a,this.worker.rpc):Sz}}))}async getFunctionStack(r){let n=await this.worker.rpc.sendMessage("getFunctionInfo",{codeOffset:r.base0.columnNumber-this.codeOffset,inlineFrameIndex:r.base0.lineNumber,rawModuleId:this.moduleId});return"frames"in n?n.frames:[]}async getStepSkipList(r,n,i,o){if(i===this.decompiledUrl)return[];let s={codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},a=()=>o&&i?this.worker.rpc.sendMessage("sourceLocationToRawLocation",{lineNumber:o.base0.lineNumber,columnNumber:-1,rawModuleId:this.moduleId,sourceFileURL:i}):[],u;switch(r){case 2:{u=await this.worker.rpc.sendMessage("getInlinedFunctionRanges",s);break}case 1:{let c=await Promise.all([this.worker.rpc.sendMessage("getInlinedCalleesRanges",s),a()]);u=Bs(c);break}case 0:u=await a();break;default:u=[];break}return u.map(c=>new Sn(new st(0,c.startOffset+this.codeOffset),new st(0,c.endOffset+this.codeOffset)))}async evaluate(r,n,i){try{return await this.worker.rpc.sendMessage("evaluate",i,{codeOffset:n.base0.columnNumber-this.codeOffset,inlineFrameIndex:n.base0.lineNumber,rawModuleId:this.moduleId},this.worker.getStopId(r))??void 0}catch(o){throw new Q(Be(o.message))}}getMappedLines(r){let n=this.mappedLines.get(r);if(n)return n;let i=(async()=>{try{let o=await this.worker.rpc.sendMessage("getMappedLines",this.moduleId,r);return new Uint32Array(o?.sort((s,a)=>s-a)||[])}catch{return new Uint32Array}})();return this.mappedLines.set(r,i),i}},Sz={type:"null",description:"no properties"},L_=class t{constructor(e,r){if(this.type=e.type,this.description=e.description,this.linearMemoryAddress=e.linearMemoryAddress,this.linearMemorySize=e.linearMemoryAddress,e.objectId&&e.hasChildren){let n=e.objectId;this.getChildren=ye(()=>this._getChildren(r,n))}}async _getChildren(e,r){return(await e.sendMessage("getProperties",r)).map(i=>({name:i.name,value:new t(i.value,e)}))}};var Xo=Symbol("IScriptSkipper");function oT(t){return typeof t.lineNumber=="number"&&typeof t.columnNumber=="number"&&!!t.source}var sT=()=>({source:null,line:null,column:null,name:null,lastColumn:null,isSourceMapLoadFailure:!0}),Ez=/\?t=[0-9]+$/,Pz=t=>t.endsWith(".hot-update.js")||Ez.test(t),Lz={load:0,resolveLocation:2e3,sourceMapMinPause:1e3,output:1e3,sourceMapCumulativePause:1e4},aT=(t,e)=>e instanceof ft&&e.compiledToSourceUrl.has(t);var uT=2**31-1,Ot=class{constructor(e,r,n,i,o,s,a,u,c){this.sourceMapFactory=r;this.logger=n;this.launchConfig=i;this.initializeConfig=o;this.sourcePathResolver=s;this.scriptSkipper=a;this.resourceProvider=u;this.wasmSymbols=c;this.rootPaths=[];this.scriptsById=new Map;this.onSourceMappedSteppingChangeEmitter=new K;this.onScriptEmitter=new K;this._sourceByOriginalUrl=new li(e=>e.toLowerCase());this._sourceByReference=new Map;this._sourceMapSourcesByUrl=new Map;this._sourceByAbsolutePath=Xs();this._sourceMapTimeouts=Lz;this._fileContentOverridesForTest=new Map;this._temporarilyDisabledSourceMaps=new Set;this._permanentlyDisabledSourceMaps=new Set;this.onScript=this.onScriptEmitter.event;this._statistics={fallbackSourceMapCount:0};this._doSourceMappedStepping=this.launchConfig.sourceMaps;this.onSourceMappedSteppingChange=this.onSourceMappedSteppingChangeEmitter.event;this._dap=e;let l="webRoot"in i?i.webRoot:i.rootPath;l&&(this.rootPaths=[l,Mr(l,"..","ClientApp")]),a.setSourceContainer(this),this.setSourceMapTimeouts({...this.sourceMapTimeouts(),...i.timeouts})}get sources(){return this._sourceByReference.values()}statistics(){return this._statistics}get doSourceMappedStepping(){return this._doSourceMappedStepping}set doSourceMappedStepping(e){e!==this._doSourceMappedStepping&&(this._doSourceMappedStepping=e,this.onSourceMappedSteppingChangeEmitter.fire(e))}setSourceMapTimeouts(e){this._sourceMapTimeouts=e}sourceMapTimeouts(){return this._sourceMapTimeouts}setFileContentOverrideForTest(e,r){r===void 0?this._fileContentOverridesForTest.delete(e):this._fileContentOverridesForTest.set(e,r)}async loadedSources(){let e=[];for(let r of this._sourceByReference.values())e.push(r.toDap());return await Promise.all(e)}source(e){if(e.sourceReference)return this._sourceByReference.get(e.sourceReference);if(e.path)return this._sourceByAbsolutePath.get(e.path)}isSourceSkipped(e){return this.scriptSkipper.isScriptSkipped(e)}addScriptById(e){this.scriptsById.set(e.scriptId,e),this.onScriptEmitter.fire(e)}getScriptById(e){return this.scriptsById.get(e)}getSourceByOriginalUrl(e){return this._sourceByOriginalUrl.get(e)}getSourceReference(e){let r=(0,cT.xxHash32)(e)&uT;for(let n=0;n<65535;n++){if(!this._sourceByReference.has(r))return r;r===uT&&(r=0),r++}return this.logger.assert(!1,"Max iterations exceeding for source reference assignment"),r}async preferredUiLocation(e){let r=!1,n=4;for(;;){let i=await this._originalPositionFor(e);if(!oT(i)){n=r?void 0:i;break}e=i,r=!0,n=void 0}return{...e,isMapped:r,unmappedReason:n}}async currentSiblingUiLocations(e,r){let n=await this._uiLocations(e);return r?n.filter(i=>i.source===r):n}clear(e){this.scriptsById.clear();for(let r of this._sourceByReference.values())this.removeSource(r,e);this._sourceByReference.clear(),this.sourceMapFactory instanceof Uo&&this.sourceMapFactory.invalidateCache()}async _uiLocations(e){let[r,n]=await Promise.all([this.getSourceMapUiLocations(e),this.getCompiledLocations(e)]);return[...r,e,...n]}async getSourceMapUiLocations(e){let r=await this._originalPositionFor(e);if(!oT(r))return[];let n=await this.getSourceMapUiLocations(r);return n.push(r),n}async _originalPositionFor(e){if(!Hr(e.source))return 1;let r=await op.waitForValueWithTimeout(e.source.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!r)return 2;if(this._doSourceMappedStepping)return this._originalPositionForMap(e,r);if(Kv(r)){let n=await r.disassembledPositionFor(new gt(e.lineNumber,e.columnNumber)),i=n&&e.source.sourceMap.sourceByUrl.get(n.url);if(i)return i?{columnNumber:n.position.base1.lineNumber,lineNumber:n.position.base1.lineNumber,source:i}:3}return 0}async _originalPositionForMap(e,r){let n=e.source;if(!Hr(n))return 1;if(this._temporarilyDisabledSourceMaps.has(n)||this._permanentlyDisabledSourceMaps.has(n))return 0;let i=await this.getOptiminalOriginalPosition(r,ZC(e,n.inlineScriptOffset));if(!i)return 3;let o=n.sourceMap.sourceByUrl.get(i.url);if(!o)return 3;let s=i.position.base1;return{lineNumber:s.lineNumber,columnNumber:s.columnNumber,source:o}}async getCompiledLocations(e){if(!(e.source instanceof ft))return[];let r=[];for(let[n,i]of e.source.compiledToSourceUrl){let o=await op.waitForValueWithTimeout(n.sourceMap,this._sourceMapTimeouts.resolveLocation);if(!o)continue;let s;if("decompiledUrl"in o){let a=await o.compiledPositionFor(i,new gt(e.lineNumber,e.columnNumber));if(!a)continue;s=a.map(u=>({lineNumber:u.base1.lineNumber,columnNumber:u.base1.columnNumber,source:n}))}else{let a=this.sourceMapFactory.guardSourceMapFn(o,()=>Fh(i,e,o),sT);if(!a)continue;let{lineNumber:u,columnNumber:c}=QC({lineNumber:a.line||1,columnNumber:(a.column||0)+1},n.inlineScriptOffset),l={lineNumber:u,columnNumber:c,source:n};s=[l,...await this.getCompiledLocations(l)]}r=r.concat(s)}return r}async getOptiminalOriginalPosition(e,r){if(Kv(e))return await e.originalPositionFor(new gt(r.lineNumber,r.columnNumber));let n=this.sourceMapFactory.guardSourceMapFn(e,()=>{let i=e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:C_.SourceMapConsumer.GREATEST_LOWER_BOUND});return i.line!==null?i:e.originalPositionFor({line:r.lineNumber,column:r.columnNumber-1,bias:C_.SourceMapConsumer.LEAST_UPPER_BOUND})},sT);if(!(n.column===null||n.line===null||n.source===null))return{position:new An(n.line,n.column),url:n.source}}async addSource(e,r,n,i,o,s){let a=await this.sourcePathResolver.urlToAbsolutePath({url:e.url});this.logger.verbose("runtime.sourcecreate","Creating source from url",{inputUrl:e.url,absolutePath:a});let u;return e.scriptLanguage==="WebAssembly"?u=new jh(this,e,a):u=new Ks(this,e.url,a,r,n&&this.sourcePathResolver.shouldResolveSourceMap({sourceMapUrl:n,compiledPath:a||e.url})?{sourceMapUrl:n,compiledPath:a||e.url,cacheKey:e.hash}:void 0,i,o,s),this._addSource(u),u}async _addSource(e){let r=e.url&&this._sourceByOriginalUrl.get(e.url);r&&!aT(r,e)&&this.removeSource(r,!0),this._sourceByOriginalUrl.set(e.url,e),this._sourceByReference.set(e.sourceReference,e),e instanceof ft&&this._sourceMapSourcesByUrl.set(e.url,e);let n=this._sourceByAbsolutePath.get(e.absolutePath);(n===void 0||n.url.length>=e.url.length||aT(n,e))&&this._sourceByAbsolutePath.set(e.absolutePath,e),this.scriptSkipper.initializeSkippingValueForSource(e),e.toDap().then(i=>this._dap.loadedSource({reason:"new",source:i})),Bo(e)?this._finishAddSourceWithSourceMap(e):zs(e)&&this._finishAddSourceWithWasm(e)}async _finishAddSourceWithWasm(e){let r=await this.wasmSymbols.loadWasmSymbols(e.event),n=[];for(let i of r.files){let o=await this.sourcePathResolver.urlToAbsolutePath({url:i}),s=o?Ce(o):i;this.logger.verbose("runtime.sourcecreate","Creating wasm source from source map",{inputUrl:i,absolutePath:o,resolvedUrl:s});let a=o&&Ce(o),u=i===r.decompiledUrl?()=>r.getDisassembly():()=>a?this.resourceProvider.fetch(a).then(l=>l.body):Promise.resolve(`Could not read ${i}`),c=new ft(this,s,o,u);c.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,c),n.push(this._addSource(c))}await Promise.all(n),e.sourceMap.value.resolve(r)}async _finishAddSourceWithSourceMap(e){let r=e.sourceMap.value,n;try{n=await this.sourceMapFactory.load(e.sourceMap.metadata)}catch(i){if(this.initializeConfig.clientID==="visualstudio"){let o=e.sourceMap.metadata.sourceMapUrl;try{let s=await this.sourcePathResolver.urlToAbsolutePath({url:o});s&&(e.sourceMap.metadata.sourceMapUrl=Ce(s)),n=await this.sourceMapFactory.load(e.sourceMap.metadata),this._statistics.fallbackSourceMapCount++,this.logger.info("sourcemap.parsing","Failed to process original source-map; falling back to storage source-map",{fallbackSourceMapUrl:e.sourceMap.metadata.sourceMapUrl,originalSourceMapUrl:o,originalSourceMapError:E_(i)})}catch{}}if(n===void 0)return this._dap.output({output:Xh(e.url,i.message).error.format+`
`,category:"stderr"}),r.resolve(void 0)}if(this._sourceByReference.get(e.sourceReference)!==e)return r.resolve(void 0);this.logger.verbose("sourcemap.parsing","Creating sources from source map",{sourceMapId:n.id,metadata:n.metadata});try{await this._addSourceMapSources(e,n)}finally{r.resolve(n)}this.scriptSkipper.initializeSkippingValueForSource(e)}removeSource(e,r=!1){let n=this._sourceByReference.get(e.sourceReference);if(n!==void 0){if(this.logger.assert(e===n,"Expected source to be the same as the existing reference"),this._sourceByReference.delete(e.sourceReference),this._sourceByOriginalUrl.get(e.url)===e&&this._sourceByOriginalUrl.delete(e.url),e instanceof ft){this._sourceMapSourcesByUrl.delete(e.url);for(let[i,o]of e.compiledToSourceUrl)i.sourceMap.sourceByUrl.delete(o)}this._sourceByAbsolutePath.delete(e.absolutePath),Hr(e)&&(this._permanentlyDisabledSourceMaps.delete(e),this._temporarilyDisabledSourceMaps.delete(e)),r||e.toDap().then(i=>this._dap.loadedSource({reason:"removed",source:i})),Bo(e)?e.sourceMap.value.settledValue?.destroy():zs(e)&&e.sourceMap.value.promise.then(i=>i?.dispose()),Hr(e)&&this._removeSourceMapSources(e,r)}}async _addSourceMapSources(e,r){let n=[];for(let i of r.sources){let o=await this.sourcePathResolver.urlToAbsolutePath({url:i,map:r}),s=o?Ce(o):r.computedSourceUrl(i),a=this._sourceMapSourcesByUrl.get(s);if(e===a)continue;if(a)if(Pz(e.url))this.removeSource(a);else{a.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,a);continue}this.logger.verbose("runtime.sourcecreate","Creating source from source map",{inputUrl:i,sourceMapId:r.id,absolutePath:o,resolvedUrl:s});let u=o&&Ce(o),c=this.sourceMapFactory.guardSourceMapFn(r,()=>r.sourceContentFor(i,!0),()=>null),l;if(c){let f=Lu(c);if(f&&(!Gt(f)&&o?l=Mo(o?Ce(o):i,f):l=f),o&&l){let m={sourceMapUrl:l,compiledPath:o};this.sourcePathResolver.shouldResolveSourceMap(m)||(l=void 0)}}let p=new ft(this,s,o,c!==null?()=>Promise.resolve(c):u?()=>this.resourceProvider.fetch(u).then(f=>f.body):()=>e.content(),l?{compiledPath:o||s,sourceMapUrl:l,cacheKey:r.metadata.cacheKey}:void 0,void 0,e.runtimeScriptOffset);p.compiledToSourceUrl.set(e,i),e.sourceMap.sourceByUrl.set(i,p),n.push(this._addSource(p))}await Promise.all(n)}_removeSourceMapSources(e,r){for(let n of e.sourceMap.sourceByUrl.keys()){let i=e.sourceMap.sourceByUrl.get(n);i&&(e.sourceMap.sourceByUrl.delete(n),i.compiledToSourceUrl.delete(e),!i.compiledToSourceUrl.size&&this.removeSource(i,r))}}async waitForSourceMapSources(e){return Hr(e)?[...(await op.waitForSources(e.sourceMap)).values()]:[]}async revealUiLocation(e){this._dap.revealLocationRequested({source:await e.source.toDap(),line:e.lineNumber,column:e.columnNumber})}disableSourceMapForSource(e,r=!1){r?this._permanentlyDisabledSourceMaps.add(e):this._temporarilyDisabledSourceMaps.add(e)}clearDisabledSourceMaps(e){e?this._temporarilyDisabledSourceMaps.delete(e):this._temporarilyDisabledSourceMaps.clear()}};Ot=V([(0,an.injectable)(),I(0,(0,an.inject)(Lr)),I(1,(0,an.inject)(di)),I(2,(0,an.inject)(ne)),I(3,(0,an.inject)(Ee)),I(4,(0,an.inject)(nr)),I(5,(0,an.inject)(We)),I(6,(0,an.inject)(Xo)),I(7,(0,an.inject)(Js)),I(8,(0,an.inject)(_m))],Ot);var lT=t=>t.originalPosition.columnNumber===1&&t.originalPosition.lineNumber===1,pT=500,fT=Symbol("DontCompare");var un=class{constructor(e,r,n,i,o,s,a){this.logger=n;this.launchConfig=i;this.conditionFactory=o;this.suggester=s;this._breakpointsPredictor=a;this._resolvedBreakpoints=new Map;this._totalBreakpointsCount=0;this._launchBlocker=new Set;this._predictorDisabledForTest=!1;this._breakpointsStatisticsCalculator=new Yh;this.entryBreakpointMode=0;this._enabledFilter=()=>!0;this._byDapId=new Map;this._byPath=Xs();this._byRef=new Map;this.moduleEntryBreakpoints=Xs();this._dap=e,this._sourceContainer=r,a?.onLongParse(()=>e.longPrediction({})),r.onScript(u=>{u.source.then(c=>{let l=this._thread;l&&this._byRef.get(c.sourceReference)?.forEach(p=>p.updateForNewLocations(l,u))})}),r.onSourceMappedSteppingChange(()=>{if(this._thread)for(let u of this._byDapId.values())u.refreshUiLocations(this._thread)}),this._scriptSourceMapHandler=async(u,c)=>{if(!n.assert(this._thread,"Expected thread to be set for the breakpoint source map handler"))return[];let l=[],p=[c];for(let f=0;f<p.length;f++)for(let m of p[f]){let h=m.absolutePath,g=h?this._byPath.get(h):void 0;for(let A of g||[])l.push(A.updateForNewLocations(this._thread,u));let b=this._byRef.get(m.sourceReference);for(let A of b||[])l.push(A.updateForNewLocations(this._thread,u));m.sourceMap&&p.push(m.sourceMap.sourceByUrl.values())}return Bs(await Promise.all(l))}}get appliedByPath(){return this._byPath}get appliedByRef(){return this._byRef}hasAtLocation(e){let r=this._byPath.get(e.source.absolutePath)||[],n=this._byRef.get(e.source.sourceReference)||[];return r.concat(n).some(i=>i.originalPosition.columnNumber===e.columnNumber&&i.originalPosition.lineNumber===e.lineNumber)}async moveBreakpoints(e,r,n,i){let o=l=>sE(l,async p=>{let f=await this._sourceContainer.getOptiminalOriginalPosition(n,p.originalPosition);if(!f)return!1;let m=f.position.base1;return p.updateSourceLocation(e,{path:i.absolutePath,sourceReference:i.sourceReference},{lineNumber:m.lineNumber,columnNumber:m.columnNumber,source:i}),!1}),s=r.absolutePath,a=i.absolutePath,u=s?this._byPath.get(s):void 0;if(u&&a){let[l,p]=await o(u);this._byPath.set(s,l),this._byPath.set(a,p)}let c=this._byRef.get(r.sourceReference);if(c){let[l,p]=await o(c);this._byRef.set(r.sourceReference,l),this._byRef.set(i.sourceReference,p)}}async updateEntryBreakpointMode(e,r){if(r===this.entryBreakpointMode)return;let n=[...this.moduleEntryBreakpoints.values()];this.moduleEntryBreakpoints.clear(),this.entryBreakpointMode=r,await Promise.all(n.map(i=>this.ensureModuleEntryBreakpoint(e,i.source)))}async applyEnabledFilter(e,r=fT){if(r!==fT&&this._enabledFilter!==r)return;this._enabledFilter=e||(()=>!0);let n=this._thread;n&&await Promise.all([...this._byDapId.values()].map(i=>this._enabledFilter(i)?i.enable(n):i.disable()))}async getBreakpointLocations(e,r,n,i){let o=n.base1,s=i.base1,[a,u]=await Promise.all([this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:o.lineNumber,columnNumber:o.columnNumber}),this._sourceContainer.currentSiblingUiLocations({source:r,lineNumber:s.lineNumber,columnNumber:s.columnNumber})]);if(a.length!==u.length)return this.logger.warn("internal","Expected to have the same number of start and end locations"),[];let c=[],l=[];for(let p=0;p<a.length;p++){let f=a[p],m=u[p];if(f.source!==m.source){this.logger.warn("internal","Expected to have the same number of start and end scripts");continue}let h=f.source;if(!h.scripts.length)continue;let{scriptId:g}=h.scripts[h.scripts.length-1];c.push(e.cdp().Debugger.getPossibleBreakpoints({restrictToFunction:!1,start:{scriptId:g,...h.offsetSourceToScript(Ki(f))},end:{scriptId:g,...h.offsetSourceToScript(Ki(m))}}).then(b=>{if(b?.locations)return Promise.all(b.locations.map(async A=>{let{lineNumber:D,columnNumber:U=0}=A,$=await this._sourceContainer.currentSiblingUiLocations({source:h,...h.offsetScriptToSource(eD({lineNumber:D,columnNumber:U}))});l.push({breakLocation:A,uiLocations:$})}))}))}return await Promise.all(c),l}setThread(e){this._thread=e,this._thread.cdp().Debugger.on("breakpointResolved",r=>{let n=this._resolvedBreakpoints.get(r.breakpointId);n&&n.updateUiLocations(e,r.breakpointId,[r.location])}),this._thread.setSourceMapDisabler(r=>{let n=[];for(let i of r){let o=this._resolvedBreakpoints.get(i);if(o){let s=this._sourceContainer.source(o.source);Hr(s)&&n.push(s)}}return n});for(let r of this._byPath.values())r.forEach(n=>this._setBreakpoint(n,e)),this.ensureModuleEntryBreakpoint(e,r[0]?.source);for(let r of this._byRef.values())r.forEach(n=>this._setBreakpoint(n,e));"runtimeSourcemapPausePatterns"in this.launchConfig&&this.launchConfig.runtimeSourcemapPausePatterns.length&&this.setRuntimeSourcemapPausePatterns(e,this.launchConfig.runtimeSourcemapPausePatterns),this._byDapId.size>0&&this._installSourceMapHandler(this._thread)}async launchBlocker(){Qh(this.logger,"BreakpointManager.launchBlocker",async()=>{this._predictorDisabledForTest||await Promise.all([...this._launchBlocker])})}setRuntimeSourcemapPausePatterns(e,r){return Promise.all(r.map(n=>this._setBreakpoint(new _p(this,n),e)))}addLaunchBlocker(...e){for(let r of e)this._launchBlocker.add(r),r.finally(()=>this._launchBlocker.delete(r))}setPredictorDisabledForTest(e){this._predictorDisabledForTest=e}_installSourceMapHandler(e){let r=this.launchConfig.perScriptSourcemaps==="yes",n;r?n=Promise.all([this.updateEntryBreakpointMode(e,1),e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler)]).then(()=>!0):this._breakpointsPredictor&&!this.launchConfig.pauseForSourceMap?n=e.setScriptSourceMapHandler(!1,this._scriptSourceMapHandler):n=e.setScriptSourceMapHandler(!0,this._scriptSourceMapHandler),this._sourceMapHandlerInstalled={entryBpSet:n}}async _uninstallSourceMapHandler(e){e.setScriptSourceMapHandler(!1),this._sourceMapHandlerInstalled=void 0}_setBreakpoint(e,r){this._enabledFilter(e)&&this.addLaunchBlocker(Promise.race([Le(pT),e.enable(r)]))}async setBreakpoints(e,r){!this._sourceMapHandlerInstalled&&this._thread&&e.breakpoints?.length&&this._installSourceMapHandler(this._thread);let n=await this._sourceMapHandlerInstalled?.entryBpSet;e.source.path=$n(e.source.path);let i=this._sourceContainer.source(e.source);if(!n&&this._breakpointsPredictor&&!i){let l=this._breakpointsPredictor.predictBreakpoints(e);this.addLaunchBlocker(l),await l}let o=this._thread;if(o?.debuggerReady.hasSettled()===!1){let l=o.debuggerReady.promise;this.addLaunchBlocker(l),await l}let s=l=>{let p={unbound:l.slice(),new:[],list:[]};if(!e.breakpoints)return p;for(let f=0;f<e.breakpoints.length;f++){let m=e.breakpoints[f],h;try{h=new on(this,r[f],e.source,m,this.conditionFactory.getConditionFor(m))}catch(A){if(!(A instanceof Q))throw A;this._dap.output({category:"stderr",output:A.message}),h=new um(this,r[f],e.source,m)}let g=p.unbound.findIndex(A=>A.equivalentTo(h)),b=p.unbound[g];b?.equivalentTo?.(h)?(p.list.push(b),p.unbound.splice(g,1)):(p.new.push(h),p.list.push(h),this._byDapId.set(h.dapId,h))}return p},a=()=>e.source.sourceReference?this._byRef.get(e.source.sourceReference):e.source.path?this._byPath.get(e.source.path):void 0,u=s(a()??[]);if(e.source.sourceReference)this._byRef.set(e.source.sourceReference,u.list);else if(e.source.path)this._byPath.set(e.source.path,u.list);else return{breakpoints:[]};if(u.unbound.length===0&&u.new.length===0)return{breakpoints:[]};if(this._totalBreakpointsCount-=u.unbound.length,await Promise.all(u.unbound.map(l=>(this._byDapId.delete(l.dapId),l.disable()))),this._totalBreakpointsCount+=u.new.length,this._thread&&(this._totalBreakpointsCount===0&&this._sourceMapHandlerInstalled?this._uninstallSourceMapHandler(this._thread):this._totalBreakpointsCount>0&&!this._sourceMapHandlerInstalled&&this._installSourceMapHandler(this._thread)),o&&u.new.length){this.ensureModuleEntryBreakpoint(o,e.source);let l=a(),p=Promise.all(u.new.filter(this._enabledFilter).filter(f=>l?.includes(f)).map(f=>f.enable(o)));this.addLaunchBlocker(Promise.race([Le(pT),p])),await p}let c=await Promise.all(u.list.map(l=>l.toDap()));return this._breakpointsStatisticsCalculator.registerBreakpoints(c),Le(0).then(()=>u.new.forEach(l=>l.markSetCompleted())),{breakpoints:c}}async notifyBreakpointChange(e,r){if(!this._byDapId.has(e.dapId))return;let n=await e.toDap();n.verified&&(this._breakpointsStatisticsCalculator.registerResolvedBreakpoint(e.dapId),this.suggester.notifyVerifiedBreakpoint()),r&&this._dap.breakpoint({reason:"changed",breakpoint:n})}isEntrypointBreak(e,r){return[...this.moduleEntryBreakpoints.values()].some(i=>i.enabled&&i.cdpScriptIds.has(r))?!0:e.some(i=>{let o=this._resolvedBreakpoints.get(i);return o&&(o instanceof gi||lT(o))})}isEntrypointCdpBreak(e){return this._resolvedBreakpoints.get(e)instanceof gi}async shouldPauseAt(e,r,n,i=!1){if(!r.length)return e.reason!=="instrumentation";let o=0,s=i?1:0;return await Promise.all(r.map(async a=>{if(n?.cdpId===a){o++;return}let u=this._resolvedBreakpoints.get(a);if(u instanceof gi){this.entryBreakpointMode===0&&!(u instanceof _p)&&u.disable(),s++;return}u instanceof on&&(await u.testHitCondition(e)?o++:s++)})),o>0||s===0}registerBreakpointsHit(e){for(let r of e){let n=this._resolvedBreakpoints.get(r);n instanceof on&&this._breakpointsStatisticsCalculator.registerBreakpointHit(n.dapId)}}statisticsForTelemetry(){return this._breakpointsStatisticsCalculator.statistics()}ensureModuleEntryBreakpoint(e,r){if(!r.path||(this._byPath.get(r.path)??[]).some(lT))return;let i=gi.getModeKeyForSource(this.entryBreakpointMode,r.path);if(!r.path||this.moduleEntryBreakpoints.has(i))return;let o=new gi(this,r,this.entryBreakpointMode);this.moduleEntryBreakpoints.set(r.path,o),this._setBreakpoint(o,e)}executionContextWasCleared(){for(let e of this._byDapId.values())e.executionContextWasCleared()}async reapply(){let e=[...this._byDapId.values()];if(await Promise.all(e.map(r=>r.disable())),this._thread){let r=this._thread;await Promise.all(e.map(n=>n.enable(r)))}}};un=V([(0,wi.injectable)(),I(0,(0,wi.inject)(Lr)),I(1,(0,wi.inject)(Ot)),I(2,(0,wi.inject)(ne)),I(3,(0,wi.inject)(Ee)),I(4,(0,wi.inject)(im)),I(5,(0,wi.inject)(it)),I(6,(0,wi.inject)(na))],un);var SM=v("crypto"),uc=M(ue());var Ge=class t{static{this.Undefined=new t(void 0)}constructor(e){this.element=e,this.next=t.Undefined,this.prev=t.Undefined}},Ap=class{constructor(){this._first=Ge.Undefined;this._last=Ge.Undefined;this._size=0}get size(){return this._size}isEmpty(){return this._first===Ge.Undefined}clear(){let e=this._first;for(;e!==Ge.Undefined;){let r=e.next;e.prev=Ge.Undefined,e.next=Ge.Undefined,e=r}this._first=Ge.Undefined,this._last=Ge.Undefined,this._size=0}unshift(e){return this._insert(e,!1)}push(e){return this._insert(e,!0)}_insert(e,r){let n=new Ge(e);if(this._first===Ge.Undefined)this._first=n,this._last=n;else if(r){let o=this._last;this._last=n,n.prev=o,o.next=n}else{let o=this._first;this._first=n,n.next=o,o.prev=n}this._size+=1;let i=!1;return()=>{i||(i=!0,this._remove(n))}}shift(){if(this._first!==Ge.Undefined){let e=this._first.element;return this._remove(this._first),e}}pop(){if(this._last!==Ge.Undefined){let e=this._last.element;return this._remove(this._last),e}}applyFilter(e){let r=this._first;for(;r!==Ge.Undefined;){let n=r.next;e(r.element)||this._remove(r),r=n}}_remove(e){if(e.prev!==Ge.Undefined&&e.next!==Ge.Undefined){let r=e.prev;r.next=e.next,e.next.prev=r}else e.prev===Ge.Undefined&&e.next===Ge.Undefined?(this._first=Ge.Undefined,this._last=Ge.Undefined):e.next===Ge.Undefined?(this._last=this._last.prev,this._last.next=Ge.Undefined):e.prev===Ge.Undefined&&(this._first=this._first.next,this._first.prev=Ge.Undefined);this._size-=1}*[Symbol.iterator](){let e=this._first;for(;e!==Ge.Undefined;)yield e.element,e=e.next}};var Mm=M(ue());var Ii=class extends Q{constructor(e){super({id:9243,format:e,showUser:!0}),this._cause={id:9243,format:e,showUser:!0}}};function Ai(t,e,r){if(e.isCancellationRequested)return Promise.reject(new Ii(r||"Task cancelled"));let n=ke(),i=e.onCancellationRequested(n.resolve);return Promise.race([n.promise.then(()=>{throw new Ii(r||"Task cancelled")}),t.then(o=>(i.dispose(),o)).catch(o=>{throw i.dispose(),o})])}function dT(t,e){let r=new ir(e),n=t.map(async i=>{try{return await i(r.token)}finally{r.cancel()}});return Promise.race(n)}var hT=Object.freeze(function(t,e){let r=setTimeout(t.bind(e),0);return{dispose(){clearTimeout(r)}}}),br=Object.freeze({isCancellationRequested:!1,onCancellationRequested:()=>({dispose:()=>{}})}),Cz=Object.freeze({isCancellationRequested:!0,onCancellationRequested:hT}),ir=class t{constructor(e){this._token=void 0;this._parentListener=void 0;this._parentListener=e&&e.onCancellationRequested(this.cancel,this)}static withTimeout(e,r){let n=new t(r),i=n._token=new tc,o=setTimeout(()=>i.cancel(),e);return i.onCancellationRequested(()=>clearTimeout(o)),n}get token(){return this._token||(this._token=new tc),this._token}cancel(){this._token?this._token instanceof tc&&this._token.cancel():this._token=Cz}dispose(e=!1){e&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof tc&&this._token.dispose():this._token=br}},tc=class{constructor(){this._isCancelled=!1;this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?hT:(this._emitter||(this._emitter=new K),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}};var vM=M(v("net"));var VJ=M(yT(),1),GJ=M(U_(),1),XJ=M(W_(),1),gM=M(J_(),1),Q_=M(HM(),1);var yM=gM.default;var bM=(t,e)=>t+Math.floor(Math.random()*(e-t));async function Tm({min:t=53e3,max:e=54e3,attempts:r=1e3,tester:n=zJ}={},i=br){let o=bM(t,e);for(let s=Math.min(r,e-t);;s--)try{return await n(o,i)}catch(a){if(s===0||a instanceof Ii)throw a;o=o===e-1?t:o+1}}function zJ(t,e=br){let r;return new Promise((n,i)=>{let o=vM.createServer();o.listen(t,"127.0.0.1",()=>{let s=o.address();o.close(()=>n(s.port))}),o.on("error",i),r=e.onCancellationRequested(()=>{o.close(),i(new Ii("Port open lookup cancelled"))})}).finally(()=>r?.dispose())}var _M=t=>(e,r)=>wM(new Q_.default({host:"127.0.0.1",...t,port:e}),r),wM=(t,e)=>{let r;return new Promise((n,i)=>{t.on("error",i),t.on("listening",()=>n(t)),r=e.onCancellationRequested(()=>{t.close(),i(new Ii("Port open lookup cancelled"))})}).finally(()=>r?.dispose())};var Rm=async(t,e,r)=>{let n=await Tm({tester:_M(e)},r),i=t.register(n.address().port);return n.on("close",()=>i.dispose()),n.on("error",()=>i.dispose()),n},cn=Symbol("IPortLeaseTracker"),sc=class{constructor(e){this.usedPorts=new Set;this.onRegistered=new K;this.isMandated=e==="remote"}register(e){return this.usedPorts.add(e),this.onRegistered.fire(e),{dispose:()=>this.usedPorts.delete(e)}}isRegistered(e,r=2e3){return this.usedPorts.has(e)?Promise.resolve(!0):e<53e3||e>=54e3?Promise.resolve(!1):dT([()=>Le(r).then(()=>!1),n=>new Promise(i=>{let o=this.onRegistered.event(s=>{s===e&&i(!0)});n.onCancellationRequested(()=>o.dispose())})])}};sc=V([(0,Mm.injectable)(),I(0,(0,Mm.inject)(Qs))],sc);var IM="JsDebug",AM="*";var Z_=class{constructor(){this.replays=new Map}addReplay(e,r,n){let i=this.replays.get(e);return i||(i=new Ap,this.replays.set(e,i)),i.push({event:`${e}.${r}`,params:n})}capture(e,r,n,i){let o=e[r];if(i===0)o.on(n,s=>this.addReplay(r,n,s));else if(i===2){let s;o.on(n,a=>{s?.(),s=this.addReplay(r,n,a)})}else{let s=new Ap;o.on(n,a=>{s.size===i.cap&&s.shift()?.(),s.push(this.addReplay(r,n,a))})}}filter(e,r){let n=this.replays.get(e);n&&n.applyFilter(r)}clearEvent(e,r){let n=`${e}.${r}`;this.filter(e,i=>i.event!==n)}clearDomain(e){this.replays.delete(e)}read(e){return this.replays.get(e)??[]}},km=Symbol("ICdpProxyProvider"),ac=class{constructor(e,r,n){this.cdp=e;this.portTracker=r;this.logger=n;this.disposables=new je;this.replay=new Z_;this.jsDebugApi={subscribe:(e,{events:r})=>{for(let n of r)n.endsWith(AM)?e.pushDisposable(this.cdp.session.onPrefix(n.slice(0,-AM.length),i=>e.send({method:i.method,params:i.params}))):e.pushDisposable(this.cdp.session.on(n,i=>e.send({method:n,params:i})));return{}}};this.replay.capture(e,"CSS","styleSheetAdded",0),this.replay.capture(e,"Debugger","paused",2),this.replay.capture(e,"Runtime","executionContextCreated",{cap:50,type:1}),this.replay.capture(e,"Runtime","consoleAPICalled",{cap:50,type:1}),e.Debugger.on("resumed",()=>{this.replay.clearEvent("Debugger","paused")}),e.CSS.on("fontsUpdated",i=>{i.font&&this.replay.addReplay("CSS","fontsUpdated",i)}),e.CSS.on("styleSheetRemoved",i=>this.replay.filter("CSS",o=>o.params.styleSheetId!==i.styleSheetId))}async proxy(){this.server||(this.server=this.createServer());let{server:e,path:r}=await this.server,n=e.address();return{host:n.address,port:n.port,path:r}}async createServer(){let e=`/${(0,SM.randomBytes)(20).toString("hex")}`,r=await Rm(this.portTracker,{perMessageDeflate:!0,path:e});return this.logger.info("proxyActivity","activated cdp proxy"),r.on("connection",n=>{let i=new ew(n,this.logger);this.logger.info("proxyActivity","accepted proxy connection",{id:i.id}),n.on("close",()=>{this.logger.verbose("proxyActivity","closed proxy connection",{id:i.id}),this.disposables.disposeObject(i)}),n.on("message",async o=>{let s;try{s=JSON.parse(o.toString())}catch(f){return i.send({id:0,error:{code:-32700,message:f.message}})}this.logger.verbose("proxyActivity","received proxy message",s);let{method:a,params:u,id:c=0}=s,[l,p]=a.split(".");try{let f=l===IM?await this.invokeJsDebugDomainMethod(i,p,u):await this.invokeCdpMethod(i,l,p,u);i.send({id:c,result:f})}catch(f){let m=f instanceof ia&&f.cause?f.cause:{code:0,message:f.message};i.send({id:c,error:m})}})}),{server:r,path:e}}dispose(){this.disposables.dispose(),this.server?.then(e=>e.server.close()),this.server=void 0}invokeCdpMethod(e,r,n,i){let o=this.cdp.session.sendOrDie(`${r}.${n}`,i);switch(n){case"enable":for(let s of this.replay.read(r))e.send({method:s.event,params:s.params});break;case"disable":this.replay.clearDomain(r);break;default:}return o}invokeJsDebugDomainMethod(e,r,n){if(!this.jsDebugApi.hasOwnProperty(r))throw new ia(r).setCause(-32601,`${IM}.${r} not found`);return this.jsDebugApi[r](e,n)}};ac=V([(0,uc.injectable)(),I(0,(0,uc.inject)(rt)),I(1,(0,uc.inject)(cn)),I(2,(0,uc.inject)(ne))],ac);var JJ=0,ew=class{constructor(e,r){this.webSocket=e;this.logger=r;this.disposables=new je;this.id=JJ++}pushDisposable(e){this.disposables.push(e)}dispose(){this.disposables.dispose(),this.webSocket.close()}send(e){this.logger.verbose("proxyActivity","send proxy message",e),this.webSocket.send(JSON.stringify(e))}};var PM=v("./vendor/acorn-loose.js"),Rp=M(ue());var tw=Rt(function(t,e,r){let n=r?"variable":"property",i=(l,p,f)=>{if(p!=="function")return n;if(l==="constructor")return"class";let m=String(f);return m.startsWith("class ")||m.includes("[native code]")&&/^[A-Z]/.test(l)?"class":r?"function":"method"},o=l=>{switch(typeof l){case"number":case"boolean":return`${l}`;case"object":return l===null?"null":l.constructor.name||"object";case"function":return`fn(${new Array(l.length).fill("?").join(", ")})`;default:return typeof l}},s=[],a=new Set,u="~",c=t===void 0?this:t;for(;c!=null;c=c.__proto__){u+="~";let l=Object.getOwnPropertyNames(c).filter(p=>p.startsWith(e)&&!p.match(/^\d+$/));for(let p of l){if(a.has(p))continue;a.add(p);let f=Object.getOwnPropertyDescriptor(c,p),m=n,h;try{let g=c[p];m=i(p,typeof f?.value,g),h=o(g)}catch{}s.push({label:p,sortText:u+p.replace(/^_+/,g=>"{".repeat(g.length)),type:m,detail:h})}r=!1}return{result:s,isArray:this instanceof Array}}),EM=Gs(tw.source);var YJ=t=>{switch(t.type){case"ClassDeclaration":case"ClassExpression":return{type:"class",id:t.id};case"MethodDefinition":return{type:t.key?.type==="Identifier"&&t.key.name==="constructor"?"constructor":"method",id:t.key};case"VariableDeclarator":return{type:t.init?.type==="FunctionExpression"||t.init?.type==="ArrowFunctionExpression"?"function":"variable",id:t.id}}};function QJ(t){let e=!1;return To(t,{enter(r){if(r.type==="CallExpression"||r.type==="NewExpression"||r.type==="UnaryExpression"&&r.operator==="delete"||r.type==="ClassBody")return e=!0,0}}),e}var Om=Symbol("ICompletions"),cc=class{constructor(e,r){this.evaluator=e;this.cdp=r}async completions(e){let r=ci(e.expression),n=new Ro(e.expression).convert(e.position),i=()=>Promise.resolve([]);return To(r,{enter:(o,s)=>{let a=o;if(a.start<n&&n<=a.end){if(o.type==="MemberExpression"||o.type==="Identifier"&&s?.type==="MemberExpression"&&!s.computed&&s.object!==o){let u=o.type==="MemberExpression"?o:s;i=u.computed?()=>this.elementAccessCompleter(e,u,n):()=>this.propertyAccessCompleter(e,u,n)}else o.type==="Identifier"&&(i=()=>this.identifierCompleter(e,r,o,n));s=o}}}),i().then(o=>o.sort((s,a)=>s.sortText>a.sortText?1:-1))}async elementAccessCompleter(e,r,n){if(r.property.type!=="Literal"||typeof r.property.value!="string")return[];let i=e.expression.slice($o(r.property)+1,n);return(await this.defaultCompletions(e,i)).filter(s=>s.sortText!=="~~[").map(s=>({...s,text:JSON.stringify(s.text??s.label)+"]",start:$o(r.property),length:Fv(r.property)-$o(r.property)}))}async identifierCompleter(e,r,n,i){let o=[];To(r,{enter(u){let c=YJ(u);c?.id?.type==="Identifier"&&o.push({label:c.id.name,type:c.type,sortText:c.id.name})}});let s=e.expression.slice($o(n),i),a=[...o,...await this.defaultCompletions(e,s)];return this.evaluator.hasReturnValue&&e.executionContextId!==void 0&&Ji.startsWith(s)&&a.push({sortText:`~${Ji}`,label:Ji,type:"variable"}),a}async propertyAccessCompleter(e,r,n){let{result:i,isArray:o}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:EC(e.expression,r.object),prefix:(0,PM.isDummy)(r.property)?"":e.expression.slice($o(r.property),n),throwOnSideEffect:QJ(r)}),s=$o(r.property)-1,a=/^[$a-z_][0-9a-z_$]*$/i;for(let u of i)a.test(u.label)||(u.text=`[${JSON.stringify(u.label)}]`,u.start=s,u.length=1);if(o){let u="index";i.unshift({label:`[${u}]`,text:`[${u}]`,type:"property",sortText:"~~[",start:s,selectionStart:1,selectionLength:u.length,length:1})}return i}async completePropertyAccess({executionContextId:e,stackFrame:r,expression:n,prefix:i,isInGlobalScope:o=!1,throwOnSideEffect:s=!1}){let a={expression:`(${n})`,objectGroup:"console",silent:!0,throwOnSideEffect:s},u=r&&r.callFrameId(),c=await this.evaluator.evaluate(u?{...a,callFrameId:u}:{...a,contextId:e},{stackFrame:r});if(!c||c.exceptionDetails)return{result:[],isArray:!1};if(!c.result.objectId){let l={...a,returnByValue:!0,throwOnSideEffect:!1,expression:EM.expr(`(${n})`,JSON.stringify(i),JSON.stringify(o))},p=await this.evaluator.evaluate(u?{...l,callFrameId:u}:{...l,contextId:e});return!p||p.exceptionDetails?{result:[],isArray:!1}:p.result.value}try{return(await tw({cdp:this.cdp,args:[void 0,i,o],objectId:c.result.objectId,returnByValue:!0})).value}catch{return{result:[],isArray:!1}}finally{this.cdp.Runtime.releaseObject({objectId:c.result.objectId})}}async defaultCompletions(e,r=""){for(let n of["self","global","this"]){let{result:i}=await this.completePropertyAccess({executionContextId:e.executionContextId,stackFrame:e.stackFrame,expression:n,prefix:r,isInGlobalScope:!0});if(e.stackFrame){let o=r.toLowerCase(),s=new Set(i.map(a=>a.label));for(let a of await e.stackFrame.completions())s.has(a.label)||!a.label.toLowerCase().includes(o)||(s.add(a.label),i.push(a))}return i.push(...this.syntheticCompletions(e,r)),i}return this.syntheticCompletions(e,r)}syntheticCompletions(e,r){return this.evaluator.hasReturnValue&&Ji.startsWith(r)?[{sortText:`~${Ji}`,label:Ji,type:"variable"}]:[]}};cc=V([(0,Rp.injectable)(),I(0,(0,Rp.inject)(nn)),I(1,(0,Rp.inject)(rt))],cc);var Vm=M(lt());var Ei=class{constructor(e,r){this._tokens=[];this._separator=r||"",this._budget=e-1-this._separator.length}append(e){if(e.length>this.budget()){this.appendEllipsis();return}this._append(e)}_append(e){this._tokens.length&&(this._budget-=this._separator.length),this._tokens.push(e),this._budget-=e.length}appendEllipsis(){this._tokens[this._tokens.length-1]!=="\u2026"&&this._append("\u2026")}checkBudget(){return this._budget<=0&&this.appendEllipsis(),this._budget>0}budget(){return this._budget-(this._tokens.length?this._separator.length:0)}build(){return this._tokens.join(this._separator)}isEmpty(){return!this._tokens.length}};var YM=M(zM());var hY=1e4;function mY(t,e){if(!t.includes("%"))return[{type:"string",value:t}];let r=[];function n(u){if(!u)return;let c=r[r.length-1];c?.type==="string"?c.value+=u:r.push({type:"string",value:u})}function i(u,c,l){r.push({type:"specifier",specifier:u,precision:c,substitutionIndex:l})}let o=0,s=0,a=new RegExp(`%%|%(?:(\\d+)\\$)?(?:\\.(\\d*))?([${e.join("")}])`,"g");for(let u=a.exec(t);u;u=a.exec(t)){let c=u.index;if(c>o&&n(t.substring(o,c)),u[0]==="%%")n("%");else{let[,l,p,f]=u;l&&Number(l)>0&&(s=Number(l)-1);let m=p?Number(p):void 0;i(f,m,s),++s}o=c+u[0].length}return n(t.substring(o)),r}function sw(t,e,r){let n=mY(t,Array.from(r.keys())),i=new Set,o=r.get("");if(!o)throw new Error("Expected to hav a default formatter");let s=new Ei(hY),a=!1;for(let u=0;s.checkBudget()&&u<n.length;++u){let c=n[u];if(c.type==="string"){s.append(c.value);continue}let l=c.substitutionIndex;if(l>=e.length){s.append("%"+(c.precision||"")+c.specifier);continue}i.add(l),c.specifier==="c"&&(a=!0);let p=r.get(c.specifier)||o;s.append(p(e[l],{budget:s.budget(),quoted:!1}))}a&&s.append("\x1B[0m");for(let u=0;s.checkBudget()&&u<e.length;++u)i.has(u)||(i.add(u),(t||u)&&s.append(" "),s.append(o(e[u],{budget:s.budget(),quoted:!1})));return{result:s.build(),usedAllSubs:i.size===e.length}}function JM(t){try{return new YM.default(t).ansi256().object().ansi256}catch{}}function QM(t){let e=/\s*(.*?)\s*:\s*(.*?)\s*(?:;|$)/g,r="\x1B[0m",n=e.exec(t);for(;n!==null;){if(n.length===3)switch(n[1]){case"color":let i=JM(n[2]);i&&(r+=`\x1B[38;5;${i}m`);break;case"background":case"background-color":let o=JM(n[2]);o&&(r+=`\x1B[48;5;${o}m`);break;case"font-weight":n[2]==="bold"&&(r+="\x1B[1m");break;case"font-style":n[2]==="italic"&&(r+="\x1B[3m");break;case"text-decoration":n[2]==="underline"&&(r+="\x1B[4m");break;default:}n=e.exec(t)}return r}var eR=t=>t.replace(/\\/gm,"\\\\").replace(/\n/gm,"\\n").replace(/\r/gm,"\\r").replace(/\t/gm,"\\t"),gY={budget:1e5,quoted:!0},ZM={budget:1e3,quoted:!0,postProcess:eR},yY={budget:1/0,quoted:!1},bY={budget:1e3,quoted:!0,postProcess:eR},vY={budget:1e5,quoted:!0},jm=t=>{switch(t){case"repl":return gY;case"hover":return ZM;case"propertyValue":return ZM;case"watch":return bY;case"copy":case"clipboard":return yY;default:return vY}};var _Y=30,wY=100,aw=20,IY=1e4,AY=3,tR=120,uw=new Set(["null","regexp","date"]);function pa(t){return t.type==="function"||t.type==="object"&&!uw.has(t.subtype)}function cw(t){return t.subtype==="array"||t.subtype==="typedarray"}function fa(t,e,r){let n=jm(e),i=Wm(t,n,r);return t.preview?.subtype==="regexp"?i:n.postProcess?.(i)??i}function Wm(t,e,r){return t.type==="function"?t.description?oR(t.description,e.budget):"<function>":t.type==="object"&&t.subtype==="node"?t.description:"preview"in t&&t.preview?qm(t.preview,e.budget,r):iR(t,e.budget,e.quoted,r)}function qm(t,e,r){return cw(t)?SY(t,e):t.subtype==="internal#entry"?pi(t.description||"",e):t.type==="function"?oR(t.description,e):pa(t)?EY(t,e,r):LY(t,e,r)}function SY(t,e){let r=new Ei(e),n=t.description,i=n.match(/[^(]*\(([\d]+)\)/);if(!i)return n;let o=parseInt(i[1],10);n.startsWith("Array(")&&(n=n.substring(5)),r.append(pi(n,r.budget())),r.append(" ");let s=new Ei(r.budget()-2,", "),a=-1;for(let u of t.properties){if(!s.checkBudget())break;if(isNaN(u.name))continue;let c=parseInt(u.name,10);c>a+1&&s.appendEllipsis(),a=c,s.append(Bp(u,s.budget()))}o>a+1&&s.appendEllipsis();for(let u of t.properties){if(!s.checkBudget())break;isNaN(u.name)&&s.append(Bp(u,s.budget(),u.name))}return t.overflow&&s.appendEllipsis(),r.append("["+s.build()+"]"),r.build()}function EY(t,e,r){let n=new Ei(e," ");t.description!=="Object"&&n.append(pi(t.description,n.budget()));let i=new Map,o=t.properties||[];for(let f of o)i.set(f.name,f);let s=i.get("[[PrimitiveValue]]");if(s)return n.append(`(${Bp(s,n.budget()-2)})`),n.build();let a=i.get("[[PromiseStatus]]"),u=i.get("[[PromiseValue]]");if(a&&u)return a.value==="pending"?n.append(`{<${a.value}>}`):n.append(`{${Bp(u,n.budget()-2,`<${a.value}>`)}}`),n.build();let c=i.get("[[GeneratorStatus]]");if(c)return n.append(`{<${c.value}>}`),n.build();let l=new Ei(n.budget()-2,", ");for(let f of o){if(!l.checkBudget())break;l.append(Bp(f,l.budget(),f.name))}for(let f of t.entries||[]){if(!l.checkBudget())break;if(f.key){let m=qm(f.key,Math.min(aw,l.budget()),r),h=qm(f.value,Math.min(aw,l.budget()-m.length-4),r);l.append(fc(m," => ",h,l.budget()))}else l.append(qm(f.value,Math.min(aw,l.budget()),r))}t.overflow&&l.appendEllipsis();let p=l.build();return p?n.append("{"+p+"}"):n.isEmpty()&&n.append("{}"),n.build()}function rR(t,e){return t.length<=e?t:"\u2026"}function PY(t,e){return t.length>=e?t.slice(0,e-1)+"\u2026":t}function LY(t,e,r){if(t.type==="object"&&t.subtype==="null")return rR("null",e);if(t.type==="undefined")return rR("undefined",e);if(t.type==="string"){let n=t.description??t.value;return r?.hex&&(n=Buffer.from(n,"utf8").toString("hex")),Iu(n,e)}return t.type==="number"||t.type==="bigint"?Fp(t,!1,e,r):PY(t.description||"",e)}function fc(t,e,r,n){return t===void 0?Iu(r,n):t.length+e.length>n?pi(t,n):`${t}${e}${Iu(r,n-t.length-e.length)}`}function Bp(t,e,r){return e=Math.min(e,wY),t.type==="function"?fc(r,": ","\u0192",e):t.type==="object"&&t.value==="Object"?fc(r,": ","{\u2026}",e):typeof t.value>"u"?fc(r,": ",`<${t.type}>`,e):t.type==="string"?fc(r,": ",`'${t.value}'`,e):fc(r,": ",t.value??"unknown",e)}function iR(t,e,r,n){if(t.type==="string"){let i=t.value||(t.description?t.description:"");n?.hex&&(i=Buffer.from(i,"utf8").toString("hex"),r=!1);let o=Iu(i,r?e-2:e);return r?`'${o}'`:o}return t.type==="undefined"?"undefined":t.subtype==="null"?"null":t.type==="bigint"||t.type==="number"?Fp(t,!1,e,n):t.description?pi(t.description,Math.max(e,1e5)):pi(String("value"in t?t.value:t.description),e)}function oR(t,e){let r=new Ei(e),n=t.replace(/^function [gs]et /,"function ").replace(/^function [gs]et\(/,"function(").replace(/^[gs]et /,""),i=n.match(/^(async\s+function)/),o=n.startsWith("function*"),s=n.startsWith("*"),a=!o&&n.startsWith("function"),u=n.startsWith("class ")||n.startsWith("class{"),c=n.indexOf("=>"),l=!i&&!o&&!a&&!u&&c>0,p;if(u){p=n.substring(5);let h=/^[^{\s]+/.exec(p.trim()),g="";h&&(g=h[0].trim()||""),m("class",p,g)}else if(i)p=n.substring(i[1].length),m("async \u0192",p,f(p));else if(o)p=n.substring(9),m("\u0192*",p,f(p));else if(s)p=n.substring(1),m("\u0192*",p,f(p));else if(a)p=n.substring(8),m("\u0192",p,f(p));else if(l){let h=n;n.length>_Y&&(h=n.substring(0,c+2)+" {\u2026}"),m("",n,h)}else m("\u0192",n,f(n));return r.build();function f(h){let g=h.indexOf("("),b=h.match(/\)\s*{/),A=b&&b.index||0;if(g!==-1&&b&&A>g){let D=h.substring(0,g).trim()||"",U=h.substring(g,A+1);return D+U}return"()"}function m(h,g,b){r.checkBudget()&&(h.length&&r.append(h+" "),g=g.trim(),g.endsWith(" { [native code] }")&&(g=g.substring(0,g.length-18)),r.budget()>=g.length?r.append(g):r.append(b.replace(/\n/g," ")))}}function da(t){let e=t;if(e.type!=="object"||e.subtype==="null")return{title:iR(e,IY,!1,void 0)};let r=e.description??e.className??"Error",n=/^\s+at\s/m.exec(r);if(!n){let i=r.lastIndexOf(`
`);return i===-1?{title:r}:{title:r.substring(0,i)}}return{title:r.substring(0,n.index-1),stackTrace:r.substring(n.index+2)}}function Fp(t,e,r,n){if(t.type==="number"){if("unserializableValue"in t)return t.unserializableValue;let s=t.value||+t.description;return n?.hex?s.toString(16):String(s)}if(t.type==="bigint"){let s=t.unserializableValue||t.description;return n?.hex?BigInt(s.slice(0,-1)).toString(16):s}let i=t,o=typeof i.value=="number"?i.value:+String(i.description);return pi(String(e?Math.floor(o):o),r)}function xY(t,e){return Iu(String(typeof t.value<"u"?t.value:t.description),e)}function sR(t){let e=[],r=new Set([void 0]),n=new Map;for(let l of t.properties.filter(p=>p.valuePreview)){let p=new Map;p.set(void 0,l.name),n.set(void 0,Math.max(n.get(void 0)||0,l.name.length)),e.push(p),l.valuePreview?.properties.map(f=>{f.value&&(r.add(f.name),p.set(f.name,f.value),n.set(f.name,Math.max(n.get(f.name)||0,f.value.length)))})}for(let l of r.values())l&&n.set(l,Math.max(n.get(l)||0,l.length));let i=Array.from(n.values()).reduce((l,p)=>l+p,0),o=tR-4-(r.size-1)*3;if(i>o){let l=o/i;for(let p of n.keys()){let f=Math.max(AY,n.get(p)*l|0);n.set(p,f)}}let s=[];for(let l of r.values())s.push("-".repeat(n.get(l)));let a="[-"+s.join("-|-")+"-]",u=[];u.push(a.replace("[","\u256D").replace(/\|/g,"\u252C").replace("]","\u256E").replace(/-/g,"\u2504"));let c=[];for(let l of r.values())c.push(nR(l||"",n.get(l)));u.push("\u250A "+c.join(" \u250A ")+" \u250A"),u.push(a.replace("[","\u251C").replace(/\|/g,"\u253C").replace("]","\u2524").replace(/-/g,"\u2504"));for(let l of e){let p=[];for(let f of r.values())p.push(nR(l.get(f)||"",n.get(f)));u.push("\u250A "+p.join(" \u250A ")+" \u250A")}return u.push(a.replace("[","\u2570").replace(/\|/g,"\u2534").replace("]","\u256F").replace(/-/g,"\u2504")),u.map(l=>pi(l,tR)).join(`
`)}var lw=new Map([["",(t,e)=>Wm(t,e)],["s",(t,e)=>xY(t,e.budget)],["i",(t,e)=>Fp(t,!0,e.budget,void 0)],["d",(t,e)=>Fp(t,!0,e.budget,void 0)],["f",(t,e)=>Fp(t,!1,e.budget,void 0)],["c",t=>QM(t.value)],["o",(t,e)=>Wm(t,e)],["O",(t,e)=>Wm(t,e)]]);function nR(t,e){return t.length===e?t:t.length<e?t+" ".repeat(e-t.length):pi(t,e)}var uR=Rt(function(){return this});var Gm=class{constructor(e,r){this.protoObj=e;this.cdp=r}async toDap(e){if(!this.protoObj.objectId)return{category:"stderr",output:Vm.t("Only objects can be queried")};let r=await this.cdp.Runtime.queryObjects({prototypeObjectId:this.protoObj.objectId,objectGroup:"console"});if(await this.cdp.Runtime.releaseObject({objectId:this.protoObj.objectId}),!r)return{category:"stderr",output:Vm.t("Could not query the provided object")};let n;try{n=await uR({cdp:this.cdp,args:[],objectId:r.objects.objectId,objectGroup:"console",generatePreview:!0})}catch(s){return{category:"stderr",output:Vm.t(s.message)}}let i="\x1B[32mobjects: "+fa(n,"repl")+"\x1B[0m";return{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput(i,[n]).id}}};var cR=/^(\W*at .*\()(.*):(\d+):(\d+)(\))$/,lR=/^(\W*at )(.*):(\d+):(\d+)$/,Qo=class{constructor(e){this.stack=e}static isStackLike(e){return cR.test(e)||lR.test(e)}*[Symbol.iterator](){for(let e of this.stack.split(`
`)){let r=cR.exec(e)||lR.exec(e);if(!r){yield e+`
`;continue}let[,n,i,o,s,a]=r;n&&(yield n),yield new pw(i,new gt(Number(o),Number(s))),a&&(yield a),yield`
`}}},pw=class{constructor(e,r){this.path=e;this.position=r}toString(){return`${this.path}:${this.position.lineNumber}:${this.position.columnNumber}`}};var Cr=M(lt());var Up=M(ue());async function fw(t){let e=await t.uiLocation();return e?e.source.blackboxed()?2:Hr(e.source)&&!e.isMapped&&e.unmappedReason===3?1:0:0}var CY=new Set(["breakpoint","exception","entry"]),DY=256,Zo=class{constructor(e,r){this.launchConfig=e;this.logger=r;this._smartStepCount=0}resetSmartStepCount(){this._smartStepCount>0&&(this.logger.verbose("internal",`smartStep: skipped ${this._smartStepCount} steps`),this._smartStepCount=0)}async getSmartStepDirection(e,r){if(!this.launchConfig.smartStep||CY.has(e.reason))return;let n=(await e.stackTrace.loadFrames(1)).find(Os(sr));if((n&&await fw(n))===0){this.resetSmartStepCount();return}return this._smartStepCount++>DY?2:r?.reason==="step"?r.direction:0}};Zo=V([(0,Up.injectable)(),I(0,(0,Up.inject)(Ee)),I(1,(0,Up.inject)(ne))],Zo);var pR=Rt(function(){return[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")]}),fR=Gs(function(t,e){let r={},n="<<default preview>>";if(typeof this!="object"||!this)return r;for(let[i,o]of Object.entries(this)){if(e)try{let s=e.call(o,n);if(s!==n){r[i]=String(s);continue}}catch(s){r[i]=`<<indescribable>>${JSON.stringify([String(s),i])}`;continue}if(typeof o=="object"&&o){let s;for(let a of runtimeArgs[0])try{s=o[a]();break}catch{}!s&&!String(o.toString).includes("[native code]")&&(s=String(o)),s&&!s.startsWith("[object ")&&(r[i]=s.length>=t?s.slice(0,t)+"\u2026":s)}}return r}),Xm=Gs(function(t,e){if(e)try{let r="<<default preview>>",n=e.call(this,r);if(n!==r)return String(n)}catch(r){return`<<indescribable>>${JSON.stringify([String(r),"object"])}`}if(typeof this=="object"&&this){let r;for(let n of[Symbol.for("debug.description"),Symbol.for("nodejs.util.inspect.custom")])try{r=this[n]();break}catch{}if(!r&&!String(this.toString).includes("[native code]")&&(r=String(this)),r&&!r.startsWith("[object "))return r.length>=t?r.slice(0,t)+"\u2026":r}});var De=M(lt()),ER=v("crypto");var ln=class t{constructor(e=process.hrtime()){this.value=e}get ms(){return this.s*1e3}get s(){return this.value[0]+this.value[1]/1e9}elapsed(){return new t().subtract(this)}subtract(e){let r=this.value[1]-e.value[1],n=this.value[0]-e.value[0];return r<0&&(r+=1e9,n--),new t([n,r])}};var dc=class{constructor(e,r,n,i,o,s){this.launchConfig=e;this.targetInfo=r;this.parentTarget=n;this.targetOriginValue=i;this.cdp=o;this.logger=s;this.onNameChanged=new K().event;this.attached=!1;this.isWaitingForDebugger=!0;o.pause()}id(){return this.targetInfo.targetId}name(){return this.targetInfo.title}fileName(){return this.targetInfo.url}type(){return"node"}parent(){return this.parentTarget}children(){return[]}canStop(){return!1}stop(){}canRestart(){return!1}restart(){}canAttach(){return!this.attached}async attach(){return await this.cdp.Runtime.enable({}),await this.cdp.Debugger.enable({}),this.attached=!0,this.cdp}canDetach(){return this.attached}async detach(){await this.cdp.Debugger.resume({}),await this.cdp.NodeWorker.detach({sessionId:this.targetInfo.targetId}),this.attached=!1}targetOrigin(){return this.targetOriginValue}afterBind(){return this.cdp.resume(),Promise.resolve()}async runIfWaitingForDebugger(){this.isWaitingForDebugger=!1,await this.cdp.Runtime.runIfWaitingForDebugger({})}initialize(){return Promise.resolve()}waitingForDebugger(){return this.isWaitingForDebugger}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Ce(e):e}executionContextName(){return this.targetInfo.title}};var Ke=M(lt()),Km=new Map;function zm(){if(Km.size)return Km;function t(o,s){for(let a of s)a.group=o,Km.set(a.id,a)}function e(o,s){let a=s||o;return{id:"instrumentation:"+o,title:a,group:"",details:u=>{if(o==="webglErrorFired"){let c=u.webglErrorName;return c=c.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),{short:c,long:Ke.t('Paused on WebGL Error instrumentation breakpoint, error "{0}"',c)}}return o==="scriptBlockedByCSP"&&u.directiveText?{short:Ke.t('CSP violation "{0}"',u.directiveText),long:Ke.t('Paused on Content Security Policy violation instrumentation breakpoint, directive "{0}"',u.directiveText)}:{short:a,long:Ke.t('Paused on instrumentation breakpoint "{0}"',a)}},apply:async(u,c)=>(c?await u.EventBreakpoints.setInstrumentationBreakpoint({eventName:o}):await u.EventBreakpoints.removeInstrumentationBreakpoint({eventName:o}))?!0:!!(c?await u.DOMDebugger.setInstrumentationBreakpoint({eventName:o}):await u.DOMDebugger.removeInstrumentationBreakpoint({eventName:o}))}}function r(o,s,a){let u=s===void 0?"*":typeof s=="string"?[s]:s;return{id:"listener:"+o,title:a||o,group:"",details:c=>{let l=(c.targetName||"*").toLowerCase();return{short:l+"."+o,long:Ke.t('Paused on event listener breakpoint "{0}", triggered on "{1}"',o,l)}},apply:async(c,l)=>{let p=!0;for(let f of u)l?p=p&&!!await c.DOMDebugger.setEventListenerBreakpoint({eventName:o,targetName:f}):p=p&&!!await c.DOMDebugger.removeEventListenerBreakpoint({eventName:o,targetName:f});return p}}}t("Ad Auction Worklet",[e("beforeBidderWorkletBiddingStart",Ke.t("Bidder Bidding Phase Start")),e("beforeBidderWorkletReportingStart",Ke.t("Bidder Reporting Phase Start")),e("beforeSellerWorkletScoringStart",Ke.t("Seller Scoring Phase Start")),e("beforeSellerWorkletReportingStart",Ke.t("Seller Reporting Phase Start"))]),t("Animation",[e("requestAnimationFrame",Ke.t("Request Animation Frame")),e("cancelAnimationFrame",Ke.t("Cancel Animation Frame")),e("requestAnimationFrame.callback",Ke.t("Animation Frame Fired"))]),t("Canvas",[e("canvasContextCreated",Ke.t("Create canvas context")),e("webglErrorFired",Ke.t("WebGL Error Fired")),e("webglWarningFired",Ke.t("WebGL Warning Fired"))]),t("Clipboard",[r("copy"),r("cut"),r("paste"),r("beforecopy"),r("beforecut"),r("beforepaste")]),t("Control",[r("resize"),r("scroll"),r("scrollend"),r("zoom"),r("focus"),r("blur"),r("select"),r("change"),r("submit"),r("reset")]),t("Device",[r("deviceorientation"),r("devicemotion")]),t("DOM Mutation",[r("DOMActivate"),r("DOMFocusIn"),r("DOMFocusOut"),r("DOMAttrModified"),r("DOMCharacterDataModified"),r("DOMNodeInserted"),r("DOMNodeInsertedIntoDocument"),r("DOMNodeRemoved"),r("DOMNodeRemovedFromDocument"),r("DOMSubtreeModified"),r("DOMContentLoaded")]),t("Drag / Drop",[r("drag"),r("dragstart"),r("dragend"),r("dragenter"),r("dragover"),r("dragleave"),r("drop")]),t("Geolocation",[e("Geolocation.getCurrentPosition","getCurrentPosition"),e("Geolocation.watchPosition","watchPosition")]),t("Keyboard",[r("keydown"),r("keyup"),r("keypress"),r("input")]),t("Load",[r("load"),r("beforeunload"),r("unload"),r("abort"),r("error"),r("hashchange"),r("popstate"),r("navigate"),r("navigatesuccess"),r("navigateerror"),r("currentchange"),r("nagivateto"),r("navigatefrom"),r("finish"),r("dispose")]);let n=["audio","video"];t("Media",[r("play",n),r("pause",n),r("playing",n),r("canplay",n),r("canplaythrough",n),r("seeking",n),r("seeked",n),r("timeupdate",n),r("ended",n),r("ratechange",n),r("durationchange",n),r("volumechange",n),r("loadstart",n),r("progress",n),r("suspend",n),r("abort",n),r("error",n),r("emptied",n),r("stalled",n),r("loadedmetadata",n),r("loadeddata",n),r("waiting",n)]),t("Mouse",[r("auxclick"),r("click"),r("dblclick"),r("mousedown"),r("mouseup"),r("mouseover"),r("mousemove"),r("mouseout"),r("mouseenter"),r("mouseleave"),r("mousewheel"),r("wheel"),r("contextmenu")]),t("Notification",[e("Notification.requestPermission","requestPermission")]),t("Parse",[e("Element.setInnerHTML",Ke.t("Set innerHTML")),e("Document.write","document.write")]),t("Picture-in-Picture",[r("enterpictureinpicture","video"),r("leavepictureinpicture","video"),r("resize","PictureInPictureWindow"),r("enter","documentPictureInPicture")]),t("Pointer",[r("pointerover"),r("pointerout"),r("pointerenter"),r("pointerleave"),r("pointerdown"),r("pointerup"),r("pointermove"),r("pointercancel"),r("gotpointercapture"),r("lostpointercapture"),r("pointerrawupdate")]),t("Script",[e("scriptFirstStatement",Ke.t("Script First Statement")),e("scriptBlockedByCSP",Ke.t("Script Blocked by Content Security Policy"))]),t("Timer",[e("setTimeout"),e("clearTimeout"),e("setInterval"),e("clearInterval"),e("setTimeout.callback",Ke.t("setTimeout fired")),e("setInterval.callback",Ke.t("setInterval fired"))]),t("Touch",[r("touchstart"),r("touchmove"),r("touchend"),r("touchcancel")]),t("WebAudio",[e("audioContextCreated",Ke.t("Create AudioContext")),e("audioContextClosed",Ke.t("Close AudioContext")),e("audioContextResumed",Ke.t("Resume AudioContext")),e("audioContextSuspended",Ke.t("Suspend AudioContext"))]),t("Window",[e("DOMWindow.close","window.close")]),t("Worker",[r("message"),r("messageerror")]);let i=["xmlhttprequest","xmlhttprequestupload"];return t("XHR",[r("readystatechange",i),r("load",i),r("loadstart",i),r("loadend",i),r("abort",i),r("error",i),r("progress",i),r("timeout",i)]),Km}var dw=Gs(function(t,e){let r=" ".repeat(e),n=`
`;function i(s){if(s instanceof Uint8Array)return Uint8Array;if(s instanceof Uint8ClampedArray)return Uint8ClampedArray;if(s instanceof Uint16Array)return Uint16Array;if(s instanceof Uint32Array)return Uint32Array;if(s instanceof BigUint64Array)return BigUint64Array;if(s instanceof Int8Array)return Int8Array;if(s instanceof Int32Array)return Int32Array;if(s instanceof BigInt64Array)return BigInt64Array;if(s instanceof Float32Array)return Float32Array;if(s instanceof Float64Array)return Float64Array}function o(s,a=0,u=[]){switch(typeof s){case"bigint":return`${s}n`;case"boolean":return s.toString();case"function":{let p=s.toString().replace(/^[^\s]+\(/,"function(").split(/\r?\n/g),f=/^$/;for(let m of p){let h=/^[ \t]+/.exec(m);if(h){f=new RegExp(`^[ \\t]{0,${h[0].length}}`);break}}return p.map((m,h)=>h===0?m:(m=m.replace(f,""),h===p.length-1?r.repeat(a)+m:r.repeat(a+1)+m)).join(n)}case"number":return`${s}`;case"object":if(s===null)return"null";if(u.includes(s))return"[Circular]";if(s instanceof Date)return`"${s.toISOString()}"`;if(typeof Node<"u"&&t instanceof Node)return t.outerHTML;let c=i(s);if(c)return`new ${c.name}([${s.join(", ")}])`;if(s instanceof ArrayBuffer)return`new Uint8Array([${new Uint8Array(s).join(", ")}]).buffer`;if(s instanceof Array)return["[",...s.map(p=>r.repeat(a+1)+o(p,a+1,[...u,s])+","),r.repeat(a)+"]"].join(n);let l=s;return["{",...Object.keys(l).map(p=>r.repeat(a+1)+(/^[$a-z_][0-9a-z_$]*$/i.test(p)?p:JSON.stringify(p))+": "+o(l[p],a+1,[...u,s])+","),r.repeat(a)+"}"].join(n);case"string":return JSON.stringify(s);case"symbol":return s.toString();case"undefined":return"undefined";default:return String(s)}}try{return o(t)}catch{return""+t}}),dR=Rt(`
  function(spaces2) {
    const result = ${dw.expr("this","spaces2")};
    return result;
  }
`);var Mn=M(lt());var ha=M(ue());var hR=Rt(function(){let t={__proto__:this.__proto__},e=Object.getOwnPropertyNames(this);for(let r=0;r<e.length;++r){let n=e[r],i=n>>>0;if(String(i>>>0)===n&&i>>>0!==4294967295)continue;let o=Object.getOwnPropertyDescriptor(this,n);o&&Object.defineProperty(t,n,o)}return t});var mR=Rt(function(t,e){let r={},n=t===-1?0:t,i=e===-1?this.length:t+e;for(let o=n;o<i&&o<this.length;++o){let s=Object.getOwnPropertyDescriptor(this,o);s&&Object.defineProperty(r,o,s)}return r});var HR=Rt(function(t){return t.call(this)});var hw=Rt(function(t,e){let{buffer:r,byteLength:n,byteOffset:i}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,o=i+Math.min(t,n),s=Math.max(0,Math.min(e,n-t));return a(new Uint8Array(r,o,s));function a(u){let c="0123456789abcdef",l="";for(let p=0;p<u.length;p++){let f=u[p];l+=c[f>>>4]+c[f&15]}return l}});var mw=Rt(function(t,e){let r=u(e),{buffer:n,byteLength:i,byteOffset:o}=this instanceof ArrayBuffer?new DataView(this):this instanceof WebAssembly.Memory?new DataView(this.buffer):this,s=o+Math.min(t,i),a=Math.max(0,Math.min(r.length,i-t));return new Uint8Array(n,s,a).set(r.subarray(0,a)),a;function u(c){let l=new Uint8Array(c.length>>>1);for(let p=0;p<c.length;p+=2)l[p>>>1]=parseInt(c.slice(p,p+2),16);return l}});var Vp=(()=>{let t=0,e=2147483647-1;return()=>t++%e+1})(),Pw=t=>{if(typeof t=="string")return{value:t};let e=t;return e.objectId?{objectId:e.objectId}:e.unserializableValue?{unserializableValue:e.unserializableValue}:{value:e.value}},TY=new Set(["typedarray","dataview","arraybuffer","webassemblymemory"]);var wR=1024,MY=/^[$a-z_][0-9a-z_$]*$/i,RY=/^#[0-9a-z_$]+$/i,kY=t=>t.hasOwnProperty("configurable"),gR=(t,e,r)=>{let n=PC(t,Ph(e),r);return Gi(n)},yR="<<indescribable>>",IR=t=>{if(!t.startsWith(yR))return t;let e,r;try{[e,r]=JSON.parse(t.slice(yR.length))}catch{return t}return Mn.t("{0} (couldn't describe: {1})",e,r)},Hw=t=>!!t&&typeof t=="object"&&"readMemory"in t&&"writeMemory"in t,bR={PARAMETER:{name:Mn.t("Parameters"),sortOrder:-10},LOCAL:{name:Mn.t("Locals"),sortOrder:-9},GLOBAL:{name:Mn.t("Globals"),sortOrder:-8}},jp=class t{constructor(e,r,n,i,o,s,a){this.cdp=e;this.parent=r;this.vars=i;this.locationProvider=o;this.currentRef=s;this.settings=a;this.name=n.name,this.presentationHint=n.presentationHint,this.sortOrder=n.sortOrder||0}get customDescriptionGenerator(){return this.settings.customDescriptionGenerator}createVariable(e,r,...n){let i=new e(new t(this.cdp,this.currentRef?.(),r,this.vars,this.locationProvider,()=>i,this.settings),...n);return i.id>0&&this.vars.add(i),i}createVariableByType(e,r,n){if(cw(r))return this.createVariable(Qm,e,r);if(r.objectId){if(r.subtype==="map"||r.subtype==="set")return this.createVariable(_w,e,r,n);if(!uw.has(r.subtype))return this.createVariable(Wp,e,r,n)}return this.createVariable(pn,e,r)}async getDescriptionSymbols(e){return this.settings.descriptionSymbols??=pR({cdp:this.cdp,args:[],objectId:e}).then(r=>({objectId:r.objectId}),()=>({value:[]})),await this.settings.descriptionSymbols}async createObjectPropertyVars(e,r){let n=[];if(this.settings.customPropertiesGenerator){let{result:c,errorDescription:l}=await this.evaluateCodeForObject(e,this.settings.customPropertiesGenerator,[]);c&&c.type!=="undefined"?e=c:n.push([this.createVariable(vw,{name:"",sortOrder:-1},c,c?.description||l||Mn.t("Unknown error"))])}if(!e.objectId)return[];r&&this.cdp.DotnetDebugger.setEvaluationOptions({options:r,type:"variable"});let[i,o,s]=await Promise.all([this.cdp.Runtime.getProperties({objectId:e.objectId,accessorPropertiesOnly:!0,ownProperties:!1,generatePreview:!0}),this.cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0,generatePreview:!0}),this.cdp.Runtime.callFunctionOn({functionDeclaration:fR.decl(`${wR}`,this.settings.customDescriptionGenerator||"null"),arguments:[await this.getDescriptionSymbols(e.objectId)],objectId:e.objectId,throwOnSideEffect:!0,returnByValue:!0}).then(c=>c?.result.value||{}).catch(()=>({}))]);if(!i||!o)return[];let a=new Map,u=[];for(let c of i.result){if(c.symbol){u.push(c);continue}c.name==="__proto__"&&o.internalProperties?.some(l=>l.name==="[[Prototype]]")||a.set(c.name,c)}for(let c of o.result)c.get||c.set||(c.symbol?u.push(c):a.set(c.name,c));for(let c of[a.values(),u.values()])for(let l of c)n.push(this.createPropertyVar(l,e,s?.hasOwnProperty(l.name)?IR(s[l.name]):void 0));for(let c of o.privateProperties??[])n.push(this.createPropertyVar(c,e,void 0,{presentationHint:{visibility:"private"},sortOrder:1}));for(let c of o.internalProperties||[]){if(c.name==="[[StableObjectId]]")continue;let l;c.name==="[[FunctionLocation]]"&&c.value&&c.value.subtype==="internal#location"?l=this.createVariable(bw,{name:c.name,presentationHint:{visibility:"internal",attributes:["readOnly"]},sortOrder:2},c.value):c.value!==void 0&&(l=this.createVariableByType({name:c.name,presentationHint:{visibility:"internal"},sortOrder:2},c.value)),l&&n.push([l])}return Bs(await Promise.all(n))}async createPropertyVar(e,r,n,i){let o=[],s=e.get&&e.get.type!=="undefined",a=e.set&&e.set.type!=="undefined",u={name:e.name,presentationHint:{},sortOrder:0,...i};return i||(kY(e)?(e.enumerable===!1&&!s&&(u.presentationHint.visibility="internal",u.sortOrder=1),(e.writable===!1||s&&!a)&&(u.presentationHint.attributes=["readOnly"])):(u.presentationHint.visibility="private",u.sortOrder=1)),"value"in e&&e.value&&o.push(this.createVariableByType(u,e.value,n)),s?o.push(this.createVariable(Aw,u,e.get,r)):a&&o.push(this.createVariable(Iw,u,e.set)),o}async evaluateCodeForObject(e,r,n){try{let i=await this.cdp.Runtime.callFunctionOn({objectId:e.objectId,functionDeclaration:r,arguments:n.map(Pw)});if(i){if(i.exceptionDetails===void 0)return{result:i.result};if(i&&i.result.description)return{errorDescription:i.result.description}}return{errorDescription:Mn.t("Unknown error")}}catch(i){return{errorDescription:i.stack||i.message||String(i)}}}},OY=t=>typeof t=="number"||/^[0-9]+$/.test(t),pn=class t{constructor(e,r){this.context=e;this.remoteObject=r;this.id=Vp()}get name(){return this.context.name}get sortOrder(){return this.context.sortOrder}get accessor(){let{parent:e,name:r}=this.context;if(e instanceof qp)return e.accessor;if(!(e instanceof t))return this.context.name;let n=e.context.parent;if(n instanceof t){if(this.remoteObject.subtype==="internal#entry")return`[...${n.accessor}.entries()][${+r}]`;if(e.remoteObject.subtype==="internal#entry")return`${e.accessor}[${this.name==="key"?0:1}]`}return OY(r)?`${e.accessor}[${r}]`:MY.test(r)?`${e.accessor}.${r}`:e.accessor==="this"&&RY.test(r)?`${e.accessor}.${r}`:`${e.accessor}[${JSON.stringify(r)}]`}async toDap(e,r){let n=this.context.name;return this.context.parent instanceof hc&&(n=await this.context.parent.getRename(n)),Promise.resolve({name:n,value:fa(this.remoteObject,e,r),evaluateName:this.accessor,type:this.remoteObject.type,variablesReference:0,presentationHint:this.context.presentationHint})}async setProperty(e,r){let n=await this.context.cdp.Runtime.callFunctionOn({objectId:this.remoteObject.objectId,functionDeclaration:`function(a) { return this[a] = ${r}; ${tt()} }`,arguments:[Pw(e)],silent:!0});if(!n)throw new Q(Be(Mn.t("Unable to set variable value")));if(n.exceptionDetails)throw new Q(AR(n.exceptionDetails));return this.context.createVariableByType({name:e},n.result)}async getChildren(e){return Promise.resolve([])}},Jm=class{constructor(e){this.child=e;this.id=Vp()}getChildren(){return Promise.resolve([this.child])}},gw=class extends pn{constructor(r,n,i,o){super(r,{type:i[0]?.type??"string"});this.value=n;this.args=i;this.stackTrace=o}toDap(){return Promise.resolve({name:this.context.name,value:this.value,variablesReference:this.stackTrace||this.args.some(pa)?this.id:0})}getChildren(r){let n=[],{args:i,stackTrace:o}=this;for(let s=0;s<i.length;++s)pa(i[s])&&n.push(this.context.createVariableByType({name:`arg${s}`,sortOrder:s},i[s]));return o&&n.push(this.context.createVariable(yw,{name:"",sortOrder:Number.MAX_SAFE_INTEGER},this.remoteObject,o)),Promise.resolve(n)}},yw=class extends pn{constructor(r,n,i){super(r,n);this.stacktrace=i}async toDap(){return{name:"",value:await this.stacktrace.format(),variablesReference:0}}},bw=class extends pn{constructor(r,n){super(r,n);this.location=n.value}async toDap(){return{name:this.context.name,value:await this.context.locationProvider.renderDebuggerLocation(this.location),variablesReference:0,presentationHint:{visibility:"internal"}}}},vw=class extends pn{constructor(r,n,i){super(r,n);this.message=i}get accessor(){if(!(this.context.parent instanceof pn))throw new Error("ErrorVariable must have a parent Variable");return this.context.parent.accessor}toDap(){return Promise.resolve({name:this.context.name,value:this.message,variablesReference:0})}},Ym=Symbol("NoStringRepr"),Wp=class extends pn{constructor(r,n,i){super(r,n);this.customStringRepr=i}async toDap(r,n){let[i,o]=await Promise.all([await super.toDap(r,n),await this.getValueRepresentation(r)]);return{...i,type:this.remoteObject.className||this.remoteObject.subtype||this.remoteObject.type,variablesReference:this.id,memoryReference:TY.has(this.remoteObject.subtype)?String(this.id):void 0,value:o}}async getValueRepresentation(r){if(typeof this.customStringRepr=="string")return this.customStringRepr;if(!this.context.parent&&this.remoteObject.objectId&&this.customStringRepr!==Ym)try{let n=await this.context.cdp.Runtime.callFunctionOn({functionDeclaration:Xm.decl(`${wR}`,this.context.customDescriptionGenerator||"null"),objectId:this.remoteObject.objectId,returnByValue:!0});if(n?.result.value)return this.customStringRepr=IR(n.result.value)}catch{this.customStringRepr=Ym}return this.context.name==="__proto__"&&this.remoteObject.description||fa(this.remoteObject,r)}async readMemory(r,n){let i=await hw({cdp:this.context.cdp,args:[r,n],objectId:this.remoteObject.objectId,returnByValue:!0});return Buffer.from(i.value,"hex")}async writeMemory(r,n){return(await mw({cdp:this.context.cdp,args:[r,n.toString("hex")],objectId:this.remoteObject.objectId,returnByValue:!0})).value}getChildren(r){return this.context.createObjectPropertyVars(this.remoteObject,r.evaluationOptions)}},vR="[[Entries]]",_w=class extends Wp{constructor(r,n){super(r,n,Ym);this.baseChildren=ye(()=>super.getChildren({variablesReference:this.id}));this.isMap=n.subtype==="map";let i=n.preview;this.size=Number(i?.properties.find(o=>o.name==="size")?.value)??void 0}async toDap(r){let n=await super.toDap(r);return this.size&&this.size>100&&(n.indexedVariables=this.size),n}async getChildren(r){let n=await this.baseChildren();return[...(await n.find(o=>o.name===vR)?.getChildren(r)||[]).filter(o=>o.sortOrder===0),...n.filter(o=>o.name!==vR)]}},Qm=class extends Wp{constructor(r,n){super(r,n,Ym);this.length=0;let i=String(n.description).match(/\(([0-9]+)\)/);this.length=i?+i[1]:0}async toDap(r){return{...await super.toDap(r),indexedVariables:this.length>100?this.length:void 0,namedVariables:this.length>100?1:void 0}}async getChildren(r){switch(r?.filter){case"indexed":return this.getArraySlots(r);case"named":return this.getArrayProperties();default:return Promise.all([this.getArrayProperties(),this.getArraySlots()]).then(Bs)}}async getArrayProperties(){try{let r=await hR({cdp:this.context.cdp,args:[],objectId:this.remoteObject.objectId,generatePreview:!0});return this.context.createObjectPropertyVars(r)}catch{return[]}}async getArraySlots(r){let n=r&&typeof r.start<"u"?r.start:-1,i=r&&typeof r.count<"u"?r.count:-1,o;try{o=await mR({cdp:this.context.cdp,generatePreview:!1,args:[n,i],objectId:this.remoteObject.objectId})}catch{return[]}let s=await this.context.createObjectPropertyVars(o);return o.objectId&&await this.context.cdp.Runtime.releaseObject({objectId:o.objectId}),s}},ww=class extends Qm{async toDap(e){return this.remoteObject.preview?{...await super.toDap(e),name:sR(this.remoteObject.preview)}:super.toDap(e)}},qp=class extends pn{constructor(e,r){super(e,r)}getChildren(e){return this.context.createObjectPropertyVars(this.remoteObject)}},Iw=class extends qp{async toDap(e,r){return{...await super.toDap(e,r),value:"write-only",variablesReference:this.id}}},Aw=class extends qp{constructor(r,n,i){super(r,n);this.parentObject=i}async toDap(r,n){let i=await super.toDap(r,n);return i.variablesReference=this.id,i.presentationHint={...i.presentationHint,lazy:!0},i}async getChildren(r){try{let n=await HR({cdp:this.context.cdp,objectId:this.parentObject.objectId,args:[new Zl(this.remoteObject.objectId)]});return[this.context.createVariableByType({name:this.name,presentationHint:this.context.presentationHint},n)]}catch(n){if(!(n instanceof Vs))throw n}return super.getChildren(r)}},Zm=class t{constructor(e,r,n){this.context=e;this.variable=r;this.scopeRef=n;this.id=Vp();this.sortOrder=0}static{this.presentationHint={attributes:["readOnly"]}}toDap(){return Promise.resolve({name:this.context.name,value:this.variable.description||"",variablesReference:this.variable.getChildren?this.id:0,memoryReference:this.variable.linearMemoryAddress?String(this.id):void 0,presentationHint:this.context.presentationHint})}async getChildren(){return(await this.variable.getChildren?.()||[]).map(r=>this.context.createVariable(t,{name:r.name,presentationHint:t.presentationHint},r.value,this.scopeRef))}async readMemory(e,r){let n=this.variable.linearMemoryAddress;if(n===void 0)return;let i=await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${hw.source}).call(memories[0].buffer, ${+n+e}, ${+r}) ${tt()}`,returnByValue:!0});if(!i)throw new Vs({exceptionId:0,text:"No response from CDP",lineNumber:0,columnNumber:0});return Buffer.from(i.result.value,"hex")}async writeMemory(e,r){let n=this.variable.linearMemoryAddress;return n===void 0?0:(await this.context.cdp.Debugger.evaluateOnCallFrame({callFrameId:this.scopeRef.callFrameId,expression:`(${mw.source}).call(memories[0].buffer, ${+n+e}, ${JSON.stringify(r.toString("hex"))}) ${tt()}`,returnByValue:!0}))?.result.value||0}},Sw=class{constructor(e,r,n,i){this.context=e;this.kind=r;this.variables=n;this.scopeRef=i;this.id=Vp();this.sortOrder=bR[this.kind]?.sortOrder||0}toDap(){return Promise.resolve({name:bR[this.kind]?.name||this.kind,value:"",variablesReference:this.id})}getChildren(){return Promise.all(this.variables.map(async e=>{let r=await e.evaluate();return this.context.createVariable(Zm,{name:e.name,presentationHint:Zm.presentationHint},r,this.scopeRef)}))}},hc=class{constructor(e,r,n,i,o){this.remoteObject=e;this.context=r;this.ref=n;this.extraProperties=i;this.renameProvider=o;this.id=Vp()}async getChildren(e){let r=await this.context.createObjectPropertyVars(this.remoteObject),n=new Set(r.map(i=>i.name));for(let i of this.extraProperties)n.has(i.name)||r.push(this.context.createVariableByType({name:i.name},i.value));return r}async getRename(e){return(await this.renameProvider.provideOnStackframe(this.ref.stackFrame)).getOriginalName(e,this.ref.stackFrame.rawPosition)||e}async setProperty(e,r){let n=await this.context.cdp.Debugger.evaluateOnCallFrame({expression:`${r} ${tt()}`,callFrameId:this.ref.callFrameId});if(!n)throw new Q(Fe(Mn.t("Invalid expression")));if(n.exceptionDetails)throw new Q(AR(n.exceptionDetails));return await this.context.cdp.Debugger.setVariableValue({callFrameId:this.ref.callFrameId,scopeNumber:this.ref.scopeNumber,variableName:e,newValue:Pw(n.result)}),this.context.createVariableByType({name:e},n.result)}},Ew=class{constructor(){this.value=new Map}get(e){return this.value.get(e)}add(e){this.value.set(e.id,e)}clear(){this.value.clear()}},es=class{constructor(e,r,n,i,o){this.renameProvider=e;this.cdp=r;this.dap=n;this.launchConfig=i;this.locationProvider=o;this.vars=new Ew;this.contextSettings={customDescriptionGenerator:i.customDescriptionGenerator&&gR(["defaultValue"],i.customDescriptionGenerator,!1),customPropertiesGenerator:i.customPropertiesGenerator&&gR([],i.customPropertiesGenerator,!1)}}createDetached(){return new es(this.renameProvider,this.cdp,this.dap,this.launchConfig,this.locationProvider)}clear(){this.vars.clear()}createFloatingVariable(e,r){return this.createFloatingContext().createVariableByType({name:e},r)}createVariableForOutput(e,r,n,i){let o=this.createFloatingContext(),s=r.length===1&&i==="table"?o.createVariable(ww,{name:""},r[0]):r.length===1&&pa(r[0])&&!n?o.createVariableByType({name:""},r[0]):o.createVariable(gw,{name:""},e,r,n),a=new Jm(s);return this.vars.add(a),a}createScope(e,r,n){let i=new hc(e,new jp(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),r,n,this.renameProvider);return this.vars.add(i),i}createWasmScope(e,r,n){let i=new Sw(new jp(this.cdp,void 0,{name:""},this.vars,this.locationProvider,()=>i,this.contextSettings),e,r,n);return this.vars.add(i),i}hasVariable(e){return!!this.vars.get(e)}hasMemory(e){return Hw(this.vars.get(Number(e)))}async readMemory(e,r,n){let i=this.vars.get(Number(e));return Hw(i)?i.readMemory(r,n):void 0}async writeMemory(e,r,n){let i=this.vars.get(Number(e)),o=Hw(i)?await i.writeMemory(r,n):0;return o>0&&this.dap.invalidated({areas:["variables"]}),o}async getVariableNames(e){let r=this.vars.get(e.variablesReference);return r?(await r.getChildren(e)).filter(Os(pn)).map(i=>i.name):[]}async getVariables(e){let r=this.vars.get(e.variablesReference);if(!r)return[];let n=await r.getChildren(e);return(await Promise.all(n.map(o=>o.toDap(r instanceof hc||r instanceof Jm?"repl":"propertyValue",e.format).then(s=>({v:o,dap:s}))))).sort((o,s)=>o.v.sortOrder-s.v.sortOrder||+o.dap.name-+s.dap.name||o.dap.name.localeCompare(s.dap.name)).map(o=>o.dap)}async setVariable(e){let r=this.vars.get(e.variablesReference);if(!e.value)throw new Q(Fe(Mn.t("Cannot set an empty value")));if(r instanceof hc||r instanceof pn)return await(await r.setProperty(e.name,e.value)).toDap("propertyValue",e.format);throw new Q(Be(Mn.t("Variable not found")))}createFloatingContext(){return new jp(this.cdp,void 0,{name:"<unnamed>"},this.vars,this.locationProvider,void 0,this.contextSettings)}};es=V([(0,ha.injectable)(),I(0,(0,ha.inject)(jo)),I(1,(0,ha.inject)(rt)),I(2,(0,ha.inject)(Lr)),I(3,(0,ha.inject)(Ee))],es);function AR(t){let e=t.exception&&da(t.exception).title||t.text;return Fe(e)}var eH=class{constructor(e){this.description=e;this.sourceMapLoads=new Map;this.scripts=[]}get isDefault(){return this.description.auxData&&this.description.auxData.isDefault}async remove(e){await Promise.all(this.scripts.map(async r=>{let n=await r.source;n.filterScripts(i=>i.executionContextId!==this.description.id),n.scripts.length||e.removeSource(n)}))}},Lw=class{constructor(e){this._obj=e;this._dapDeferred=ke()}resolve(){this._dapDeferred.resolve(this._obj)}with(e){return this._dapDeferred.hasSettled()?e(this._obj):this._dapDeferred.promise.then(r=>e(r))}},BY=50,SR=(t,e)=>t.sourceReference===e.sourceReference&&Rh(t.path||"",e.path||""),FY=()=>`
//# sourceURL=eval-${(0,ER.randomBytes)(4).toString("hex")}.repl
`,xw=class{enqueue(e,r){if(!this.queue||this.queue.operation!==e){let n=this.queue?.result.then(r,r)??r(),i=this.queue={operation:e,result:n.finally(()=>{this.queue===i&&(this.queue=void 0)})}}return this.queue.result}};var mc=class t{constructor(e,r,n,i,o,s,a,u,c,l,p,f,m,h){this.target=i;this.logger=s;this.evaluator=a;this.completer=u;this.launchConfig=c;this._breakpointManager=l;this.console=p;this.exceptionPause=f;this._smartStepper=m;this.shutdown=h;this._executionContexts=new Map;this._excludedCallers=[];this.stateQueue=new xw;this._onPausedEmitter=new K;this.disposed=!1;this.debuggerReady=ke();this.onPaused=this._onPausedEmitter.event;this._dap=new Lw(n),this._sourceContainer=e,this._cdp=r,this.id=t._lastThreadId++,this.replVariables=new es(o,this._cdp,n,c,this),e.onSourceMappedSteppingChange(()=>this.refreshStackTrace()),this._initialize()}static{this._lastThreadId=0}static{this._allThreadsByDebuggerId=new Map}setExcludedCallers(e){this._excludedCallers=e}cdp(){return this._cdp}name(){return this.target.name()}pausedDetails(){return this._pausedDetails}pausedVariables(){return this._pausedVariables}defaultExecutionContext(){for(let e of this._executionContexts.values())if(e.isDefault)return e}resume(){return this.stateQueue.enqueue("resume",async()=>(this._sourceContainer.clearDisabledSourceMaps(),!await this._cdp.Debugger.resume({})&&this._pausedDetails!==void 0?Be(De.t("Unable to resume")):{allThreadsContinued:!1}))}pause(){return this.stateQueue.enqueue("pause",async()=>(this._expectedPauseReason={reason:"pause"},await this._cdp.Debugger.pause({})?{}:Be(De.t("Unable to pause"))))}stepOver(){return this.stateQueue.enqueue("stepOver",async()=>{this._expectedPauseReason={reason:"step",direction:1};let e=await this.getCurrentSkipList(1);return await this._cdp.Debugger.stepOver({skipList:e})?{}:Be(De.t("Unable to step next"))})}stepInto(e){return this.stateQueue.enqueue("stepInto",async()=>{this._waitingForStepIn={lastDetails:this._pausedDetails},this._expectedPauseReason={reason:"step",direction:0};let r=this._pausedDetails?.stepInTargets?.[e];if(r){let n=await this._cdp.Debugger.setBreakpoint({location:r.breakLocation});if(this._waitingForStepIn.intoTargetBreakpoint=n?.breakpointId,await this._cdp.Debugger.resume({}))return{}}else{let n=await this.getCurrentSkipList(0);if(await this._cdp.Debugger.stepInto({breakOnAsyncCall:!0,skipList:n}))return{}}return Be(De.t("Unable to step in"))})}stepOut(){return this.stateQueue.enqueue("stepOut",async()=>(this._expectedPauseReason={reason:"step",direction:2},await this._cdp.Debugger.stepOut({})?{}:Be(De.t("Unable to step out"))))}async getCurrentSkipList(e){if(!this._pausedDetails)return;let[r]=await this._pausedDetails.stackTrace.loadFrames(1);if(!r||!PR(r))return;let n=await r.getStepSkipList(e);if(n)return Sn.simplify(n).map(i=>({start:i.begin.base0,end:i.end.base0,scriptId:r.root.scriptId}))}_stackFrameNotFoundError(){return Be(De.t("Stack frame not found"))}_evaluateOnAsyncFrameError(){return Be(De.t("Unable to evaluate on async stack frame"))}async restartFrame(e){let r=this._pausedDetails?.stackTrace.frame(e.frameId)?.root;if(!r)return this._stackFrameNotFoundError();let n=r.callFrameId();return n?await this._cdp.Debugger.restartFrame({callFrameId:n,mode:"StepInto"})?(this._expectedPauseReason={reason:"frame_entry",description:De.t("Paused on frame entry")},r.canExplicitlyBeRestarted||await this._cdp.Debugger.stepInto({}),{}):Fe(De.t("Frame could not be restarted")):Fe(De.t("Cannot restart asynchronous frame"))}async stackTrace(e){return this._pausedDetails?this._pausedDetails.stackTrace.toDap(e):Be(De.t("Thread is not paused"))}async scopes(e){let r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0;return r?r.scopes():this._stackFrameNotFoundError()}async exceptionInfo(){let e=this._pausedDetails&&this._pausedDetails.exception;if(!e)return Be(De.t("Thread is not paused on exception"));let r=da(e);return{exceptionId:r.title,breakMode:"all",details:{stackTrace:r.stackTrace,evaluateName:void 0}}}async revealPage(){return this._cdp.Page.bringToFront({}),{}}async completions(e){let r;if(e.frameId!==void 0){if(r=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId)?.root:void 0,!r)return this._stackFrameNotFoundError();if(!r.callFrameId())return this._evaluateOnAsyncFrameError()}if(e.line===1&&e.text.startsWith("cd "))return{targets:this.getExecutionContextCompletions(e)};let n=await this.completer.completions({executionContextId:this._selectedContext?this._selectedContext.description.id:void 0,stackFrame:r,expression:e.text,position:new gt(e.line||1,e.column)});return{targets:[...this.getExecutionContextCompletions(e),...n]}}getExecutionContextCompletions(e){if(e.line&&e.line>1)return[];let r=e.text.slice(0,e.column).trim();return[...this._executionContexts.values()].map(n=>`cd ${this.target.executionContextName(n.description)}`).filter(n=>n.startsWith(r)).map(n=>({label:n,start:0,length:e.text.length}))}async _evaluteWasm(e,r,n){if(!e)return;let i=e.root,o=i.callFrameId(),s=await i.scriptSource?.source;if(!zs(s)||!o)return;let a=await s.sourceMap.value.promise;if(!a.evaluate)return;let u=new st(e instanceof Xp?e.inlineFrameIndex:0,i.rawPosition.base0.columnNumber),c=await a.evaluate(o,u,r.expression);if(c)return await n.createFloatingVariable(r.expression,c).toDap(r.context,r.format)}async _evaluteJs(e,r,n){let i=e?.root.callFrameId(),o=r.context==="clipboard"?{expression:dw.expr(r.expression,"2"),includeCommandLineAPI:!0,returnByValue:!0,objectGroup:"console"}:{expression:r.expression,includeCommandLineAPI:!0,objectGroup:"console",generatePreview:!0,timeout:r.context==="hover"?this.getHoverEvalTimeout():void 0};if(r.context==="repl"){if(o.expression=ip(o.expression),o.expression.indexOf("await")!==-1){let u=XC(o.expression);u&&(o.expression=u,o.awaitPromise=!0)}o.expression+=FY()}r.evaluationOptions&&this.cdp().DotnetDebugger.setEvaluationOptions({options:r.evaluationOptions,type:"evaluation"});let s=this.evaluator.evaluate(i?{...o,callFrameId:i}:{...o,contextId:this._selectedContext?this._selectedContext.description.id:void 0},{isInternalScript:!1,stackFrame:e?.root});if(r.context==="repl")return await this._evaluateRepl(r,s,r.format);let a=await s;if(!a)throw new Q(Be(De.t("Unable to evaluate")));if(a.exceptionDetails){let u=a.exceptionDetails.exception?da(a.exceptionDetails.exception).title:a.exceptionDetails.text;throw u.startsWith("Uncaught")||(u="Uncaught "+u),new Q(Be(u))}return n.createFloatingVariable(o.expression,a.result).toDap(r.context,r.format)}async evaluate(e){let r,n;if(e.frameId!==void 0){if(n=this._pausedDetails?this._pausedDetails.stackTrace.frame(e.frameId):void 0,!n)throw new Q(this._stackFrameNotFoundError());if(r=n.root.callFrameId(),!r)throw new Q(this._evaluateOnAsyncFrameError())}if(e.context==="repl"&&e.expression.startsWith("cd ")){let s=e.expression.substring(3).trim();for(let a of this._executionContexts.values())if(this.target.executionContextName(a.description)===s)return this._selectedContext=a,{result:`[${s}]`,variablesReference:0}}let i=r?this._pausedVariables:this.replVariables;if(!i)throw new Q(Be(De.t("Unable to evaluate")));let o=await this._evaluteWasm(n,e,i)??await this._evaluteJs(n,e,i);return{type:o.type,result:o.value,variablesReference:o.variablesReference,namedVariables:o.namedVariables,indexedVariables:o.indexedVariables,memoryReference:o.memoryReference}}getHoverEvalTimeout(){let e=this.launchConfig.timeouts?.hoverEvaluation;if(e===void 0)return 500;if(!(e<=0))return e}async _evaluateRepl(e,r,n){let i=await r;if(!i)return{name:e.expression,value:"",variablesReference:0};if(i.exceptionDetails){let u=await new Gp(i.exceptionDetails).toDap(this);throw new Q(HD(u.output))}let o=this._selectedContext&&this.defaultExecutionContext()!==this._selectedContext?`\x1B[33m[${this.target.executionContextName(this._selectedContext.description)}] `:"",s=await this.replVariables.createFloatingVariable(e.expression,i.result).toDap("repl",n),a=jm("repl").budget;return s.variablesReference===0&&s.value.length===a&&setImmediate(()=>this.console.enqueue(this,{toDap:()=>({output:De.t("Output has been truncated to the first {0} characters. Run `{1}` to copy the full output.",a,`copy(${e.expression.trim()})`),category:"stdout"})})),{...s,value:`${o}${s.value}`}}_initialize(){this._cdp.Runtime.on("executionContextCreated",e=>{this._executionContextCreated(e.context)}),this._cdp.Runtime.on("executionContextDestroyed",e=>{this._executionContextDestroyed(e.executionContextId)}),this._cdp.Runtime.on("executionContextsCleared",()=>{this.launchConfig.noDebug||this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.replVariables.clear(),this._executionContextsCleared()}),this._cdp.Inspector.on("targetReloadedAfterCrash",()=>{this._breakpointManager.reapply()}),this.launchConfig.outputCapture==="console"&&(this._cdp.Runtime.on("consoleAPICalled",e=>{this.console.dispatch(this,e)}),this._cdp.Runtime.on("exceptionThrown",e=>{this.console.enqueue(this,new Gp(e.exceptionDetails))})),this._cdp.Runtime.on("inspectRequested",e=>{e.hints.copyToClipboard?this._copyObjectToClipboard(e.object):e.hints.queryObjects?this.console.enqueue(this,new Gm(e.object,this.cdp())):this._revealObject(e.object)}),this._cdp.Debugger.on("paused",async e=>this._onPaused(e)),this._cdp.Debugger.on("resumed",()=>this.onResumed()),this._cdp.Debugger.on("scriptParsed",e=>this._onScriptParsed(e)),this._cdp.Debugger.on("scriptFailedToParse",e=>this._onScriptParsed(e)),this._cdp.Runtime.enable({}),this._cdp.Profiler.enable({}),this.launchConfig.noDebug?this.logger.info("runtime.launch","Running with noDebug, so debug domains are disabled"):this._ensureDebuggerEnabledAndRefreshDebuggerId(),this.target.initialize(),this._dap.with(e=>e.thread({reason:"started",threadId:this.id}))}dapInitialized(){this._dap.resolve()}async getStepInTargets(e){let r=this._pausedDetails;if(!r)return[];let n=r.stackTrace.frames.find(l=>l.frameId===e);if(!(n instanceof sr))return[];let i=await n.uiLocation();if(!i)return[];let o=r.event.callFrames[0].location,[s,a]=await Promise.all([this._breakpointManager.getBreakpointLocations(this,i.source,new gt(i.lineNumber,1),new gt(i.lineNumber+1,1)).then(l=>l.filter(p=>p.breakLocation.lineNumber!==o.lineNumber||p.breakLocation.columnNumber!==o.columnNumber)),i.source.content()]),u=r.stepInTargets?.length||0;r.stepInTargets=r.stepInTargets?.concat(s)||s;let c=a&&new Ro(a);return s.map((l,p)=>{let f=l.uiLocations.find(h=>h.source===i.source);if(!f)return;if(!c)return{id:u+p,label:`Column ${f}`,line:f.lineNumber,column:f.columnNumber};let m=KC(a.slice(c.getLineOffset(f.lineNumber-1),c.getLineOffset(f.lineNumber)),f.columnNumber-1);if(m)return{id:u+p,label:m.text,line:f.lineNumber,column:m.start+1,endLine:f.lineNumber,endColumn:m.end+1}}).filter(qt)}async refreshStackTrace(){this._pausedDetails&&(this._pausedDetails=await this._createPausedDetails(this._pausedDetails.event),this._onThreadResumed(),await this._onThreadPaused(this._pausedDetails))}_executionContextCreated(e){let r=new eH(e);this._executionContexts.set(e.id,r)}_executionContextDestroyed(e){let r=this._executionContexts.get(e);r&&(this._executionContexts.delete(e),r.remove(this._sourceContainer))}_executionContextsCleared(){this._removeAllScripts(),this._breakpointManager.executionContextWasCleared(),this._pausedDetails&&this.onResumed(),this._executionContexts.clear()}_ensureDebuggerEnabledAndRefreshDebuggerId(){this._cdp.Debugger.enable({}).then(e=>{this.debuggerReady.resolve(),e&&t._allThreadsByDebuggerId.set(e.debuggerId,this)}),this.exceptionPause.apply(this._cdp)}async _onPaused(e){let r=e.hitBreakpoints??[],n=e.reason==="Break on start"||e.reason==="debugCommand",i=e.callFrames[0]?.location,o=e.data?.scriptId||i?.scriptId,s=o&&(e.reason==="instrumentation"||this._breakpointManager.isEntrypointBreak(r,o)||r.some(l=>this._pauseOnSourceMapBreakpointIds?.includes(l)));if(this.evaluator.setReturnedValue(e.callFrames[0]?.returnValue),s){this.launchConfig.perScriptSourcemaps==="auto"&&this._shouldEnablePerScriptSms(e)&&await this._enablePerScriptSourcemaps(),e.data&&!n&&(e.data.__rewriteAs="breakpoint");let l=this._expectedPauseReason;if(!(o&&await this._handleSourceMapPause(o,i))){if(!n){if(await this.isCrossThreadStep(e))e.data={...e.data,__rewriteAs:"step"};else if(!await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!0))if(l?.reason==="step"){if(l.direction!==0)return this._cdp.Debugger.stepOut({})}else return this.resume()}}}else if(!(e.reason==="exception"||e.reason==="promiseRejection"?await this.exceptionPause.shouldPauseAt(e):await this._breakpointManager.shouldPauseAt(e,r,this.target.entryBreakpoint,!1)))return this.resume();let a=this._waitingForStepIn?.intoTargetBreakpoint;if(a){e.hitBreakpoints?.includes(a)?(this._waitingForStepIn.intoTargetBreakpoint=void 0,await this._cdp.Debugger.removeBreakpoint({breakpointId:a}),await this._cdp.Debugger.stepInto({breakOnAsyncCall:!1})):this.resume();return}if(n&&("continueOnAttach"in this.launchConfig&&this.launchConfig.continueOnAttach||this.launchConfig.type==="pwa-extensionHost"||this.target instanceof dc)){this.resume();return}let u=this._pausedDetails=await this._createPausedDetails(e);if(this._excludedCallers.length&&await this._matchesExcludedCaller(this._pausedDetails.stackTrace)){this.logger.info("runtime","Skipping pause due to excluded caller"),this.resume();return}let c=await this._smartStepper.getSmartStepDirection(u,this._expectedPauseReason);if(this._pausedDetails===u){switch(c){case 0:return this.stepInto();case 2:return this.stepOut();case 1:return this.stepOver();default:}this._waitingForStepIn=void 0,this._pausedVariables=this.replVariables.createDetached(),await this._onThreadPaused(u)}}async _matchesExcludedCaller(e){if(!this._excludedCallers.length)return!1;let r=e.frames[0],n=r instanceof sr&&await r.uiLocation();if(!n)return!1;let i,o,s=[];for(let{caller:a,target:u}of this._excludedCallers)if(!(u.line!==n.lineNumber||u.column!==n.columnNumber)&&(i??=await n.source.toDapShallow(),!!SR(i,u.source))){o||(o=await e.loadFrames(BY).then(l=>Promise.all(l.slice(1).filter(Os(sr)).map(p=>p.uiLocation()))));for(let c=0;c<o.length;c++){let l=o[c];if(!l||l.lineNumber!==a.line||l.columnNumber!==a.column)continue;let p=s[c]??=await l.source.toDapShallow();if(SR(p,a.source))return!0}}return!1}onResumed(){this._pausedDetails=void 0,this._pausedVariables=void 0,this.evaluator.setReturnedValue(void 0),this._onThreadResumed()}async dispose(){this.disposed=!0,await this.shutdown.shutdown();for(let[e,r]of t._allThreadsByDebuggerId)r===this&&t._allThreadsByDebuggerId.delete(e);this._removeAllScripts(!0),this._executionContextsCleared(),await this._dap.with(e=>e.thread({reason:"exited",threadId:this.id}))}rawLocation(e){if("location"in e){let r=e;return{lineNumber:Math.max(0,r.location.lineNumber)+1,columnNumber:Math.max(0,r.location.columnNumber||0)+1,scriptId:r.location.scriptId}}return{lineNumber:Math.max(0,e.lineNumber)+1,columnNumber:Math.max(0,e.columnNumber||0)+1,scriptId:e.scriptId}}rawLocationToUiLocation(e){if(!e.scriptId||this.disposed||this.launchConfig.noDebug)return;let r=this._sourceContainer.getScriptById(e.scriptId);return r?r.resolvedSource?this._sourceContainer.preferredUiLocation({...r.resolvedSource.offsetScriptToSource(e),source:r.resolvedSource}):r.source.then(n=>this._sourceContainer.preferredUiLocation({...n.offsetSourceToScript(e),source:n})):this.rawLocationToUiLocationWithWaiting(e)}async rawLocationToUiLocationWithWaiting(e){let r=e.scriptId?await this.getScriptByIdOrWait(e.scriptId):void 0;if(!r)return;let n=await r.source;return this._sourceContainer.preferredUiLocation({...n.offsetScriptToSource(e),source:n})}getScriptById(e){return this._sourceContainer.getScriptById(e)}getScriptByIdOrWait(e,r=500){return this._sourceContainer.getScriptById(e)||this.waitForScriptId(e,r)}waitForScriptId(e,r){return new Promise(n=>{let i=this._sourceContainer.onScript(s=>{s.scriptId===e&&(n(s),i.dispose(),clearTimeout(o))}),o=setTimeout(()=>{n(void 0),i.dispose()},r)})}async renderDebuggerLocation(e){let r=this.rawLocation(e),n=await this.rawLocationToUiLocation(r);return n?`@ ${await n.source.prettyName()}:${n.lineNumber}`:`@ VM${r.scriptId||"XX"}:${r.lineNumber}`}async updateCustomBreakpoints(e,r){if(!this.target.supportsCustomBreakpoints())return;this._enabledCustomBreakpoints??=new Set;let n=new Set;for(let o of e)n.add("x"+o);for(let o of r)n.add("e"+o);let i=[];for(let o of n)if(!this._enabledCustomBreakpoints.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.setXHRBreakpoint({url:s}):zm().get(s)?.apply(this._cdp,!0))}for(let o of this._enabledCustomBreakpoints)if(!n.has(o)){let s=o.slice(1);i.push(o.startsWith("x")?this._cdp.DOMDebugger.removeXHRBreakpoint({url:s}):zm().get(s)?.apply(this._cdp,!1))}this._enabledCustomBreakpoints=n,await Promise.all(i)}async _createPausedDetails(e){let r=e.reason==="assert"||e.reason==="exception"||e.reason==="promiseRejection"||e.reason==="other"||e.reason==="ambiguous",n=e.hitBreakpoints?.filter(o=>!this._breakpointManager.isEntrypointCdpBreak(o))||[];if((n.length||!r)&&this._sourceContainer.clearDisabledSourceMaps(),e.hitBreakpoints&&this._sourceMapDisabler)for(let o of this._sourceMapDisabler(e.hitBreakpoints))this._sourceContainer.disableSourceMapForSource(o);let i=to.fromDebugger(this,e.callFrames,e.asyncStackTrace,e.asyncStackTraceId);if(e.data?.__rewriteAs==="breakpoint")return{thread:this,event:e,stackTrace:i,reason:"breakpoint",description:De.t("Paused on breakpoint")};if(e.data?.__rewriteAs==="step")return{thread:this,event:e,stackTrace:i,reason:"step",description:De.t("Paused")};switch(e.reason){case"assert":return{thread:this,event:e,stackTrace:i,reason:"exception",description:De.t("Paused on assert")};case"debugCommand":return{thread:this,event:e,stackTrace:i,reason:"pause",description:De.t("Paused on debug() call")};case"DOM":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:De.t("Paused on DOM breakpoint")};case"EventListener":return this._resolveEventListenerBreakpointDetails(i,e);case"exception":return{thread:this,event:e,stackTrace:i,reason:"exception",description:De.t("Paused on exception"),exception:e.data};case"promiseRejection":return{thread:this,event:e,stackTrace:i,reason:"exception",description:De.t("Paused on {0}","promise rejection"),exception:e.data};case"instrumentation":return e.data&&e.data.scriptId?{thread:this,event:e,stackTrace:i,reason:"step",description:De.t("Paused")}:{thread:this,event:e,stackTrace:i,reason:"function breakpoint",description:De.t("Paused on instrumentation breakpoint")};case"XHR":return{thread:this,event:e,stackTrace:i,reason:"data breakpoint",description:De.t("Paused on XMLHttpRequest or fetch")};case"OOM":return{thread:this,event:e,stackTrace:i,reason:"exception",description:De.t("Paused before Out Of Memory exception")};default:if(n.length){let o=!1,s=this.target.entryBreakpoint;if(s&&n.includes(s.cdpId)){o=!0;let a=this._sourceContainer.source({path:at(s.path)});a!==void 0&&(o=!(await this._sourceContainer.currentSiblingUiLocations({lineNumber:e.callFrames[0].location.lineNumber+1,columnNumber:(e.callFrames[0].location.columnNumber||0)+1,source:a}))?.some(c=>this._breakpointManager.hasAtLocation(c)))}return o||this._breakpointManager.registerBreakpointsHit(n),{thread:this,event:e,stackTrace:i,hitBreakpoints:e.hitBreakpoints,reason:o?"entry":"breakpoint",description:De.t("Paused on breakpoint")}}return this._expectedPauseReason?{thread:this,event:e,stackTrace:i,description:De.t("Paused"),...this._expectedPauseReason}:{thread:this,event:e,stackTrace:i,reason:"pause",description:De.t("Paused on debugger statement")}}}_resolveEventListenerBreakpointDetails(e,r){let n=r.data,i=n&&n.eventName||"",o=zm().get(i);if(o){let s=o.details(n);return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:s.short,text:s.long}}return{thread:this,event:r,stackTrace:e,reason:"function breakpoint",description:De.t("Paused on event listener")}}_clearDebuggerConsole(){return{category:"console",output:"\x1B[2J"}}_removeAllScripts(e=!1){this._sourceContainer.clear(e)}_onScriptParsed(e){if(e.url.endsWith(".cdp")||(rr(e.url)&&(e.url=Ce(e.url)),this._sourceContainer.getScriptById(e.scriptId)))return;e.url&&(e.url=this.target.scriptUrlToUrl(e.url));let r=this._executionContexts.get(e.executionContextId);r||(this.logger.info("internal","Creating missing execution context id",e),r=new eH({id:e.executionContextId,name:"<autofilled>",origin:"",uniqueId:String(e.executionContextId)}),this._executionContexts.set(e.executionContextId,r));let n=async()=>{let o=this._sourceContainer.getSourceByOriginalUrl(e.url);if(e.hash&&o?.contentHash===e.hash)return o.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),o;let s=async()=>{let p=await this._cdp.Debugger.getScriptSource({scriptId:e.scriptId});return p?p.scriptSource:void 0},a=e.startLine||e.startColumn?{lineOffset:e.startLine,columnOffset:e.startColumn}:void 0,u=e.url.endsWith("#vscode-extension")?{lineOffset:2,columnOffset:0}:void 0,c;e.sourceMapURL&&(c=Gt(e.sourceMapURL)?e.sourceMapURL:e.url&&Mo(e.url,e.sourceMapURL)||e.url,c||this._dap.with(p=>uD(p,`Could not load source map from ${e.sourceMapURL}`)));let l=await this._sourceContainer.addSource(e,s,c,a,u,!e.hasSourceURL&&this.launchConfig.enableContentValidation?e.hash:void 0);return l.addScript({scriptId:e.scriptId,url:e.url,embedderName:e.embedderName,hasSourceURL:!!e.hasSourceURL,executionContextId:e.executionContextId}),l},i={url:e.url,hasSourceURL:!!e.hasSourceURL,embedderName:e.embedderName,scriptId:e.scriptId,executionContextId:e.executionContextId,source:n()};i.source.then(o=>i.resolvedSource=o),r.scripts.push(i),this._sourceContainer.addScriptById(i),(e.sourceMapURL||e.scriptLanguage==="WebAssembly")&&this._getOrStartLoadingSourceMaps(i)}async _handleSourceMapPause(e,r){this._pausedForSourceMapScriptId=e;let n=this._sourceContainer.sourceMapTimeouts().sourceMapMinPause,i=n+this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause,o=this._sourceContainer.getScriptById(e);if(!o)return this._pausedForSourceMapScriptId=void 0,!1;let s=new ln,a=await Promise.race([this._getOrStartLoadingSourceMaps(o),Le(i)]),u=s.elapsed().ms,c=this._sourceContainer.sourceMapTimeouts().sourceMapCumulativePause-Math.max(u-n,0);this._sourceContainer.setSourceMapTimeouts({...this._sourceContainer.sourceMapTimeouts(),sourceMapCumulativePause:c}),this.logger.verbose("internal","Blocked execution waiting for source-map",{timeSpentWallClockInMs:u,sourceMapCumulativePause:c}),a||this._dap.with(f=>f.output({category:"stderr",output:De.t("WARNING: Processing source-maps of {0} took longer than {1} ms so we continued execution without waiting for all the breakpoints for the script to be set.",o.url||o.scriptId,i)})),console.assert(this._pausedForSourceMapScriptId===e),this._pausedForSourceMapScriptId=void 0;let l=r?.lineNumber||0,p=r?.columnNumber;return!!a?.map(Ki).some(f=>f.lineNumber===l&&(p===void 0||p===f.columnNumber))}_getOrStartLoadingSourceMaps(e){let r=this._executionContexts.get(e.executionContextId);if(!r)return Promise.resolve([]);let n=r.sourceMapLoads.get(e.scriptId);if(n)return n;let i=e.source.then(o=>this._sourceContainer.waitForSourceMapSources(o)).then(o=>o.length&&this._scriptWithSourceMapHandler?this._scriptWithSourceMapHandler(e,o):[]);return r.sourceMapLoads.set(e.scriptId,i),i}async _revealObject(e){if(e.type!=="function"||e.objectId===void 0)return;let r=await this._cdp.Runtime.getProperties({objectId:e.objectId,ownProperties:!0});if(r)for(let n of r.internalProperties||[]){if(n.name!=="[[FunctionLocation]]"||!n.value||n.value.subtype!=="internal#location")continue;let i=await this.rawLocationToUiLocation(this.rawLocation(n.value.value));i&&this._sourceContainer.revealUiLocation(i);break}}async _copyObjectToClipboard(e){if(!e.objectId){this._dap.with(r=>r.copyRequested({text:fa(e,"copy")}));return}try{let r=await dR({cdp:this.cdp(),objectId:e.objectId,args:[2],silent:!0,returnByValue:!0});this._dap.with(n=>n.copyRequested({text:r.value}))}catch{}finally{this.cdp().Runtime.releaseObject({objectId:e.objectId}).catch(()=>{})}}async _onThreadPaused(e){this._expectedPauseReason=void 0,this._onPausedEmitter.fire(e);let r;e.hitBreakpoints&&(r=await Promise.race([Le(1e3).then(()=>{}),Promise.all(e.hitBreakpoints.map(n=>this._breakpointManager._resolvedBreakpoints.get(n)).filter(Os(on)).map(n=>n.untilSetCompleted().then(()=>n.dapId)))])),await Le(0),this._dap.with(n=>n.stopped({reason:e.reason,description:e.description,threadId:this.id,text:e.text,hitBreakpointIds:r,allThreadsStopped:!1}))}_onThreadResumed(){this._dap.with(e=>e.continued({threadId:this.id,allThreadsContinued:!1}))}isCrossThreadStep(e){if(!e.asyncStackTraceId||!e.asyncStackTraceId.debuggerId)return!1;let r=t.threadForDebuggerId(e.asyncStackTraceId.debuggerId);if(!r||!r._waitingForStepIn?.lastDetails)return!1;let n=r._waitingForStepIn.lastDetails.stackTrace;return r._cdp.Debugger.getStackTrace({stackTraceId:e.asyncStackTraceId}).then(i=>!i||!i.stackTrace.callFrames.length||!sr.fromRuntime(r,i.stackTrace.callFrames[0],!1).equivalentTo(n.frames[0])?!1:(r._waitingForStepIn=void 0,!0))}async setScriptSourceMapHandler(e,r){this._scriptWithSourceMapHandler=r;let n=e&&this._sourceContainer.sourceMapTimeouts().sourceMapMinPause&&r;if(n&&!this._pauseOnSourceMapBreakpointIds?.length){await this.debuggerReady.promise;let i=await Promise.all([this._cdp.Debugger.setInstrumentationBreakpoint({instrumentation:"beforeScriptWithSourceMapExecution"}),this._cdp.Debugger.setBreakpointByUrl({lineNumber:0,columnNumber:0,urlRegex:"\\.[wW][aA][sS][mM]"})]);this._pauseOnSourceMapBreakpointIds=i.map(o=>o?.breakpointId).filter(qt)}else if(!n&&this._pauseOnSourceMapBreakpointIds?.length){let i=this._pauseOnSourceMapBreakpointIds;this._pauseOnSourceMapBreakpointIds=void 0,await Promise.all(i.map(o=>this._cdp.Debugger.removeBreakpoint({breakpointId:o})))}return!!this._pauseOnSourceMapBreakpointIds?.length}async _enablePerScriptSourcemaps(){await this._breakpointManager.updateEntryBreakpointMode(this,1),await this.setScriptSourceMapHandler(!1,this._scriptWithSourceMapHandler)}_shouldEnablePerScriptSms(e){return e.data?.url.includes("@vite/client")?!0:e.reason!=="instrumentation"||!Gt(e.data?.sourceMapURL)?!1:e.data.url?.startsWith("webpack")||e.data.url?.startsWith("ng:")}setSourceMapDisabler(e){this._sourceMapDisabler=e}static threadForDebuggerId(e){return t._allThreadsByDebuggerId.get(e)}async replacePathsInStackTrace(e){let r=[];for(let i of new Qo(e)){if(typeof i=="string"){r.push(i);continue}let o=this._sourceContainer.getSourceByOriginalUrl(Ce(i.path))||this._sourceContainer.getSourceByOriginalUrl(i.path);if(!o){r.push(i.toString());continue}r.push(this._sourceContainer.preferredUiLocation({columnNumber:i.position.base1.columnNumber,lineNumber:i.position.base1.lineNumber,source:o}).then(({source:s,lineNumber:a,columnNumber:u})=>`${s.absolutePath}:${a}:${u}`))}return(await Promise.all(r)).join("")}};var PR=t=>typeof t.uiLocation=="function",to=class t{constructor(e){this.thread=e;this.frames=[];this._frameById=new Map;this._lastInlineWasmExpanded=Promise.resolve(0);this._lastFrameThread=e}static fromRuntime(e,r){let n=new t(e);for(let i of r.callFrames)i.url.endsWith(".cdp")||n.frames.push(sr.fromRuntime(e,i,!1));return r.parentId?(n._asyncStackTraceId=r.parentId,console.assert(!r.parent)):n._appendStackTrace(e,r.parent),n}static fromDebugger(e,r,n,i){let o=new t(e);for(let s of r)o._appendFrame(sr.fromDebugger(e,s));return i?(o._asyncStackTraceId=i,console.assert(!n)):o._appendStackTrace(e,n),o}async loadFrames(e,r){return await this.expandAsyncStack(e,r),await this.expandWasmFrames(),this.frames}async expandAsyncStack(e,r){for(;this.frames.length<e&&this._asyncStackTraceId;){if(this._asyncStackTraceId.debuggerId&&(this._lastFrameThread=mc.threadForDebuggerId(this._asyncStackTraceId.debuggerId)),!this._lastFrameThread){this._asyncStackTraceId=void 0;break}r&&this._lastFrameThread.cdp().DotnetDebugger.setEvaluationOptions({options:{noFuncEval:r},type:"stackFrame"});let n=await this._lastFrameThread.cdp().Debugger.getStackTrace({stackTraceId:this._asyncStackTraceId});this._asyncStackTraceId=void 0,n&&this._appendStackTrace(this._lastFrameThread,n.stackTrace)}}expandWasmFrames(){return this._lastInlineWasmExpanded=this._lastInlineWasmExpanded.then(async e=>{for(;e<this.frames.length;e++){let r=this.frames[e];if(!(r instanceof sr))continue;let n=r.scriptSource?.resolvedSource;if(!zs(n))continue;let i=await n.sourceMap.value.promise;if(!i.getFunctionStack)continue;let o=await i.getFunctionStack(r.rawPosition);if(o.length===0)continue;let s=[];for(let a=0;a<o.length;a++){let u=new Xp({source:n,thread:this.thread,inlineFrameIndex:a,name:o[a].name,root:r});this._frameById.set(u.frameId,u),s.push(u)}this._spliceFrames(e,1,...s),e+=o.length-1}return e})}frame(e){return this._frameById.get(e)}_appendStackTrace(e,r){for(console.assert(!r||!this._asyncStackTraceId);r;){if(r.description==="async function"&&r.callFrames.length&&r.callFrames.shift(),r.callFrames.length){this._appendFrame(new tH(r.description||"async"));for(let n of r.callFrames)this._appendFrame(sr.fromRuntime(e,n,!0))}r.parentId&&(this._asyncStackTraceId=r.parentId,console.assert(!r.parent)),r=r.parent}}_spliceFrames(e,r,...n){this.frames.splice(e,r,...n);for(let i of n)i instanceof tH||this._frameById.set(i.frameId,i)}_appendFrame(e){this._spliceFrames(this.frames.length,0,e)}async formatAsNative(){return await this.formatWithMapper(e=>e.formatAsNative())}async format(){return await this.formatWithMapper(e=>e.format())}async formatWithMapper(e){let r=await this.loadFrames(50);for(let i=r.length-1;i>=0;i--){let o=r[i];if(o instanceof sr&&o.isReplEval){r=r.slice(0,i+1);break}}let n=r.map(e);return(await Promise.all(n)).join(`
`)+`
`}async toDap(e){let r=e.startFrame||0,n=(e.levels||50)+r,i=await this.loadFrames(n,e.noFuncEval);n=Math.min(i.length,e.levels?n:i.length);let o=[];for(let s=r;s<n;s++)o.push(i[s].toDap(e.format));return{stackFrames:await Promise.all(o),totalFrames:this._asyncStackTraceId?1e6:i.length}}},Dw=hd(),tH=class{constructor(e="async"){this.label=e;this.frameId=Dw()}async toDap(){return{name:this.label,id:0,line:0,column:0,presentationHint:"label"}}async formatAsNative(){return`    --- ${this.label} ---`}async format(){return`\u25C0 ${this.label} \u25B6`}},LR="<anonymous>",UY=/^class\s+(.+) {($|\n)/;async function jY(t,e,r){if(!e.functionName)return LR;if(e.functionName.includes("."))return e.functionName;let n;if(e.this.objectId&&r&&(n=(await t.cdp().Runtime.callFunctionOn({functionDeclaration:Xm.decl("64","null"),objectId:e.this.objectId,returnByValue:!0}))?.result.value),!n&&e.this.description){n=e.this.description;let s=UY.exec(n);s&&(n=s[1])}if(!n)return e.functionName;let i=n.indexOf(`
`);i!==-1&&(n=n.slice(0,i).trim());let o=e.functionName;return n===o?`${n}.constructor`:n?`${n}.${o}`:o}function WY(t){return t.functionName||LR}var sr=class t{constructor(e,r,n,i=!1){this.callFrame=r;this.isAsync=i;this.frameId=Dw();this.root=this;this.getLocationInfo=ye(async()=>{let e=this.uiLocation(),r=await fw(this),n=this.overrideName||("this"in this.callFrame?await jY(this._thread,this.callFrame,r===0):WY(this.callFrame));return{isSmartStepped:r,name:n,uiLocation:await e}});this.completions=ye(async()=>{if(!this._scope)return[];let e=this._thread.pausedVariables();if(!e)return[];let r=[];for(let i=0;i<this._scope.chain.length;i++){let o=this._scopeVariable(i,this._scope);o&&r.push(e.getVariableNames({variablesReference:o.id}).then(s=>s.map(a=>({label:a,type:"property"}))))}let n=await Promise.all(r);return[].concat(...n)});this._rawLocation=n,this.uiLocation=ye(()=>e.rawLocationToUiLocation(n)),this._thread=e;let o=n.scriptId?e.getScriptById(n.scriptId):void 0;this.isReplEval=o?o.url.endsWith(".repl"):!1}get rawPosition(){return new gt(this._rawLocation.lineNumber,this._rawLocation.columnNumber)}static fromRuntime(e,r,n){return new t(e,r,e.rawLocation(r),n)}static fromDebugger(e,r){let n=new t(e,r,e.rawLocation(r));return n._scope={chain:r.scopeChain,thisObject:r.this,returnValue:r.returnValue,variables:new Array(r.scopeChain.length).fill(void 0),callFrameId:r.callFrameId},n}get scriptId(){return"scriptId"in this.callFrame?this.callFrame.scriptId:this.callFrame.location.scriptId}get scriptSource(){return this._thread._sourceContainer.getScriptById(this.scriptId)}get canExplicitlyBeRestarted(){return!!this.callFrame.canBeRestarted}equivalentTo(e){return e instanceof t&&e._rawLocation.columnNumber===this._rawLocation.columnNumber&&e._rawLocation.lineNumber===this._rawLocation.lineNumber&&e._rawLocation.scriptId===this._rawLocation.scriptId}callFrameId(){return this._scope?this._scope.callFrameId:void 0}async scopes(){let e=this._scope;if(!e)throw new Q(yD());return{scopes:(await Promise.all(e.chain.map(async(n,i)=>{let o="",s;switch(n.type){case"global":o=Cr.t("Global");break;case"local":o=Cr.t("Local"),s="locals";break;case"with":o=Cr.t("With Block"),s="locals";break;case"closure":o=Cr.t("Closure"),s="arguments";break;case"catch":o=Cr.t("Catch Block"),s="locals";break;case"block":o=Cr.t("Block"),s="locals";break;case"script":o=Cr.t("Script");break;case"eval":o=Cr.t("Eval");break;case"module":o=Cr.t("Module");break;default:o=n.type.substr(0,1).toUpperCase()+n.type.substr(1);break}n.name&&n.type==="closure"?o=Cr.t("Closure ({0})",n.name):n.name&&(o=`${o}: ${n.name}`);let a=this._scopeVariable(i,e);if(!a)return;let u={name:o,presentationHint:s,expensive:n.type==="global",variablesReference:a.id};if(n.startLocation){let c=this._thread.rawLocation(n.startLocation),l=await this._thread.rawLocationToUiLocation(c);if(u.line=(l||c).lineNumber,u.column=(l||c).columnNumber,l&&(u.source=await l.source.toDap()),n.endLocation){let p=this._thread.rawLocation(n.endLocation),f=await this._thread.rawLocationToUiLocation(p);u.endLine=(f||p).lineNumber,u.endColumn=(f||p).columnNumber}}return u}))).filter(qt)}}getStepSkipList(e){return Promise.resolve(void 0)}async toDap(e){let{isSmartStepped:r,name:n,uiLocation:i}=await this.getLocationInfo(),o=i?await i.source.toDap():void 0,s=r?"deemphasize":"normal";r&&o&&(o.origin=r===1?Cr.t("Skipped by smartStep"):Cr.t("Skipped by skipFiles"));let a=(i||this._rawLocation).lineNumber,u=(i||this._rawLocation).columnNumber,c=n;return o&&e&&(e.module&&(c+=` [${o.name}]`),e.line&&(c+=` Line ${a}`)),{id:this.frameId,name:c,line:a,column:u,source:o,presentationHint:s,canRestart:this.callFrame.canBeRestarted??!this.isAsync}}async formatAsNative(){let{name:e,uiLocation:r}=await this.getLocationInfo(),n=await r?.source.existingAbsolutePath()||await r?.source.prettyName()||this.callFrame.url,{lineNumber:i,columnNumber:o}=r||this._rawLocation;return`    at ${e} (${n}:${i}:${o})`}async format(){let{name:e,uiLocation:r}=await this.getLocationInfo(),n=await r?.source.prettyName()||"<unknown>",i=r||this._rawLocation,o=`${e} @ ${n}:${i.lineNumber}`;return i.columnNumber>1&&(o+=`:${i.columnNumber}`),o}_scopeVariable(e,r){let n=r.variables[e];if(n)return n;let i={stackFrame:this,callFrameId:r.callFrameId,scopeNumber:e},o=[];e===0&&(r.thisObject&&o.push({name:"this",value:r.thisObject}),r.returnValue&&o.push({name:Cr.t("Return value"),value:r.returnValue}));let s=this._thread.pausedVariables();if(!s)return;let a=s.createScope(r.chain[e].object,i,o);return r.variables[e]=a}},Cw={scopes:[]},Xp=class{constructor(e){this.frameId=Dw();this.name=e.name,this.root=e.root,this.thread=e.thread,this.source=e.source,this.inlineFrameIndex=e.inlineFrameIndex,this.wasmPosition=new st(this.inlineFrameIndex,this.root.rawPosition.base0.columnNumber),this.uiLocation=ye(()=>e.thread._sourceContainer.preferredUiLocation({columnNumber:e.root.rawPosition.base1.columnNumber,lineNumber:e.inlineFrameIndex+1,source:e.source}))}async formatAsNative(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation();return`    at ${this.name} (${n.url}:${r}:${e})`}async format(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation(),i=await n.prettyName()||"<unknown>";return`${this.name} @ ${i}:${r}:${e}`}async toDap(){let{columnNumber:e,lineNumber:r,source:n}=await this.uiLocation();return Promise.resolve({id:this.frameId,name:this.name,column:e,line:r,source:await n.toDapShallow()})}async getStepSkipList(e){let r=this.source.sourceMap.value.settledValue;if(!r?.getStepSkipList)return;let n=await this.uiLocation();return n?r.getStepSkipList(e,this.wasmPosition,n.source.compiledToSourceUrl.get(this.source),new gt(n.lineNumber,n.columnNumber)):r.getStepSkipList(e,this.root.rawPosition)}async scopes(){let e=this.source.sourceMap.value.settledValue,r=this.root.callFrameId();if(!e||!r)return Cw;let n=await e.getVariablesInScope?.(r,this.wasmPosition);if(!n)return Cw;let i=this.thread.pausedVariables();if(!i)return Cw;let o={stackFrame:this.root,callFrameId:r,scopeNumber:0};return{scopes:await Promise.all([...kC(n,s=>s.scope)].map(([s,a])=>i.createWasmScope(s,a,o).toDap("propertyValue").then(u=>({name:u.name,variablesReference:u.variablesReference,expensive:s!=="LOCAL"}))))}}};var xR=M(lt());var ma=class{constructor(e){this.event=e;this.stackTrace=ye(e=>this.event.stackTrace?to.fromRuntime(e,this.event.stackTrace):void 0);this.getUiLocation=ye(async e=>{let r=this.stackTrace(e);if(!r)return;let n;for(let i of r.frames){if(!(i instanceof sr))continue;let o=await i.uiLocation();if(o&&(n||(n=o),!o.source.blackboxed()))return{source:await o.source.toDap(),line:o.lineNumber,column:o.columnNumber}}if(n)return{source:await n.source.toDap(),line:n.lineNumber,column:n.columnNumber}})}formatDefaultString(e,r,n=!1){let o=r.length>1&&r[0].type==="string"?sw(r[0].value,r.slice(1),lw):sw("",r,lw),s=o.result+`
`;return o.usedAllSubs&&!r.some(pa)?{output:s}:this.formatComplexStringOutput(e,s,r,n)}async formatComplexStringOutput(e,r,n,i){(n.some(s=>s.subtype==="error")||Qo.isStackLike(r))&&(await this.getUiLocation(e),r=await e.replacePathsInStackTrace(r),i=!0);let o=e.replVariables.createVariableForOutput(r,n,i?this.stackTrace(e):void 0);return{output:r,variablesReference:o.id}}},rH=class extends ma{async toDap(e){return this.event.args[0]?.value==="console.assert"&&(this.event.args[0].value=xR.t("Assertion failed")),{category:"stderr",...await this.formatDefaultString(e,this.event.args,!0),...await this.getUiLocation(e)}}},Ha=class extends ma{constructor(r,n,i){super(r);this.includeStack=n;this.category=i}async toDap(r){return{category:this.category,...await this.formatDefaultString(r,this.event.args,this.includeStack),...await this.getUiLocation(r)}}},ts=class extends Ha{constructor(e){super(e,!1,"stdout")}},nH=class extends Ha{constructor(e){super(e,!0,"stdout")}},iH=class extends Ha{constructor(e){super(e,!0,"stderr")}},oH=class extends Ha{constructor(e){super(e,!0,"stderr")}},sH=class extends ma{async toDap(e){return{category:"stdout",group:this.event.type==="startGroupCollapsed"?"startCollapsed":"start",...await this.formatDefaultString(e,this.event.args),...await this.getUiLocation(e)}}},aH=class extends Ha{constructor(e){super(e,!1,"stdout")}async toDap(e){return this.event.args[0]?.preview?{category:"stdout",output:"",variablesReference:e.replVariables.createVariableForOutput("",this.event.args,void 0,this.event.type).id,...await this.getUiLocation(e)}:super.toDap(e)}};var Gp=class extends ma{constructor(){super(...arguments);this.stackTrace=ye(r=>{if(this.event.stackTrace)return to.fromRuntime(r,this.event.stackTrace);if(this.event.scriptId)return to.fromRuntime(r,{callFrames:[{functionName:"(program)",lineNumber:this.event.lineNumber,columnNumber:this.event.columnNumber,scriptId:this.event.scriptId,url:this.event.url||""}]})})}async toDap(r){let n=this.event.exception?da(this.event.exception):{title:""},i=n.title;i.startsWith("Uncaught")||(i=`Uncaught ${this.event.exception?.className??"Error"} `+i);let o=this.stackTrace(r),s=this.event.exception&&!n.stackTrace?[this.event.exception]:[];return Qo.isStackLike(i)?i=await r.replacePathsInStackTrace(i):o&&(i+=`
`+await o.formatAsNative()),{category:"stderr",output:i,variablesReference:o||s.length?r.replVariables.createVariableForOutput(i,s,o).id:void 0,...await this.getUiLocation(r)}}};var uH=Symbol("IConsole");var ga=M(ue()),$R=v("os"),TR=v("path");var $w=v("path"),CR=(0,$w.join)(__dirname,"diagnosticTool.js"),DR=(0,$w.join)(__dirname,"diagnosticTool.css");var Pi=Symbol("ITarget"),vr=Symbol("ILauncher");var rs=class{constructor(e,r,n,i){this.fs=e;this.sources=r;this.breakpoints=n;this.target=i}async generateObject(){let[e]=await Promise.all([this.dumpSources()]);return{breakpoints:this.dumpBreakpoints(),sources:e,config:this.target.launchConfig}}async generateHtml(e=(0,TR.join)((0,$R.tmpdir)(),"js-debug-diagnostics.html")){return await this.fs.writeFile(e,`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <style>${await this.fs.readFile(DR,"utf-8")}<</style>
      </head>
      <body>
        <script>window.DUMP=${JSON.stringify(await this.generateObject())}</script>
        <script>${await this.fs.readFile(CR,"utf-8")}</script>
      </body>
      </html>`),e}dumpBreakpoints(){let e=[];for(let r of[this.breakpoints.appliedByPath,this.breakpoints.appliedByRef])for(let n of r.values())for(let i of n){let o=i.diagnosticDump();e.push({source:o.source,params:o.params,cdp:o.cdp.map(s=>s.state===1?{...s,uiLocations:s.uiLocations.map(a=>this.dumpUiLocation(a))}:{...s,done:void 0})})}return e}dumpSources(){let e=[],r=0;for(let n of this.sources.sources)e.push((async()=>({uniqueId:r++,url:n.url,sourceReference:n.sourceReference,absolutePath:n.absolutePath,actualAbsolutePath:await n.existingAbsolutePath(),scriptIds:n.scripts.map(i=>i.scriptId),prettyName:await n.prettyName(),compiledSourceRefToUrl:n instanceof ft?[...n.compiledToSourceUrl.entries()].map(([i,o])=>[i.sourceReference,o]):void 0,sourceMap:Bo(n)?{url:n.sourceMap.metadata.sourceMapUrl,metadata:n.sourceMap.metadata,sources:ji(Object.fromEntries(n.sourceMap.sourceByUrl),i=>i.sourceReference)}:void 0}))());return Promise.all(e)}dumpUiLocation(e){return{lineNumber:e.lineNumber,columnNumber:e.columnNumber,sourceReference:e.source.sourceReference}}};rs=V([(0,ga.injectable)(),I(0,(0,ga.inject)(Ve)),I(1,(0,ga.inject)(Ot)),I(2,(0,ga.inject)(un)),I(3,(0,ga.inject)(Pi))],rs);var ns=M(ue());var gc=Symbol("IExceptionPauseService");var Hc=class{constructor(e,r,n,i,o){this.evaluator=e;this.scriptSkipper=r;this.dap=n;this.sourceContainer=o;this.state={cdp:"none"};this.blocker=ke();this.noDebug=!!i.noDebug,this.breakOnError=i.__breakOnConditionalError,this.blocker.resolve()}get launchBlocker(){return this.blocker.promise}async setBreakpoints(e){if(!this.noDebug){try{this.state=this.parseBreakpointRequest(e)}catch(r){if(!(r instanceof Q))throw r;this.dap.output({category:"stderr",output:r.message});return}this.cdp?await this.sendToCdp(this.cdp):this.state.cdp!=="none"&&this.blocker.hasSettled()&&(this.blocker=ke())}}async shouldPauseAt(e){if(e.reason!=="exception"&&e.reason!=="promiseRejection"||this.state.cdp==="none"||this.shouldScriptSkip(e))return!1;let r=this.state.condition;if(e.data?.uncaught){if(r.uncaught&&!await this.evalCondition(e,r.uncaught))return!1}else if(r.caught&&!await this.evalCondition(e,r.caught))return!1;return!0}async apply(e){this.cdp=e,this.state.cdp!=="none"&&await this.sendToCdp(e)}async sendToCdp(e){await e.Debugger.setPauseOnExceptions({state:this.state.cdp}),this.blocker.resolve()}async evalCondition(e,r){return!!(await r({callFrameId:e.callFrames[0].callFrameId},{error:e.data}))?.result.value}shouldScriptSkip(e){if(e.data?.uncaught||!e.callFrames.length)return!1;let r=this.sourceContainer.getScriptById(e.callFrames[0].location.scriptId);return!!r&&this.scriptSkipper.isScriptSkipped(r.url)}parseBreakpointRequest(e){let r=(e.filterOptions??[]).concat(e.filters.map(a=>({filterId:a}))),n="none",i=[],o=[];for(let{filterId:a,condition:u}of r)a==="all"?(n="all",u&&i.push(a)):a==="uncaught"&&(n==="none"&&(n="uncaught"),u&&o.push(a));let s=a=>{if(a.length===0)return;let u="!!("+r.map(p=>p.condition).filter(qt).join(") || !!(")+")",c=No(u);if(c)throw new Q(Fo({line:0,condition:u},c.message));let l=this.breakOnError?a_(u):u;return this.evaluator.prepare(l,{hoist:["error"]}).invoke};return n==="none"?{cdp:n}:{cdp:n,condition:{caught:s(i),uncaught:s(o)}}}};Hc=V([(0,ns.injectable)(),I(0,(0,ns.inject)(nn)),I(1,(0,ns.inject)(Xo)),I(2,(0,ns.inject)(Lr)),I(3,(0,ns.inject)(Ee)),I(4,(0,ns.inject)(Ot))],Hc);var pH=M(ue());var cH=class{constructor(){this.didEnable=new WeakSet}async retrieve(e){this.didEnable.has(e)||(this.didEnable.add(e),await e.Performance.enable({}));let r=await e.Performance.getMetrics({});if(!r)return{error:"Error in CDP"};let n={};for(let i of r.metrics)n[i.name]=i.value;return{metrics:n}}};var lH=class{async retrieve(e){let r=await e.Runtime.evaluate({expression:`({
        memory: process.memoryUsage(),
        cpu: process.cpuUsage(),
        timestamp: Date.now(),
        resourceUsage: process.resourceUsage && process.resourceUsage(),
      })${tt()}`,returnByValue:!0});return r?r.exceptionDetails?{error:r.exceptionDetails.text}:{metrics:r.result.value}:{error:"No response from CDP"}}};var fH=Symbol("IPerformanceProvider"),ya=class{constructor(e){this.target=e}create(){return this.target.type()==="node"?new lH:new cH}};ya=V([(0,pH.injectable)(),I(0,(0,pH.inject)(Pi))],ya);var Nw=M(lt()),OR=v("crypto"),is=M(ue()),NR=v("os"),BR=v("path");var mH=M(ue());var Tw=M(lt()),ba=M(ue()),dH=v("path");var yc=class{constructor(e){this.sources=e;this.locationIdCounter=0;this.locationsByRef=new Map}getLocationIdFor(e){let r=[e.functionName,e.url,e.scriptId,e.lineNumber,e.columnNumber].join(":"),n=this.locationsByRef.get(r);if(n)return n.id;let i=this.locationIdCounter++;return this.locationsByRef.set(r,{id:i,callFrame:e,locations:(async()=>{let o=await this.sources.getScriptById(e.scriptId)?.source;if(!o)return[];let s=await this.sources.currentSiblingUiLocations({lineNumber:e.lineNumber+1,columnNumber:e.columnNumber+1,source:o});return Promise.all(s.map(async a=>({...a,source:await a.source.toDapShallow()})))})()}),i}getLocations(){return Promise.all([...this.locationsByRef.values()].sort((e,r)=>e.id-r.id).map(async e=>({callFrame:e.callFrame,locations:await e.locations})))}};var Ft=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(!await this.cdp.Profiler.start({}))throw new Q($u());return new Mw(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}async save(e,r){let n=await MR(e,this.sources,this.launchConfig.__workspaceFolder);(0,dH.isAbsolute)(r)||(r=(0,dH.join)(this.launchConfig.__workspaceFolder,r)),await this.fs.writeFile(r,JSON.stringify(n))}};Ft.type="cpu",Ft.extension=".cpuprofile",Ft.label=Tw.t("CPU Profile"),Ft.description=Tw.t("Generates a .cpuprofile file you can open in the Chrome devtools"),Ft.editable=!0,Ft=V([(0,ba.injectable)(),I(0,(0,ba.inject)(rt)),I(1,(0,ba.inject)(Ve)),I(2,(0,ba.inject)(Ot)),I(3,(0,ba.inject)(Ee))],Ft);var Mw=class{constructor(e,r,n,i,o){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new K;this.disposed=!1;this.onUpdate=new K().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,this.stopEmitter.fire())}async stop(){let e=await this.cdp.Profiler.stop({});if(!e)throw new Q($u());await this.dispose();let r=await MR(e.profile,this.sources,this.workspaceFolder);await this.fs.writeFile(this.file,JSON.stringify(r))}};async function MR(t,e,r){let n=new yc(e),i=t.nodes.map(o=>({...o,locationId:n.getLocationIdFor(o.callFrame),positionTicks:o.positionTicks?.map(s=>({...s,startLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line-1,columnNumber:0}),endLocationId:n.getLocationIdFor({...o.callFrame,lineNumber:s.line,columnNumber:0})}))}));return{...t,nodes:i,$vscode:{rootPath:r,locations:await n.getLocations()}}}var Rw=M(lt()),va=M(ue());var Ur=class{constructor(e,r,n,i){this.cdp=e;this.fs=r;this.sources=n;this.launchConfig=i}static canApplyTo(){return!0}async start(e,r){if(await this.cdp.HeapProfiler.enable({}),!await this.cdp.HeapProfiler.startSampling({}))throw new Q($u());return new kw(this.cdp,this.fs,this.sources,this.launchConfig.__workspaceFolder,r)}};Ur.type="heap",Ur.extension=".heapprofile",Ur.label=Rw.t("Heap Profile"),Ur.description=Rw.t("Generates a .heapprofile file you can open in the Chrome devtools"),Ur.editable=!0,Ur=V([(0,va.injectable)(),I(0,(0,va.inject)(rt)),I(1,(0,va.inject)(Ve)),I(2,(0,va.inject)(Ot)),I(3,(0,va.inject)(Ee))],Ur);var kw=class{constructor(e,r,n,i,o){this.cdp=e;this.fs=r;this.sources=n;this.workspaceFolder=i;this.file=o;this.stopEmitter=new K;this.disposed=!1;this.onUpdate=new K().event;this.onStop=this.stopEmitter.event}async dispose(){this.disposed||(this.disposed=!0,await this.cdp.HeapProfiler.disable({}),this.stopEmitter.fire())}async stop(){let e=await this.cdp.HeapProfiler.stopSampling({});if(!e)throw new Q($u());await this.dispose();let r=await this.annotateSources(e.profile);await this.fs.writeFile(this.file,JSON.stringify(r))}async annotateSources(e){let r=new yc(this.sources),n=(o,s)=>{s.locationId=r.getLocationIdFor(o.callFrame);for(let a of o.children){let u={...a,children:[]};s.children.push(u),n(a,u)}},i={...e.head,children:[]};return n(e.head,i),{...e,head:i,$vscode:{rootPath:this.workspaceFolder,locations:await r.getLocations()}}}};var Ow=M(lt()),RR=v("fs"),hH=M(ue());var jr=class{constructor(e){this.cdp=e;this.cdp.HeapProfiler.on("addHeapSnapshotChunk",({chunk:r})=>this.currentWriter?.stream.write(r))}static canApplyTo(){return!0}async start(e,r){return{onStop:new K().event,onUpdate:new K().event,dispose:()=>{},stop:async()=>{await this.cdp.HeapProfiler.enable({}),await this.dumpToFile(r),await this.cdp.HeapProfiler.disable({})}}}async dumpToFile(e){let{stream:r,promise:n}=this.currentWriter={stream:(0,RR.createWriteStream)(e),promise:this.cdp.HeapProfiler.takeHeapSnapshot({})};await n,r.end(),this.currentWriter=void 0}};jr.type="memory",jr.extension=".heapsnapshot",jr.label=Ow.t("Heap Snapshot"),jr.description=Ow.t("Generates a .heapsnapshot file you can open in the Chrome devtools"),jr.instant=!0,jr=V([(0,hH.injectable)(),I(0,(0,hH.inject)(rt))],jr);var HH=Symbol("IProfilerFactory"),kR=()=>{let t=new Date;return["vscode-profile",t.getFullYear(),t.getMonth()+1,t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()].map(e=>String(e).padStart(2,"0")).join("-")},ro=class{constructor(e){this.container=e}get(e){let r=ro.ctors.find(n=>n.type===e);if(!r)throw new Error(`Invalid profilter type ${e}`);return this.container.get(r)}};ro.ctors=[Ft,Ur,jr],ro=V([(0,mH.injectable)(),I(0,(0,mH.inject)(ku))],ro);var gH=Symbol("IProfileController"),bc=class{constructor(e,r,n,i,o){this.cdp=e;this.factory=r;this.basicCpuProfiler=n;this.breakpoints=i;this.shutdown=o;this.seenConsoleProfileNames=Object.create(null)}connect(e,r){e.on("startProfile",async n=>(await this.start(e,r,n),{})),e.on("stopProfile",()=>this.stopProfiling(e)),this.cdp.Profiler.on("consoleProfileStarted",()=>{e.output({output:Nw.t("Console profile started")+`
`,category:"console"})}),this.cdp.Profiler.on("consoleProfileFinished",async n=>{let i=this.saveConsoleProfile(e,n),o=this.shutdown.register(0,()=>i);await i,o.dispose()}),r.onPaused(()=>this.stopProfiling(e))}async start(e,r,n){if(this.profile)throw new Q(mD());this.profile=this.startProfileInner(e,r,n).catch(i=>{throw this.profile=void 0,i}),await this.profile}async saveConsoleProfile(e,r){let n;if(r.title){n=r.title.replace(/[\/\\]/g,"-");let i=this.seenConsoleProfileNames[r.title]||0;this.seenConsoleProfileNames[r.title]=i+1,i>0&&(n+=`-${i}`)}else n=kR();n+=Ft.extension,await this.basicCpuProfiler.save(r.profile,n),e.output({output:Nw.t('CPU profile saved as "{0}" in your workspace folder',n)+`
`,category:"console"})}async startProfileInner(e,r,n){let i=!1,o;if(n.stopAtBreakpoint?.length){let l=new Set(n.stopAtBreakpoint);i=!0,o=p=>!(p instanceof on)||l.has(p.dapId)}else o=()=>!1;await this.breakpoints.applyEnabledFilter(o);let s=(0,BR.join)((0,NR.tmpdir)(),`vscode-js-profile-${(0,OR.randomBytes)(4).toString("hex")}`),a=await this.factory.get(n.type).start(n,s),u={file:s,profile:a,enableFilter:o,keptDebuggerOn:i};a.onUpdate(l=>e.profilerStateUpdate({label:l,running:!0})),a.onStop(()=>this.disposeProfile(u));let c=!!r.pausedDetails();return i?await r.resume():c&&(await this.cdp.Debugger.disable({}),c&&r.onResumed()),e.profileStarted({file:u.file,type:n.type}),u}async stopProfiling(e){let r=await this.profile?.catch(()=>{});return!r||!this.profile?{}:(this.profile=void 0,await r?.profile.stop(),e.profilerStateUpdate({label:"",running:!1}),{})}async disposeProfile({profile:e,enableFilter:r,keptDebuggerOn:n}){n||await this.cdp.Debugger.enable({}),await this.breakpoints.applyEnabledFilter(void 0,r),e.dispose()}};bc=V([(0,is.injectable)(),I(0,(0,is.inject)(rt)),I(1,(0,is.inject)(HH)),I(2,(0,is.inject)(Ft)),I(3,(0,is.inject)(un)),I(4,(0,is.inject)(qo))],bc);var _a=class t{constructor(e,r,n,i){this.asyncStackPolicy=r;this.launchConfig=n;this._services=i;this._disposables=new je;this._customBreakpoints=[];this._xhrBreakpoints=[];this._threadDeferred=ke();this.breakpointIdCounter=hd();this._cdpProxyProvider=this._services.get(km);this._configurationDoneDeferred=ke(),this.sourceContainer=i.get(Ot),this.breakpointManager=i.get(un);let o=i.get(fH),s=i.get(yr);s.onFlush(()=>{s.report("breakpointStats",this.breakpointManager.statisticsForTelemetry()),s.report("statistics",this.sourceContainer.statistics())}),this.dap=e,this.dap.on("initialize",a=>this.onInitialize(a)),this.dap.on("setBreakpoints",a=>this._onSetBreakpoints(a)),this.dap.on("setExceptionBreakpoints",a=>this.setExceptionBreakpoints(a)),this.dap.on("configurationDone",()=>this.configurationDone()),this.dap.on("loadedSources",()=>this._onLoadedSources()),this.dap.on("disableSourcemap",a=>this._onDisableSourcemap(a)),this.dap.on("source",a=>this._onSource(a)),this.dap.on("threads",()=>this._onThreads()),this.dap.on("stackTrace",a=>this._withThread(u=>u.stackTrace(a))),this.dap.on("variables",a=>this._onVariables(a)),this.dap.on("readMemory",a=>this._onReadMemory(a)),this.dap.on("writeMemory",a=>this._onWriteMemory(a)),this.dap.on("setVariable",a=>this._onSetVariable(a)),this.dap.on("setExpression",a=>this._onSetExpression(a)),this.dap.on("continue",()=>this._withThread(a=>a.resume())),this.dap.on("pause",()=>this._withThread(a=>a.pause())),this.dap.on("next",()=>this._withThread(a=>a.stepOver())),this.dap.on("stepIn",a=>this._withThread(u=>u.stepInto(a.targetId))),this.dap.on("stepOut",()=>this._withThread(a=>a.stepOut())),this.dap.on("restartFrame",a=>this._withThread(u=>u.restartFrame(a))),this.dap.on("scopes",a=>this._withThread(u=>u.scopes(a))),this.dap.on("evaluate",a=>this.onEvaluate(a)),this.dap.on("completions",a=>this._withThread(u=>u.completions(a))),this.dap.on("exceptionInfo",()=>this._withThread(a=>a.exceptionInfo())),this.dap.on("setCustomBreakpoints",a=>this.setCustomBreakpoints(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("toggleSkipFileStatus",a=>this._toggleSkipFileStatus(a)),this.dap.on("prettyPrintSource",a=>this._prettyPrintSource(a)),this.dap.on("revealPage",()=>this._withThread(a=>a.revealPage())),this.dap.on("getPerformance",()=>this._withThread(a=>o.retrieve(a.cdp()))),this.dap.on("breakpointLocations",a=>this._breakpointLocations(a)),this.dap.on("createDiagnostics",a=>this._dumpDiagnostics(a)),this.dap.on("requestCDPProxy",()=>this._requestCDPProxy()),this.dap.on("setExcludedCallers",a=>this._onSetExcludedCallers(a)),this.dap.on("saveDiagnosticLogs",({toFile:a})=>this._saveDiagnosticLogs(a)),this.dap.on("setSourceMapStepping",a=>this._setSourceMapStepping(a)),this.dap.on("stepInTargets",a=>this._stepInTargets(a)),this.dap.on("setDebuggerProperty",a=>this._setDebuggerProperty(a)),this.dap.on("setSymbolOptions",a=>this._setSymbolOptions(a))}_setDebuggerProperty(e){return this._thread?.cdp().DotnetDebugger.setDebuggerProperty(e),Promise.resolve({})}_setSymbolOptions(e){return this._thread?.cdp().DotnetDebugger.setSymbolOptions(e),Promise.resolve({})}_breakpointLocations(e){return this._withThread(async r=>{let n=this.sourceContainer.source(e.source);return n?{breakpoints:(await this.breakpointManager.getBreakpointLocations(r,n,new gt(e.line,e.column||1),new gt(e.endLine||e.line+1,e.endColumn||e.column||1))).map(o=>o.uiLocations.find(s=>s.source===n)).filter(qt).map(o=>({line:o.lineNumber,column:o.columnNumber}))}:{breakpoints:[]}})}_stepInTargets(e){return this._withThread(async r=>({targets:await r.getStepInTargets(e.frameId)}))}_setSourceMapStepping({enabled:e}){return this.sourceContainer.doSourceMappedStepping=e,Promise.resolve({})}async _saveDiagnosticLogs(e){let r=this._services.get(ne).getRecentLogs();return await this._services.get(Ve).writeFile(e,r.map(n=>JSON.stringify(n)).join(`
`)),{}}async launchBlocker(){await this._configurationDoneDeferred.promise,await this._services.get(gc).launchBlocker,await this.breakpointManager.launchBlocker()}async _onSetExcludedCallers({callers:e}){return(await this._threadDeferred.promise).setExcludedCallers(e),{}}async onInitialize(e){console.assert(e.linesStartAt1),console.assert(e.columnsStartAt1);let r=t.capabilities(!0);return setTimeout(()=>this.dap.initialized({}),0),setTimeout(()=>this._thread?.dapInitialized(),0),r}static capabilities(e=!1){return{supportsConfigurationDoneRequest:!0,supportsFunctionBreakpoints:!1,supportsConditionalBreakpoints:!0,supportsHitConditionalBreakpoints:!0,supportsEvaluateForHovers:!0,supportsReadMemoryRequest:!0,supportsWriteMemoryRequest:!0,exceptionBreakpointFilters:[{filter:"all",label:fn.t("Caught Exceptions"),default:!1,supportsCondition:!0,description:fn.t("Breaks on all throw errors, even if they're caught later."),conditionDescription:'error.name == "MyError"'},{filter:"uncaught",label:fn.t("Uncaught Exceptions"),default:!1,supportsCondition:!0,description:fn.t("Breaks only on errors or promise rejections that are not handled."),conditionDescription:'error.name == "MyError"'}],supportsStepBack:!1,supportsSetVariable:!0,supportsRestartFrame:!0,supportsGotoTargetsRequest:!1,supportsStepInTargetsRequest:!0,supportsCompletionsRequest:!0,supportsModulesRequest:!1,additionalModuleColumns:[],supportedChecksumAlgorithms:[],supportsRestartRequest:!0,supportsExceptionOptions:!1,supportsValueFormattingOptions:!0,supportsExceptionInfoRequest:!0,supportTerminateDebuggee:!0,supportsDelayedStackTraceLoading:!0,supportsLoadedSourcesRequest:!0,supportsLogPoints:!0,supportsTerminateThreadsRequest:!1,supportsSetExpression:!0,supportsTerminateRequest:!1,completionTriggerCharacters:[".","[",'"',"'"],supportsBreakpointLocationsRequest:!0,supportsClipboardContext:!0,supportsExceptionFilterOptions:!0,supportsEvaluationOptions:!!e,supportsDebuggerProperties:!!e,supportsSetSymbolOptions:!!e}}async _onSetBreakpoints(e){return this.breakpointManager.setBreakpoints(e,e.breakpoints?.map(()=>this.breakpointIdCounter())??[])}async setExceptionBreakpoints(e){return await this._services.get(gc).setBreakpoints(e),{}}async configurationDone(){return this._configurationDoneDeferred.resolve(),{}}async _onLoadedSources(){return{sources:await this.sourceContainer.loadedSources()}}async _onDisableSourcemap(e){let r=this.sourceContainer.source(e.source);if(!r)return Be(fn.t("Source not found"));if(!(r instanceof ft))return Be(fn.t("Source not a source map"));for(let n of r.compiledToSourceUrl.keys())this.sourceContainer.disableSourceMapForSource(n,!0);return await this._thread?.refreshStackTrace(),{}}async _onSource(e){e.source||(e.source={sourceReference:e.sourceReference}),e.source.path=$n(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Be(fn.t("Source not found"));let n=await r.content();return n===void 0?(r instanceof ft&&this.dap.suggestDisableSourcemap({source:e.source}),Be(fn.t("Unable to retrieve source content"))):{content:n,mimeType:r.getSuggestedMimeType}}async _onThreads(){let e=[];return this._thread&&e.push({id:this._thread.id,name:this._thread.name()}),{threads:e}}findVariableStore(e){if(!this._thread)return;let r=this._thread.pausedVariables();if(r&&e(r))return r;if(e(this._thread.replVariables))return this._thread.replVariables}async _onVariables(e){return{variables:await this.findVariableStore(n=>n.hasVariable(e.variablesReference))?.getVariables(e)??[]}}async _onReadMemory(e){let r=e.memoryReference,n=await this.findVariableStore(i=>i.hasMemory(r))?.readMemory(r,e.offset??0,e.count);return n?{address:"0",data:n.toString("base64"),unreadableBytes:e.count-n.length}:{address:"0",unreadableBytes:e.count}}async _onWriteMemory(e){let r=e.memoryReference;return{bytesWritten:await this.findVariableStore(i=>i.hasMemory(r))?.writeMemory(r,e.offset??0,Buffer.from(e.data,"base64"))}}async _onSetExpression(e){if(!this._thread)throw new Q(r_());let r=await this._thread.evaluate({expression:`${e.expression} = ${ip(e.value)}`,context:"repl",frameId:e.frameId});return{value:r.result,variablesReference:r.variablesReference,indexedVariables:r.indexedVariables,namedVariables:r.namedVariables,presentationHint:r.presentationHint,type:r.type}}async _onSetVariable(e){let r=this.findVariableStore(n=>n.hasVariable(e.variablesReference));return r?(e.value=ip(e.value.trim()),r.setVariable(e)):Be(fn.t("Variable not found"))}_withThread(e){if(!this._thread)throw new Q(r_());return e(this._thread)}async _refreshStackTrace(){if(!this._thread)return;this._thread.pausedDetails()&&await this._thread.refreshStackTrace()}createThread(e,r){this._thread=new mc(this.sourceContainer,e,this.dap,r,this._services.get(jo),this._services.get(ne),this._services.get(nn),this._services.get(Om),this.launchConfig,this.breakpointManager,this._services.get(uH),this._services.get(gc),this._services.get(Zo),this._services.get(qo));let n=this._services.get(gH);return n.connect(this.dap,this._thread),"profileStartup"in this.launchConfig&&this.launchConfig.profileStartup&&n.start(this.dap,this._thread,{type:Ft.type}),this._thread.updateCustomBreakpoints(this._xhrBreakpoints,this._customBreakpoints),this.asyncStackPolicy.connect(e).then(i=>this._disposables.push(i)).catch(i=>this._services.get(ne).error("internal","Error enabling async stacks",i)),this.breakpointManager.setThread(this._thread),this._services.get(it).attach(e),this._threadDeferred.resolve(this._thread),this._thread}async setCustomBreakpoints({ids:e,xhr:r}){return await this._thread?.updateCustomBreakpoints(r,e),this._customBreakpoints=e,this._xhrBreakpoints=r,{}}async _toggleSkipFileStatus(e){return await this._services.get(Xo).toggleSkippingFile(e),await this._refreshStackTrace(),{}}async _prettyPrintSource(e){if(!e.source||!this._thread)return{canPrettyPrint:!1};e.source.path=$n(e.source.path);let r=this.sourceContainer.source(e.source);if(!r)return Be(fn.t("Source not found"));let n=await r.prettyPrint();if(!n)return Be(fn.t("Unable to pretty print"));let{map:i,source:o}=n;return await this.breakpointManager.moveBreakpoints(this._thread,r,i,o),this.sourceContainer.clearDisabledSourceMaps(r),await this._refreshStackTrace(),{}}onEvaluate(e){return e.expression===".scripts"?this._dumpDiagnostics({fromSuggestion:!1}).then(this.dap.openDiagnosticTool).then(()=>({result:"Opening diagnostic tool...",variablesReference:0})):this._withThread(r=>r.evaluate(e))}async _dumpDiagnostics(e){let r={file:await this._services.get(rs).generateHtml()};return e.fromSuggestion&&this._services.get(yr).report("diagnosticPrompt",{event:"opened"}),r}async _requestCDPProxy(){return await this._cdpProxyProvider.proxy()}dispose(){this._disposables.dispose(),zh(this._services)}};var jW=M(lt()),nb=M(v("os"));var VY={connect:async()=>ru},UR=t=>({async connect(e){return await e.Debugger.setAsyncCallStackDepth({maxDepth:t}),ru}}),GY=t=>{let e=new K,r=!1,n=()=>{r||(r=!0,e.fire())};return{async connect(i){if(r)return await i.Debugger.setAsyncCallStackDepth({maxDepth:t}),ru;let o=new je;return o.push(e.event(()=>{o.dispose(),i.Debugger.setAsyncCallStackDepth({maxDepth:t})}),i.Debugger.on("breakpointResolved",n),i.Debugger.on("paused",s=>{s.reason!=="instrumentation"&&n()})),o}}},FR=UR(32),jR=t=>t===!1?VY:t===!0?FR:"onAttach"in t?UR(t.onAttach):"onceBreakpointResolved"in t?GY(t.onceBreakpointResolved):FR;var WR=v("inspector"),qR=v("fs"),yH=class{constructor(e){this.file=e;this.session=new WR.Session;this.session.connect()}async start(){try{await this.post("Profiler.enable")}catch{}await this.post("Profiler.start")}async stop(){let{profile:e}=await this.post("Profiler.stop");await qR.promises.writeFile(this.file,JSON.stringify(e))}dispose(){this.session.disconnect()}post(e,r){return new Promise((n,i)=>this.session.post(e,r,(o,s)=>{o?i(o):n(s)}))}};var Kp=Symbol("MutableLaunchConfig"),VR=t=>{let e=new K;return new Proxy({},{ownKeys(){return Object.keys(t)},get(r,n){switch(n){case"update":return i=>{t=i,e.fire()};case"onChange":return e.event;default:return t[n]}}})};var Zy=M(Yw()),TW=M(Hv()),Qy=v("fs"),eb=M(ue());var Yp=M(ue());var Jp=class{toDap(){return{category:"console",output:"\x1B[2J"}}},DH=class{toDap(){return{category:"stdout",output:"",group:"end"}}};var $H=class{constructor(e){this.sink=e;this.q=[];this.disposed=!1;this.onDrainedEmitter=new K;this.onDrained=this.onDrainedEmitter.event}get length(){return this.q.length}enqueue(e){this.disposed||(this.q.push(new Qw(e)),this.q.length===1&&this.process())}dispose(){this.disposed=!0,this.q=[]}async process(){let e=this.q.findIndex(r=>r.value===sk);e===0?await this.q[0].wait:e===-1?(this.sink(ok(this.q)),this.q=[]):(this.sink(ok(this.q.slice(0,e))),this.q=this.q.slice(e)),this.q.length?this.process():this.onDrainedEmitter.fire()}},ok=t=>t.map(e=>e.value).filter(e=>e!==ak),sk=Symbol("unsettled"),ak=Symbol("unsettled"),Qw=class{constructor(e){this.value=sk;e instanceof Promise?this.wait=e.then(r=>{this.value=r},()=>{this.value=ak}):(this.value=e,this.wait=Promise.resolve())}};var C7=new Set(["group","assert","count"]),_c=class{constructor(e,r){this.dap=e;this.isDirty=!1;this.queue=new $H(e=>{for(let r of e)this.dap.output(r)});this.onDrained=this.queue.onDrained;r.register(0,async()=>{this.length&&await new Promise(n=>this.onDrained(n)),this.dispose()})}get length(){return this.queue.length}dispose(){this.queue.dispose()}dispatch(e,r){let n=this.parse(r);n&&this.enqueue(e,n)}enqueue(e,r){if(!(r instanceof Jp))this.isDirty=!0;else if(this.isDirty)this.isDirty=!1;else return;this.queue.enqueue(r.toDap(e))}parse(e){if(e.type==="log"){let r=e.stackTrace?.callFrames[0];if(r&&r.url==="internal/console/constructor.js"&&C7.has(r.functionName))return}switch(e.type){case"clear":return new Jp;case"endGroup":return new DH;case"assert":return new rH(e);case"table":return new aH(e);case"startGroup":case"startGroupCollapsed":return new sH(e);case"debug":case"log":case"info":return new ts(e);case"trace":return new nH(e);case"error":return new oH(e);case"warning":return new iH(e);case"dir":case"dirxml":return new ts(e);case"count":return new ts(e);case"profile":case"profileEnd":return new ts(e);case"timeEnd":return new ts(e);default:try{fd(e.type,"unknown console message type")}catch{}}}};_c=V([(0,Yp.injectable)(),I(0,(0,Yp.inject)(Lr)),I(1,(0,Yp.inject)(qo))],_c);var ck=M(lt()),TH=M(ue());var uk="@vscode/dwarf-debugging",wc=class{constructor(e){this.dap=e;this.didPrompt=!1}async load(){try{return await import(uk)}catch{return}}prompt(){this.didPrompt||(this.didPrompt=!0,this.dap.output({output:ck.t("You may install the `{}` module via npm for enhanced WebAssembly debugging",uk),category:"console"}))}};wc=V([(0,TH.injectable)(),I(0,(0,TH.inject)(Lr))],wc);var Hn=M(ue());var TO=M(lk()),MO=v("dns"),pg=M($O()),Sa=M(ue());var lg=Symbol("IRequestOptionsProvider");var cs=class{constructor(e,r){this.fs=e;this.options=r;this.autoLocalhostPortFallbacks={}}async fetch(e,r=br,n){try{let o=(0,TO.dataUriToBuffer)(e);return{ok:!0,url:e,body:new TextDecoder().decode(o.buffer),statusCode:200}}catch{}let i=rr(e)?e:at(e);if(i)try{return{ok:!0,url:e,body:await this.fs.readFile(i,"utf-8"),statusCode:200}}catch(o){return{ok:!1,url:e,error:o,statusCode:200}}return this.fetchHttp(e,r,n)}async fetchJson(e,r,n){let i=await this.fetch(e,r,{Accept:"application/json",...n});if(!i.ok)return i;try{return{...i,body:JSON.parse(i.body)}}catch(o){return{...i,ok:!1,url:e,error:o}}}async fetchHttp(e,r,n){let i=new URL(e),o=i.protocol!=="http:",s=Number(i.port)??(o?443:80),a={headers:n,followRedirect:!0};o&&await Au(e)&&(a.rejectUnauthorized=!1),this.options?.provideOptions(a,e);let u=i.hostname==="localhost";if(u&&this.autoLocalhostPortFallbacks[s]){let p=await this.requestHttp(i.toString(),a,r);return p.statusCode!==503?p:(delete this.autoLocalhostPortFallbacks[s],this.requestHttp(e,a,r))}let l=await this.requestHttp(e,a,r);if(l.statusCode===503&&u){let p;try{p=await MO.promises.lookup(i.hostname)}catch{return l}i.hostname=p.family===6?"127.0.0.1":"[::1]",l=await this.requestHttp(i.toString(),a,r),l.statusCode!==503&&(this.autoLocalhostPortFallbacks[s]=i.hostname)}return l}async requestHttp(e,r,n){this.options?.provideOptions(r,e);let i=new je;try{let o=(0,pg.default)(e,r);i.push(n.onCancellationRequested(()=>o.cancel()));let s=await o;return{ok:!0,url:e,body:s.body,statusCode:s.statusCode}}catch(o){if(!(o instanceof pg.RequestError))throw o;let s=o.response?String(o.response?.body):o.message,a=o.response?.statusCode??503;return{ok:!1,body:s,statusCode:a,url:e,error:new qh(a,e,s)}}finally{i.dispose()}}};cs=V([(0,Sa.injectable)(),I(0,(0,Sa.inject)(Ve)),I(1,(0,Sa.optional)()),I(1,(0,Sa.inject)(lg))],cs);var Ea=class extends cs{constructor(r,n,i,o,s){super(r,s);this.logger=n;this.target=i;this.cdp=o;this.disposables=new je}dispose(){this.disposables.dispose()}async fetchHttp(r,n,i={}){let o=await super.fetchHttp(r,n,i);return o.ok?o:(this.logger.info("runtime","Network load failed, falling back to CDP",{url:r,res:o}),this.fetchOverBrowserNetwork(r,o))}async fetchOverBrowserNetwork(r,n){if(!this.cdp)return n;let i=await this.cdp.Network.loadNetworkResource({frameId:this.target?.targetInfo.targetId,url:r,options:{includeCredentials:!0,disableCache:!0}});if(!i||!i.resource.success||!i.resource.httpStatusCode||i.resource.httpStatusCode>=400||!i.resource.stream)return n;let o=Number(i.resource.headers?.["Content-Length"]);isNaN(o)&&(o=1/0);let s=[],a=0;for(;;){let u=await this.cdp.IO.read({handle:i.resource.stream,offset:a});if(!u)return this.logger.info("runtime","Stream error encountered in middle, falling back",{url:r}),n;let c=u.base64Encoded?Buffer.from(u.data,"base64").toString():u.data;if(a+=Buffer.byteLength(c,"utf-8"),s.push(c),a>=o){this.cdp.IO.close({handle:i.resource.stream});break}if(u.eof)break}return{ok:!0,body:s.join(""),statusCode:i.resource.httpStatusCode,url:r}}};Ea=V([(0,Hn.injectable)(),I(0,(0,Hn.inject)(Ve)),I(1,(0,Hn.inject)(ne)),I(2,(0,Hn.optional)()),I(2,(0,Hn.inject)(Pi)),I(3,(0,Hn.optional)()),I(3,(0,Hn.inject)(rt)),I(4,(0,Hn.optional)()),I(4,(0,Hn.inject)(lg))],Ea);var ps=M(ue()),OO=M(vp());var ls="node:";function kO(t){let e=[];for(let r=0;r<t.length;r++){let n=t[r];if(n.startsWith("!")){let i=RO(n.slice(1));for(let o=0;o<e.length;o++)e[o]=`^(?!${i.slice(1)})${e[o].slice(1)}`}else e.push(RO(n))}return e.map(r=>new RegExp(r,"i"))}function RO(t){let e=t.split("/"),r=[];for(let n=0;n<e.length;n++){let i=e[n];if(i==="**")n===0?r.push("(.+/)?"):n===e.length-1||r.push(".*/");else{if(i.includes("*")){let o=i.split("*");r.push(o.map(s=>mr(s)).join("[^\\/]*"))}else r.push(mr(i));r.push(n<e.length-1?"\\/":"$")}}return`^${r.join("")}`}function kee(t){let e=/^<node_internals>[\/\\](.*)$/,r=t.map(n=>{n=n.trim();let i=e.exec(n);return i?i[1]:null}).filter(qt);return r.length>0?r:void 0}function Oee(t,e){return e.filter(n=>!n.includes("<node_internals>")).map(n=>rr(n)?Su(t.rebaseLocalToRemote(n)):et(n)).map(Mh)}var Li=class{constructor({skipFiles:e},r,n,i,o){this.logger=n;this.cdp=i;this._regexForAuthored=nE(kO);this._scriptsWithSkipping=new Set;this._targetId=o.id(),this._rootTargetId=NO(o).id(),this._isUrlFromSourceMapSkipped=new li(s=>this._normalizeUrl(s)),this._authoredGlobs=Oee(r,e),this._nodeInternalsGlobs=kee(e),this._initNodeInternals(o),this._updateSkippedDebounce=oE(500,()=>this._updateGeneratedSkippedSources()),e.length&&this._updateGeneratedSkippedSources(),Li.sharedSkipsEmitter.event(s=>{s.rootTargetId===this._rootTargetId&&s.targetId!==this._targetId&&this._toggleSkippingFile(s.params)})}setSourceContainer(e){this._sourceContainer=e}_testSkipNodeInternal(e){return this._nodeInternalsGlobs?(e.startsWith(ls)&&(e=e.slice(ls.length)),(0,OO.default)([e],this._nodeInternalsGlobs).length>0):!1}_testSkipAuthored(e){return this._regexForAuthored(this._authoredGlobs).some(r=>r.test(e))}_isNodeInternal(e,r){return e.startsWith(ls)?!0:r?.has(e)||/^internal\/.+\.js$/.test(e)}async _updateGeneratedSkippedSources(){let e=this._regexForAuthored(this._authoredGlobs).map(n=>n.source),r=this._allNodeInternals?.settledValue;if(r){e.push(`^(${ls})?internal\\/`);for(let n of r)this._testSkipNodeInternal(n)&&e.push(`^(${ls})?${mr(n)}$`)}await this.cdp.Debugger.setBlackboxPatterns({patterns:e})}_normalizeUrl(e){return et(e.toLowerCase())}isScriptSkipped(e){return this._isNodeInternal(e,this._allNodeInternals?.settledValue)?this._testSkipNodeInternal(e):(e=this._normalizeUrl(e),this._isUrlFromSourceMapSkipped.get(e)===!0?!0:this._testSkipAuthored(e))}async _updateSourceWithSkippedSourceMappedSources(e,r){let n=this.isScriptSkipped(e.url),i=[],o=n;for(let a of e.sourceMap.sourceByUrl.values()){let u=this.isScriptSkipped(a.url);if(typeof u>"u"&&(u=n),u!==o){let c=await this._sourceContainer.currentSiblingUiLocations({source:a,lineNumber:1,columnNumber:1},e);c[0]?(i.push({lineNumber:c[0].lineNumber-1,columnNumber:c[0].columnNumber-1}),o=!o):this.logger.error("internal","Could not map script beginning for "+a.sourceReference)}}let s=r;i.length||(s=s.filter(a=>this._scriptsWithSkipping.has(a.scriptId)),s.forEach(a=>this._scriptsWithSkipping.delete(a.scriptId))),await Promise.all(s.map(({scriptId:a})=>this.cdp.Debugger.setBlackboxedRanges({scriptId:a,positions:i})))}initializeSkippingValueForSource(e){this._initializeSkippingValueForSource(e)}_initializeSkippingValueForSource(e,r=e.scripts){let n=e.url,i=this.isScriptSkipped(n);if(!i&&e.absolutePath&&this._testSkipAuthored(Ce(e.absolutePath))&&(this.setIsUrlBlackboxSkipped(n,!0),i=!0,this._updateSkippedDebounce()),Hr(e)){if(i)for(let o of e.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(o.url,!0);for(let o of e.sourceMap.sourceByUrl.values())this._initializeSkippingValueForSource(o,r);this._updateSourceWithSkippedSourceMappedSources(e,r)}}async _initNodeInternals(e){if(e.type()!=="node"||!this._nodeInternalsGlobs||this._allNodeInternals)return;let r=this._allNodeInternals=ke(),n=await this.cdp.Runtime.evaluate({expression:"require('module').builtinModules"+tt(),returnByValue:!0,includeCommandLineAPI:!0});n&&!n.exceptionDetails?r.resolve(new Set(n.result.value.map(i=>i+".js"))):r.resolve(new Set),await this._updateGeneratedSkippedSources()}async _toggleSkippingFile(e){let r;e.resource&&rr(e.resource)&&(r=e.resource);let n={path:r,sourceReference:e.sourceReference},i=this._sourceContainer.source(n);if(!i)return{};let o=!this.isScriptSkipped(i.url);if(i instanceof ft){this._isUrlFromSourceMapSkipped.set(i.url,o);let s=Array.from(i.compiledToSourceUrl.keys());await Promise.all(s.map(a=>this._updateSourceWithSkippedSourceMappedSources(a,a.scripts)))}else{if(Hr(i))for(let s of i.sourceMap.sourceByUrl.values())this._isUrlFromSourceMapSkipped.set(s.url,o);this.setIsUrlBlackboxSkipped(i.url,o),await this._updateGeneratedSkippedSources()}return{}}setIsUrlBlackboxSkipped(e,r){let n=e,i=`!${n}`,o=this._authoredGlobs.filter(s=>s!==n&&s!==i);this._regexForAuthored(o).some(s=>s.test(e))!==r&&(o.push(r?n:i),this._regexForAuthored.clear()),this._authoredGlobs=o}async toggleSkippingFile(e){let r=await this._toggleSkippingFile(e);return Li.sharedSkipsEmitter.fire({params:e,rootTargetId:this._rootTargetId,targetId:this._targetId}),r}};Li.sharedSkipsEmitter=new K,Li=V([(0,ps.injectable)(),I(0,(0,ps.inject)(Ee)),I(1,(0,ps.inject)(We)),I(2,(0,ps.inject)(ne)),I(3,(0,ps.inject)(rt)),I(4,(0,ps.inject)(Pi))],Li);function NO(t){let e=t.parent();return e?NO(e):t}var lf=M(ue());var FO=v("path");var BO=/^webpack:\/{3}([^/]+?\.vue)(\?[0-9a-z]*)?$/i,Nee=/^webpack:\/{3}\.\/.+\.vue\?[0-9a-z]+$/i,Rc=Symbol("IVueFileMapper");var Mc=class{constructor(e,r){this.files=e;this.search=r;this.getMapping=ye(async()=>{let e=new Map;return await this.search.streamAllChildren(this.files,r=>e.set((0,FO.basename)(r),r)),e})}async lookup(e){let r=BO.exec(e);return r?(await this.getMapping()).get(r[1]):void 0}getVueHandling(e){return this.files.empty?0:BO.test(e)?1:Nee.test(e)?2:0}};Mc=V([(0,lf.injectable)(),I(0,(0,lf.inject)(zi)),I(1,(0,lf.inject)(Fu))],Mc);var xi=class{constructor(){this.changeEmitter=new K;this.addEmitter=new K;this.removeEmitter=new K;this.targetMap=new Map;this.onChanged=this.changeEmitter.event;this.onAdd=this.addEmitter.event;this.onRemove=this.removeEmitter.event}get size(){return this.targetMap.size}add(e,r){this.targetMap.set(e,r),this.addEmitter.fire([e,r]),this.changeEmitter.fire()}get(e){return this.targetMap.get(e)}remove(e){let r=this.targetMap.get(e);return r===void 0?!1:(this.targetMap.delete(e),this.removeEmitter.fire([e,r]),this.changeEmitter.fire(),!0)}value(){return this.targetMap.values()}};var fB=M(cB()),bg=M(ue());var lB=v("child_process"),La=class t extends Error{constructor(r,n,i,o,s){super(`${r} exited with code ${o||-1}: ${n}`);this.command=r;this.stderr=n;this.stdout=i;this.code=o;this.innerError=s}static fromExeca(r){return new t(r.command,r.stderr.toString(),r.stdout.toString(),r.exitCode)}};function yg(t,e,r){return new Promise((n,i)=>{let o=(0,lB.spawn)(t,e,{...r,stdio:"pipe"}),s=[],a=[];o.stderr.on("data",c=>s.push(c)),o.stdout.on("data",c=>a.push(c));let u=(c,l)=>i(new La(t,Buffer.concat(s).toString(),Buffer.concat(a).toString(),c,l));o.on("error",c=>u(void 0,c)),o.on("close",c=>c?u(c):n({stdout:Buffer.concat(a).toString(),stderr:Buffer.concat(s).toString()}))})}var jte=new Map([["chrome",0],["safari",1],["firefox",2],["msedge",3],["microsoft edge",3],["appxq0fevzme2pys62n3e0fbqa7peapykr8v",4],["ie.http",5]]),pB=t=>{t=t.toLowerCase();for(let[e,r]of jte.entries())if(t.includes(e))return r},dB=Symbol("IDefaultBrowserProvider"),Nc=class{constructor(e,r=process.platform){this.execa=e;this.platform=r;this.lookup=ye(()=>this.platform==="win32"?this.lookupWindows():this.lookupUnix())}async lookupUnix(){let{name:e}=await(0,fB.default)();return pB(e)}async lookupWindows(){let e=await this.execa("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]);if(e.failed)throw La.fromExeca(e);let r=/ProgId\s*REG_SZ\s*(\S+)/.exec(e.stdout);if(r)return pB(r[1])}};Nc=V([(0,bg.injectable)(),I(0,(0,bg.inject)(fp))],Nc);var mB=M(ue()),_g=M(v("os"));var vg=class{async setup(){}dispose(){}write(e){if(e.level>2)throw new Error(e.message);console.log(JSON.stringify(e))}};var wA=class{constructor(e=512){this.size=e;this.items=[];this.i=0}write(e){this.items[this.i]=e,this.i=(this.i+1)%this.size}read(){return this.items.slice(this.i).concat(this.items.slice(0,this.i))}},gn=class{constructor(){this.logTarget={queue:[]};this.logBuffer=new wA}static async test(){let e=new gn;return e.setup({sinks:[new vg],showWelcome:!1}),e}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}log(e){if(this.logBuffer.write(e),"queue"in this.logTarget){this.logTarget.queue.push(e);return}for(let r of this.logTarget.sinks)r.write(e)}getRecentLogs(){return this.logBuffer.read()}dispose(){if("sinks"in this.logTarget){for(let e of this.logTarget.sinks)e.dispose();this.logTarget={queue:[]}}}forTarget(){return this}async setup(e){if(await Promise.all(e.sinks.map(n=>n.setup())),e.showWelcome!==!1){let n=Wte();for(let i of e.sinks)i.write(n)}let r=this.logTarget;this.logTarget={sinks:e.sinks.slice()},"sinks"in r?r.sinks.forEach(n=>n.dispose()):r.queue.forEach(n=>this.log(n))}};gn.null=(()=>{let e=new gn;return e.setup({sinks:[]}),e})(),gn=V([(0,mB.injectable)()],gn);var Wte=()=>({timestamp:Date.now(),tag:"runtime.welcome",level:1,message:`${Wh} v${up} started`,metadata:{os:`${_g.platform()} ${_g.arch()}`,nodeVersion:process.version,adapterVersion:up}});var jj=M(Fj()),dy=M(ue());var ja=Symbol("touched"),As;(u=>{function t(){return{children:{},[ja]:1}}u.root=t;function e(c,l){return c[ja]=1,a(c,s(l),0)}u.getPath=e;function r(c){c[ja]=1}u.touch=r;function n(c){c[ja]=2}u.touchAll=n;function i(c,l){let p=c.children[l]??={children:{}};return p[ja]=1,p}u.getOrMakeChild=i;function o(c){if(c[ja]){for(let[l,p]of Object.entries(c.children))switch(p[ja]){case 1:o(p);break;case 2:break;default:delete c.children[l]}return c}}u.prune=o;function s(c){let l=c.split(/\/|\\/);return l[0]===""&&l.unshift(),l}function a(c,l,p){let f=i(c,l[p]);return p===l.length-1?f:a(f,l,p+1)}})(As||={});var b0=v("fs"),v0=M(vp()),Wa=v("path"),Uj=M(g0());var $ue=/\//g,fy=class{constructor(e){this.stat=Ns(e=>b0.promises.lstat(e));this.readdir=Ns(e=>b0.promises.readdir(e,{withFileTypes:!0}));this.alreadyProcessedFiles=new Set;this.fileEmitter=new K;this.onFile=this.fileEmitter.event;this.errorEmitter=new K;this.onError=this.errorEmitter.event;this.processor=e.fileProcessor,this.filter=e.filter,this.ignore=e.ignore.map(i=>v0.default.matcher((0,Uj.default)(et(i),{cwd:e.cwd})));let r=(0,Wa.isAbsolute)(e.pattern)?(0,Wa.relative)(e.cwd,e.pattern):e.pattern,n=v0.default.parse(et(r),{ignore:e.ignore,cwd:e.cwd,expand:!0});this.done=Promise.all(n.map(i=>{let o=[];for(let c=1;c<i.tokens.length;){let l=c+1;for(;l<i.tokens.length&&i.tokens[l].type!=="slash";)l++;let p=i.tokens[c];p.type==="globstar"?o.push("**"):l===c+1&&p.type==="text"?o.push(p.value):o.push(new RegExp("^"+i.tokens.slice(c,l).map(f=>f.output||f.value).join("")+"$")),c=l+1}let s=o[0]==="**"?[0,1]:[0],a=As.getPath(e.cache,e.cwd),u={elements:o,seen:new Set};return Promise.all(s.map(c=>this.readSomething(u,c,e.cwd,[],a)))})).then(()=>{})}async readSomething(e,r,n,i,o){if(this.alreadyProcessedFiles.has(o))return;let s=`${r}:${n}`;if(e.seen.has(s))return;e.seen.add(s);let a;try{a=await this.stat(n)}catch(c){this.errorEmitter.fire({path:n,error:c});return}if(this.alreadyProcessedFiles.has(o))return;let u=o.data;if(u&&a.mtimeMs===u.mtime){if(u.type===0){let c=[],p=Object.entries(o.children).filter(([,f])=>f.data?.type!==0).map(([f])=>f);for(let[f,m]of Object.entries(o.children))c.push(m.data!==void 0?this.handleDirectoryEntry(e,r,n,{name:f,type:m.data.type},p,o):this.stat(n).then(h=>this.handleDirectoryEntry(e,r,n,{name:f,type:h.isFile()?1:0},p,o),()=>{}));await Promise.all(c)}else u.type===1&&(this.alreadyProcessedFiles.add(o),this.fileEmitter.fire(u.extracted));return}a.isDirectory()?await this.handleDir(e,r,a.mtimeMs,n,o):(this.alreadyProcessedFiles.add(o),await this.handleFile(a.mtimeMs,n,i,o))}applyFilterToFile(e,r,n){let i=n.children[e];if(this.alreadyProcessedFiles.has(i))return!1;if(!this.filter)return!0;let o=i.data?.type===1?i.data.extracted:void 0;return As.touch(i),this.filter(r,o)}handleDirectoryEntry(e,r,n,i,o,s){let a=n+"/"+i.name,u=this.getDirectoryReadDescends(e,r,n,i);if(u===void 0)return;let c=As.getOrMakeChild(s,i.name);if(!(i.type===1&&!this.applyFilterToFile(i.name,a,s)))return typeof u=="number"?this.readSomething(e,r+u,a,o,c):Promise.all(u.map(l=>this.readSomething(e,r+l,a,o,c)))}getDirectoryReadDescends(e,r,n,i){let o=n+"/"+i.name;if(this.ignore.some(u=>u(o)))return;let s=r===e.elements.length-1,a=e.elements[r];if(a==="**")return i.type===1?s?0:this.getDirectoryReadDescends(e,r+1,n,i):s?0:[0,1];if((a instanceof RegExp&&a.test(i.name)||a===i.name)&&(i.type===0?!s:s))return 1}async handleFile(e,r,n,i){let o=Wa.sep==="/"?r:r.replace($ue,Wa.sep),s;try{s=await this.processor(o,{siblings:n,mtime:e})}catch(a){this.errorEmitter.fire({path:o,error:a});return}i.data={type:1,mtime:e,extracted:s},this.fileEmitter.fire(s)}async handleDir(e,r,n,i,o){let s;try{s=await this.readdir(i)}catch(c){this.errorEmitter.fire({path:i,error:c});return}let a=[],u=s.filter(c=>c.isFile()).map(c=>c.name);for(let c of s){if(c.name.startsWith("."))continue;let l;if(c.isDirectory())l=0;else if(c.isFile())l=1;else continue;a.push(this.handleDirectoryEntry(e,r,i,{name:c.name,type:l},u,o))}await Promise.all(a),o.data={type:0,mtime:n}}};var tl=class{constructor(e){this.logger=e}async streamAllChildren(e,r){let n=[];return await this.globForFiles(e,o=>n.push(r(pt(o.path)))),(await Promise.all(n)).filter(o=>o!==void 0)}async streamChildrenWithSourcemaps(e){let r=[],n=e.lastState||{},i={};return await Promise.all([...e.files.explode()].map(async s=>{let a=JSON.stringify(s),u=n[a]||As.root();await this._streamChildrenWithSourcemaps(u,e,r,s);let c=As.prune(u);c&&(i[a]=c)})),this.logger.info("sourcemap.parsing",`turboGlobStream search found ${r.length} files`),{values:(await Promise.all(r)).filter(qt),state:i}}async _streamChildrenWithSourcemaps(e,r,n,i){let o=new fy({pattern:i.pattern,ignore:i.negations,cwd:i.cwd,cache:e,filter:r.filter,fileProcessor:(s,a)=>DD(s,a).then(u=>u&&r.processMap(u))});o.onError(({path:s,error:a})=>{this.logger.warn("sourcemap.parsing","Error parsing source map",{error:a,path:s})}),o.onFile(s=>s&&n.push(r.onProcessedMap(s))),await o.done}async globForFiles(e,r){await Promise.all([...e.explode()].map(n=>new Promise((i,o)=>(0,jj.default)([n.pattern,"!**/*.asar/**"],{ignore:n.negations,matchBase:!0,cwd:n.cwd}).on("data",r).on("finish",i).on("error",o))))}};tl=V([(0,dy.injectable)(),I(0,(0,dy.inject)(ne))],tl);var Sy=M(lt()),Ls=M(ue());var Wj=v("url"),qj=M(v("path"));var hy=class{constructor(){this._onFrameAddedEmitter=new K;this._onFrameRemovedEmitter=new K;this._onFrameNavigatedEmitter=new K;this.onFrameAdded=this._onFrameAddedEmitter.event;this.onFrameRemoved=this._onFrameRemovedEmitter.event;this.onFrameNavigated=this._onFrameNavigatedEmitter.event;this._frames=new Map}attached(e,r){e.Page.enable({}),e.Page.getResourceTree({}).then(n=>{this._processCachedResources(e,n?n.frameTree:void 0,r)})}mainFrame(){return this._mainFrame}_processCachedResources(e,r,n){r&&this._addFramesRecursively(e,r,r.frame.parentId,n),e.Page.on("frameAttached",i=>{this._frameAttached(e,n,i.frameId,i.parentFrameId)}),e.Page.on("frameNavigated",i=>{this._frameNavigated(e,n,i.frame)}),e.Page.on("frameDetached",i=>{this._frameDetached(e,n,i.frameId)})}_addFrame(e,r,n){let i=new w0(this,e,r,n);return this._frames.set(i.id,i),i.isMainFrame()&&(this._mainFrame=i),this._onFrameAddedEmitter.fire(i),i}_frameAttached(e,r,n,i){let o=this._frames.get(n);return o||(o=this._addFrame(e,n,i)),o._ref(r),o}_frameNavigated(e,r,n){let i=this._frames.get(n.id);i||(i=this._frameAttached(e,r,n.id,n.parentId)),i._navigate(n,r),this._onFrameNavigatedEmitter.fire(i)}_frameDetached(e,r,n){let i=this._frames.get(n);i&&i._unref(r)}frameForId(e){return this._frames.get(e)}frames(){return Array.from(this._frames.values())}_addFramesRecursively(e,r,n,i){let o=r.frame,s=this._frames.get(o.id);s?(s._navigate(o,i),this._onFrameNavigatedEmitter.fire(s)):(s=this._addFrame(e,o.id,n),s._navigate(o,i));for(let a=0;r.childFrames&&a<r.childFrames.length;++a)this._addFramesRecursively(e,r.childFrames[a],s.id,i)}},w0=class{constructor(e,r,n,i){this._targets=new Set;this.cdp=r,this.model=e,this._parentFrameId=i,this.id=n,this._url=""}_ref(e){this._targets.add(e)}_navigate(e,r){this._name=e.name,this._url=e.url,this._securityOrigin=e.securityOrigin,this._unreachableUrl=e.unreachableUrl||"",this._ref(r),this._unrefChildFrames(r)}name(){return this._name||""}url(){return this._url}securityOrigin(){return this._securityOrigin}unreachableUrl(){return this._unreachableUrl}isMainFrame(){return!this._parentFrameId}parentFrame(){return this._parentFrameId?this.model.frameForId(this._parentFrameId):void 0}childFrames(){return this.model.frames().filter(e=>e._parentFrameId===this.id)}_unrefChildFrames(e){for(let r of this.childFrames())r._unref(e)}_unref(e){this._targets.delete(e),!this._targets.size&&(this._unrefChildFrames(e),this.model._frames.delete(this.id),this.model._onFrameRemovedEmitter.fire(this))}displayName(){return this._name?this._name:Tue(this._url)||`<iframe ${this.id}>`}};function _0(t,e){return t.length<=e?t:t.substr(0,e-1)+"\u2026"}function Tue(t){let e;try{e=new Wj.URL(t)}catch{return _0(t,20)}if(e.protocol==="data")return _0(t,20);if(e.protocol==="blob"||t==="about:blank")return t;let r=qj.basename(e.pathname);return r||(r=(e.host||"")+"/"),r==="/"&&(r=_0(t,20)),r}var Vj=v("url"),I0=class{constructor(e){this.versions=new Map;this.id=e.registrationId,this.scopeURL=e.scopeURL}},A0=class{constructor(e,r){this.revisions=[];this.registration=e,this.id=r.versionId,this.scriptURL=r.scriptURL,this._targetId=r.targetId,this._status=r.status,this._runningStatus=r.runningStatus}addRevision(e){this._targetId&&e.targetId&&this._targetId!==e.targetId&&console.error(`${this._targetId} !== ${e.targetId}`),e.targetId&&(this._targetId=e.targetId),this._status=e.status,this._runningStatus=e.runningStatus,this.revisions.unshift(e)}status(){return this._status}runningStatus(){return this._runningStatus}targetId(){return this._targetId}label(){let e=new Vj.URL(this.registration.scopeURL),r=e.pathname.substr(1);r.endsWith("/")&&(r=r.substring(0,r.length-1));let n=r||`${e.host}`,i=this._status==="activated"?"":` ${this._status}`,o=this._runningStatus==="running"?"":` ${this._runningStatus}`;return`${n} #${this.id}${i}${o}`}},my=class t{constructor(e){this._registrations=new Map;this._versions=new Map;this._onDidChangeUpdater=new K;this.onDidChange=this._onDidChangeUpdater.event;this._targets=new Set;this._frameModel=e,t._instances.add(this)}static{this._instances=new Set}dispose(){t._instances.delete(this)}attached(e){this._targets.add(e),!this._cdp&&(this._cdp=e,e.ServiceWorker.enable({}),e.ServiceWorker.on("workerRegistrationUpdated",r=>this._workerRegistrationsUpdated(r.registrations)),e.ServiceWorker.on("workerVersionUpdated",r=>this._workerVersionsUpdated(r.versions)),t._mode!=="normal"&&this.setMode(t._mode))}async detached(e){this._targets.delete(e)}version(e){return this._versions.get(e)}registrations(){let e=[],r=this._frameModel.frames().map(n=>n.url());for(let n of this._registrations.values())for(let i of r)if(i.startsWith(n.scopeURL)){e.push(n);break}return e}registration(e){return this._registrations.get(e)}_workerVersionsUpdated(e){for(let r of e){let n=this._registrations.get(r.registrationId);if(!n)continue;let i=n.versions.get(r.versionId);i||(i=new A0(n,r),n.versions.set(r.versionId,i)),r.targetId&&this._versions.set(r.targetId,i),i.addRevision(r),i.status()==="redundant"&&i.runningStatus()==="stopped"&&(r.targetId&&this._versions.delete(r.targetId),n.versions.delete(i.id))}this._onDidChangeUpdater.fire()}_workerRegistrationsUpdated(e){for(let r of e)if(r.isDeleted){if(!this._registrations.has(r.registrationId))debugger;this._registrations.delete(r.registrationId)}else{if(this._registrations.has(r.registrationId))return;this._registrations.set(r.registrationId,new I0(r))}this._onDidChangeUpdater.fire()}static setModeForAll(e){t._mode=e;for(let r of t._instances)r.setMode(e)}setMode(e){if(this._cdp){this._cdp.ServiceWorker.setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e==="force"});for(let r of this._targets.values())e==="bypass"?(r.Network.enable({}),r.Network.setBypassServiceWorker({bypass:!0})):r.Network.disable({})}}async stopWorker(e){if(!this._cdp)return;let r=this.version(e);r&&await this._cdp.ServiceWorker.stopWorker({versionId:r.id})}};var Ss=class{constructor(e,r,n,i,o,s,a,u){this.process=r;this.logger=o;this.telemetry=s;this.launchParams=a;this._targets=new Map;this._detachedTargets=new Set;this.frameModel=new hy;this.serviceWorkerModel=new my(this.frameModel);this._lifecycleQueue=Promise.resolve();this._onTargetAddedEmitter=new K;this._onTargetRemovedEmitter=new K;this.onTargetAdded=this._onTargetAddedEmitter.event;this.onTargetRemoved=this._onTargetRemovedEmitter.event;this._connection=e,this._sourcePathResolver=i,this._browser=n,this._targetOrigin=u,this.serviceWorkerModel.onDidChange(()=>{for(let c of this._targets.values())c.type()==="service_worker"&&c._onNameChangedEmitter.fire()})}static async connect(e,r,n,i,o,s,a){let c=await e.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=e.createSession(c.sessionId);return new this(e,r,l,n,o,s,i,a)}dispose(){this.serviceWorkerModel.dispose()}targetList(){return Array.from(this._targets.values()).filter(e=>ep.has(e.type()))}async getCandiateInfo(e){let r=await this._browser.Target.getTargets({});return r?e?r.targetInfos.filter(e):r.targetInfos:[]}async closeBrowser(){if(this.launchParams.request==="launch"){if(this.launchParams.cleanUp==="wholeBrowser")await this._browser.Browser.close({}),this.process?.kill();else for(let e of this._targets.values())await this._browser.Target.closeTarget({targetId:e.targetId}),this._connection.close();this.process=void 0}}waitForMainTarget(e){let r,n=new Promise(o=>r=o),i=async o=>{if([...this._targets.values()].some(u=>u.targetId===o.targetId)||this._detachedTargets.has(o.targetId)||e&&!e(o))return;let s=this._browser.Target.on("targetInfoChanged",u=>{u.targetInfo.targetId===o.targetId&&(o=u.targetInfo)}),a;try{a=await this._browser.Target.attachToTarget({targetId:o.targetId,flatten:!0})}finally{s.dispose()}if(!a){r(void 0);return}r(this.attachedToTarget(o,a.sessionId,!0))};return this._browser.Target.setDiscoverTargets({discover:!0}),this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(o=>i(o.targetInfo))),this._browser.Target.on("targetInfoChanged",o=>this._targetInfoChanged(o.targetInfo,this.enqueueLifecycleFn(i))),this._browser.Target.on("detachedFromTarget",this.enqueueLifecycleFn(async o=>{o.targetId&&await this._detachedFromTarget(o.sessionId,!1)})),n}enqueueLifecycleFn(e){return r=>this._lifecycleQueue=this._lifecycleQueue.then(()=>e(r))}attachedToTarget(e,r,n,i,o=!0){let s=this._targets.get(r);if(s)return s;let a=this._connection.createSession(r),u=new Ch(this,e,a,i,n,this.launchParams,r,this.logger,()=>{this._connection.disposeSession(r),this._detachedFromTarget(r)});this._targets.set(r,u),i&&i._children.set(e.targetId,u),a.Target.on("attachedToTarget",async l=>{this.attachedToTarget(l.targetInfo,l.sessionId,l.waitingForDebugger,u)}),a.Target.on("detachedFromTarget",async l=>{l.targetId&&this._detachedFromTarget(l.sessionId,!1)}),a.Target.setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:o,flatten:!0}),a.Network.setCacheDisabled({cacheDisabled:this.launchParams.disableNetworkCache}).catch(l=>this.logger.info("runtime.target","Error setting network cache state",l)),i||this.retrieveBrowserTelemetry(a);let c=e.type;return xh.has(c)&&this.frameModel.attached(a,e.targetId),this.serviceWorkerModel.attached(a),this._onTargetAddedEmitter.fire(u),!ep.has(c)||c==="service_worker"?u.runIfWaitingForDebugger():c==="page"&&o&&a.Page.waitForDebugger({}),u}async retrieveBrowserTelemetry(e){try{let r=await e.Browser.getVersion({});if(!r)throw new Error("Undefined return from getVersion()");let n={targetCRDPVersion:r.protocolVersion,targetRevision:r.revision,targetUserAgent:r.userAgent,targetV8:r.jsVersion,targetVersion:"",targetProject:"",targetProduct:""};this.logger.verbose("runtime.target","Retrieved browser information",r);let i=(r.product||"").split("/");i.length===2?(n.targetProject=i[0],n.targetVersion=i[1]):n.targetProduct=r.product,this.telemetry.report("browserVersion",n)}catch(r){this.logger.warn("runtime.target","Error getting browser telemetry",r)}}async _detachedFromTarget(e,r=!0){let n=this._targets.get(e);if(n){this._targets.delete(e),n.parentTarget?._children.delete(e);try{await n._detached()}catch{}if(this._onTargetRemovedEmitter.fire(n),r&&(this._detachedTargets.add(n.targetId),await this._browser.Target.detachFromTarget({sessionId:e})),!this._targets.size&&this.launchParams.request==="launch")try{this.launchParams.cleanUp==="wholeBrowser"?await this._browser.Browser.close({}):(await this._browser.Target.closeTarget({targetId:n.id()}),this._connection.close())}catch{}}}async _targetInfoChanged(e,r){let n=[...this._targets.values()].filter(i=>i.targetId===e.targetId);if(!e.attached||!n.length)return n.length&&await Promise.all(n.map(i=>this._detachedFromTarget(i.sessionId,!1))),r(e);for(let i of n)i._updateFromInfo(e);for(let i of this._targets.values())i.targetId!==e.targetId&&i._onNameChangedEmitter.fire()}};var a2=M(v("child_process")),u2=v("fs");var Mue=50,Xr=class t{constructor(e){this.messageEmitter=new K;this.endEmitter=new K;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this._ws=e,this._ws.addEventListener("message",r=>{this.messageEmitter.fire([r.data.toString("utf-8"),new ln])}),this._ws.addEventListener("close",()=>{this.endEmitter.fire(),this._ws=void 0}),this._ws.addEventListener("error",()=>{})}static async create(e,r,n){let i=!e.startsWith("ws://"),o=await Au(e);for(;;){let s=Date.now()+Mue;try{let a={headers:{host:n??"localhost"},perMessageDeflate:!1,maxPayload:268435456,rejectUnauthorized:!(i&&o),followRedirects:!0},u=new yM(e,[],a);return await Ai(new Promise((c,l)=>{u.addEventListener("open",()=>c(new t(u))),u.addEventListener("error",p=>{let f=e===u.url?e:u.url.replace(/^http(s?):/,"ws$1:");if(f===e){l(p.error);return}this.create(f,r,n).then(c,l)})}),ir.withTimeout(2e3,r).token,`Could not open ${e}`).catch(c=>{throw u.close(),c})}catch(a){if(r.isCancellationRequested)throw a;let u=s-Date.now();u>0&&await Le(u)}}}send(e){this._ws?.send(e)}dispose(){return new Promise(e=>{if(!this._ws)return e();this._ws.addEventListener("close",()=>e()),this._ws.close()})}};var Hy=M(v("path"));function Rue(t){let e=[/^APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL$/i,/^ELECTRON_.+$/i,/^GOOGLE_API_KEY$/i,/^VSCODE_.+$/i,/^SNAP(|_.*)$/i,/^GDK_PIXBUF_.+$/i];return new Ut(t).map((r,n)=>e.some(i=>i.test(r))?void 0:n)}var Ut=class t{constructor(e){this.defined=ye(()=>tu(this.value));this.value=e?Z0(e):{}}static{this.platform=process.platform}static{this.empty=new t({})}static{this.processEnv=ye(()=>Rue(process.env))}lookup(e){return t.platform==="win32"?rE(this.value,e):this.value[e]}addToPath(e,r="append",n=!1){let i=t.platform==="win32"?"Path":"PATH",o=t.platform==="win32"?Hy.win32.delimiter:Hy.posix.delimiter,s=this.lookup(i);return n&&!s&&(s=`\${env:${i}}`),s?r==="append"?s=s+o+e:s=e+o+s:s=e,this.update(i,s)}addNodeOption(e){let r=this.lookup("NODE_OPTIONS");return this.update("NODE_OPTIONS",r?`${r} ${e}`:e)}update(e,r){return t.merge(this,{[e]:r})}merge(...e){return t.merge(this,...e)}map(e){return new t(ji(this.value,(r,n)=>e(n,r)))}static merge(...e){let r=e.map(i=>i instanceof t?i.value:i),n=t.platform==="win32"?tE(...r):Object.assign({},...r);return new t(n)}};var Gj="--remote-debugging-port",Xj="--remote-debugging-pipe",Kj=t=>{let e={};for(let r of t){let n=r.indexOf("=");n===-1?e[r]=null:e[r.slice(0,n)]=r.slice(n+1)}return e},gy=t=>{let e=[];for(let r of Object.keys(t)){let n=t[r];n!==void 0&&e.push(n===null?r:`${r}=${n}`)}return e},Es=class t{constructor(e=[]){this.args=e;this.argMap=ye(()=>Kj(this.args))}static{this.default=new t(["--disable-background-networking","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-default-apps","--disable-dev-shm-usage","--disable-renderer-backgrounding","--disable-sync","--metrics-recording-only","--no-first-run","--no-default-browser-check"])}add(e,r=null){return new t(gy({...this.argMap(),[e]:r}))}remove(e){return new t(gy({...this.argMap(),[e]:void 0}))}merge(e){return new t(gy({...this.argMap(),...e instanceof t?e.argMap():Kj(e)}))}setConnection(e){return new t(gy({...this.argMap(),[Xj]:e==="pipe"?null:void 0,[Gj]:e!=="pipe"?String(e):void 0}))}getSuggestedConnection(){let e=this.argMap();if(e.hasOwnProperty(Xj))return"pipe";let r=e[Gj];if(r!==void 0)return r&&Number(r)||0}filter(e){let r=this.argMap(),n=[];for(let i of Object.keys(r)){let o=r[i];e(i,o)&&n.push(o===null?i:`${i}=${o}`)}return new t(n)}toArray(){return this.args.slice()}};var S0=v("url");function yy(t,e,r){let n=Ns(s=>{if(s)return new S0.URL(s);throw new Error(`A valid url wasn't supplied: <${s}>`)}),i={"url.hostname":()=>n(e).hostname,"url.port":()=>n(e).port,browserInspectUri:()=>encodeURIComponent(r),browserInspectUriPath:()=>new S0.URL(r).pathname,wsProtocol:()=>n(e).protocol==="https:"?"wss":"ws"};return t.replace(/{([^\}]+)}/g,(s,a)=>i.hasOwnProperty(a)?i[a]():s)}var n2=M(v("readline"));var Qj=M(vy());var vn=class{constructor(e,r,n){this.logger=e;this.pipeWrite=r;this.pipeRead=n;this.messageEmitter=new K;this.endEmitter=new K;this.onMessage=this.messageEmitter.event;this.onEnd=this.endEmitter.event;this.onceEnded=ye(()=>{this.streams&&(this.beforeClose(),this.streams.read.removeAllListeners(),this.pipeRead?.destroy(),this.streams.write.removeListener("end",this.onceEnded),this.streams.write.removeListener("error",this.onWriteError),this.streams.write.on("error",()=>{}),this.streams.write.end(),this.streams=void 0,this.endEmitter.fire())});this.onWriteError=e=>{this.logger.error("internal","pipeWrite error",{error:e})};let i=n||r;this.streams={read:i.on("error",o=>this.logger.error("internal","pipeRead error",{error:o})).pipe((0,Qj.default)("\0")).on("data",o=>this.messageEmitter.fire([o,new ln])).on("end",this.onceEnded),write:r.on("end",this.onceEnded).on("error",this.onWriteError)}}send(e){this.streams?.write.write(e+"\0")}dispose(){this.onceEnded()}beforeClose(){}};var _y=v("child_process"),E0=v("path");function Bn(t,e,r="forceful"){if(r==="none")return!0;if(process.platform==="win32"){let n=process.env.WINDIR||"C:\\Windows",i=(0,E0.join)(n,"System32","taskkill.exe");try{return(0,_y.execSync)(`${i} ${r==="forceful"?"/F":""} /T /PID ${t}`,{stdio:"pipe"}),!0}catch(o){return e.error("runtime.exception","Error running taskkill.exe",o),!1}}else try{let n=(0,E0.join)(__dirname,"./targets/node/terminateProcess.sh"),i=(0,_y.spawnSync)("sh",[n,t.toString(),r==="forceful"?"9":"15"]);return i.stderr&&i.status?(e.error("runtime.exception","Error running terminateProcess",i),!1):!0}catch(n){return e.error("runtime.exception","Error running terminateProcess",n),!1}}var t2=v("fs");async function P0(t,e,r,n){let i=new cs(t2.promises),[o,s]=await Promise.all([Zj(i,new URL("/json/version",t),e),n?Zj(i,new URL("/json/list",t),e):Promise.resolve(void 0)]);if(!o.ok)r.verbose("runtime.launch","Error looking up /json/version",o);else if(o.body.webSocketDebuggerUrl){let a=e2(o.url,o.body.webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/version",{url:o.body.webSocketDebuggerUrl,fixed:a}),a}if(s)if(!s.ok)r.verbose("runtime.launch","Error looking up /json/list",s);else{let a=e2(s.url,s.body[0].webSocketDebuggerUrl);return r.verbose("runtime.launch","Discovered target URL from /json/list",{url:s.body[0].webSocketDebuggerUrl,fixed:a}),a}throw new Error("Could not find any debuggable target")}async function Zj(t,e,r){if(e.hostname!=="localhost")return t.fetchJson(e.toString(),r,{host:"localhost"});let n=e.toString();e.hostname="127.0.0.1";let i=e.toString(),o=new ir(r);try{let s;return await nu([n,i].map(async u=>(s=await t.fetchJson(u,o.token),s.ok&&s)))||s}finally{o.cancel()}}var r2=t=>async(e,r,n)=>{for(;;)try{return await P0(e,r,n,t)}catch(i){if(r.isCancellationRequested)throw new Error(`Could not connect to debug target at ${e}: ${i.message}`);await Le(200)}},rl=r2(!0),wy=r2(!1);function e2(t,e){let r=new URL(t),n=new URL(e);return n.host=r.host,n.toString()}var i2=async(t,e,r,n)=>{let i=r.connection===0?await jue(e,n):await wy(`http://localhost:${r.connection}`,n,t),o=r.inspectUri?yy(r.inspectUri,r.url,i):i;for(;;)try{return await Xr.create(o,n)}catch(s){if(n.isCancellationRequested)throw s;await Le(200)}},Iy=class{constructor(e){this.logger=e;this.pid=void 0;this.onExit=new K().event;this.onError=new K().event}async transport(e,r){return i2(this.logger,this,e,r)}kill(){}},Ay=class{constructor(e,r){this.cp=e;this.logger=r;this.pid=void 0;this.exitEmitter=new K;this.onExit=this.exitEmitter.event;this.errorEmitter=new K;this.onError=this.errorEmitter.event;e.on("exit",n=>this.exitEmitter.fire(n||0)),e.on("error",n=>this.errorEmitter.fire(n))}get stderr(){return this.cp.stderr}get stdio(){return this.cp.stdio}async transport(e,r){return e.connection==="pipe"?new vn(this.logger,this.cp.stdio[3],this.cp.stdio[4]):i2(this.logger,this,e,r)}kill(){Bn(this.cp.pid,this.logger)}};function jue(t,e){if(!t.stderr)throw new Error("Cannot wait for a websocket for a target that lacks stderr");return new Promise((r,n)=>{let i=n2.createInterface({input:t.stderr}),o="",s=()=>c();i.on("line",l),i.on("close",s);let a=new je([t.onExit(()=>c()),t.onError(c)]),u=e.onCancellationRequested(()=>{p(),n(new Ii(`Timed out after ${u} ms while trying to connect to the browser!`))});function c(f){p(),n(new Error(["Failed to launch browser!"+(f?" "+f.message:""),o,"","TROUBLESHOOTING: https://github.com/GoogleChrome/puppeteer/blob/master/docs/troubleshooting.md",""].join(`
`)))}function l(f){o+=f+`
`;let m=f.match(/^DevTools listening on (ws:\/\/.*)$/);m&&(p(),r(m[1]))}function p(){u.dispose(),i.removeListener("line",l),i.removeListener("close",s),a.dispose()}})}async function o2(t,e,r,n){let i=t.launchUnelevatedRequest({process:e,args:r});await Ai(i,n,"Could not launch browser unelevated")}var s2=()=>{};async function c2(t,e,r,n,i,o,s={}){let{onStderr:a=s2,onStdout:u=s2,args:c=[],dumpio:l=!1,cwd:p=process.cwd(),env:f=Ut.empty,connection:m="pipe",cleanUp:h="wholeBrowser",url:g,inspectUri:b}=s,A=new Es(c),D=A.getSuggestedConnection();s.includeLaunchArgs!==!1?(A=L0(A,s),D===void 0&&(A=A.setConnection(m),D=m)):D===void 0&&(D="pipe");let U=["pipe","pipe","pipe"];D==="pipe"&&(l?U=["ignore","pipe","pipe","pipe","pipe"]:U=["ignore","ignore","ignore","pipe","pipe"]);let $;if(!!(i.supportsLaunchUnelevatedProcessRequest&&s.launchUnelevated)&&typeof D=="number"&&D!==0)await o2(t,e,A.toArray(),o),$=new Iy(r);else{r.info("runtime.launch",`Launching Chrome from ${e}`);let X=a2.spawn(e,A.toArray(),{detached:!0,env:f.defined(),cwd:await pu(u2.promises,p)?p:process.cwd(),stdio:U});if(X.pid===void 0)throw await Promise.race([Le(1e3).then(()=>new Error("Unable to launch the executable (undefined pid)")),new Promise(j=>X.once("error",j))]);$=new Ay(X,r)}l?($.stderr?.on("data",X=>a(X.toString())),$.stdout?.on("data",X=>u(X.toString()))):($.stderr?.resume(),$.stdout?.resume());let z=()=>{h==="wholeBrowser"&&$.kill()};process.on("exit",z),$.onExit(()=>process.removeListener("exit",z));try{if(s.promisedPort){let O;D=await Promise.race([s.promisedPort,new Promise((N,E)=>{O=$.onExit(q=>{E(new Q(ID(q)))})})]).finally(()=>O.dispose())}let X=await $.transport({connection:D,inspectUri:b||void 0,url:g||void 0},o),j=new _t(X,r,n);return z=async()=>{h==="wholeBrowser"?(await j.rootSession().Browser.close({}),$.kill()):j.close()},{cdp:j,process:$}}catch(X){throw z(),X}}function L0(t,e={}){let{userDataDir:r=null,ignoreDefaultArgs:n=!1}=e,i=n===!0?new Es:Es.default;return n instanceof Array&&(i=i.filter(o=>!n.includes(o))),r&&(i=i.add("--user-data-dir",r)),i=i.merge(t),t.toArray().every(o=>o.startsWith("-"))&&e.hasUserNavigation&&(i=i.add("about:blank")),i}async function l2(t,e,r,n){let{browserWSEndpoint:i,browserURL:o}=t;if(i){let s=await Xr.create(i,e);return new _t(s,r,n)}else if(o){let s=await wy(o,e,r),a=t.inspectUri?yy(t.inspectUri,t.pageURL,s):s,u=await Xr.create(a,e);return new _t(u,r,n)}throw new Error("Either browserURL or browserWSEndpoint needs to be specified")}var _n=class{constructor(e,r,n){this.logger=e;this.pathResolver=r;this.vscode=n;this._disposables=[];this._onTerminatedEmitter=new K;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new K;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){for(let e of this._disposables)e.dispose();this._disposables=[],this._attemptTimer&&clearTimeout(this._attemptTimer),this._targetManager&&this._targetManager.dispose()}resolveParams(e){return e.request==="attach"&&(e.type==="pwa-chrome"||e.type==="pwa-msedge"&&typeof e.useWebView!="object")&&e.browserAttachLocation==="workspace"}async launch(e,r){return this.resolveParams(e)?(this._lastLaunchParams={...e,timeout:1/0},await this.attemptToAttach(this._lastLaunchParams,r),{blockSessionTermination:!0}):{blockSessionTermination:!1}}_scheduleAttach(e,r){this._attemptTimer=setTimeout(()=>{this._attemptTimer=void 0,this.attemptToAttach(e,{...r,cancellationToken:br})},1e3)}createTargetManager(e,r,n){return Ss.connect(e,void 0,this.pathResolver,r,this.logger,n.telemetryReporter,n.targetOrigin)}async attemptToAttach(e,r){let n=await this.acquireConnectionForBrowser(r,e);this._connection=n,n.onDisconnected(()=>{this._connection=void 0,this._targetManager&&(this._targetManager.dispose(),this._targetManager=void 0,this._onTargetListChangedEmitter.fire()),this._lastLaunchParams===e&&e.restart?this._scheduleAttach(e,r):this._onTerminatedEmitter.fire({killed:!0,code:0})},void 0,this._disposables);let i=this._targetManager=await this.createTargetManager(n,e,r);if(!i)return;i.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),i.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),i.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),i.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire(),i.targetList().length||this._onTerminatedEmitter.fire({killed:!0,code:0})});let o=await Promise.race([i.waitForMainTarget(await this.getTargetFilter(i,e)),Le(e.timeout).then(()=>{throw new Q(Gh())})]);return typeof o=="string"?o:void 0}async getTargetFilter(e,r){let n=Oo(r),i=Eu(n);if(r.targetSelection!=="pick")return i;let o=await e.getCandiateInfo(i);if(o.length===0)return i;if(o.length===1||!this.vscode)return u=>u.targetId===o[0].targetId;let s=Sy.t("Select a tab"),a=await this.vscode.window.showQuickPick(o.map(u=>({label:u.title,detail:u.url,targetId:u.targetId})),{matchOnDescription:!0,matchOnDetail:!0,placeHolder:s});return a?u=>u.targetId===a.targetId:i}async acquireConnectionForBrowser({telemetryReporter:e,cancellationToken:r},n){for(;this._lastLaunchParams===n;)try{return await this.acquireConnectionInner(e,n,r)}catch(i){if(r.isCancellationRequested)throw new Q(cp(Sy.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,i.message)));await Le(1e3)}throw new Q(cp(Sy.t("Cannot connect to the target at {0}: {1}",`${n.address}:${n.port}`,"Cancelled")))}async acquireConnectionInner(e,r,n){let i=`http://${r.address}:${r.port}`;return await l2({browserURL:i,inspectUri:r.inspectUri,pageURL:r.url},n,this.logger,e)}async terminate(){this._lastLaunchParams=void 0,this._connection?.close()}async restart(){if(this._targetManager)for(let e of this._targetManager.targetList())e.type()==="page"&&!e.name().startsWith("devtools://")&&e.restart()}targetList(){let e=this._targetManager;return e?e.targetList():[]}};_n=V([(0,Ls.injectable)(),I(0,(0,Ls.inject)(ne)),I(1,(0,Ls.inject)(We)),I(2,(0,Ls.optional)()),I(2,(0,Ls.inject)(Wo))],_n);var Fn=M(ue());var f2=M(Yw()),Zf=M(v("fs")),xs=M(ue()),nl=M(v("path"));var Ri=class{constructor(e,r,n,i,o){this.storagePath=e;this.logger=r;this.pathResolver=n;this.initializeParams=i;this.fs=o;this._disposables=new je;this._terminated=!1;this._onTerminatedEmitter=new K;this.onTerminated=this._onTerminatedEmitter.event;this._onTargetListChangedEmitter=new K;this.onTargetListChanged=this._onTargetListChangedEmitter.event}dispose(){this._disposables.dispose()}async launchBrowser({runtimeExecutable:e,trace:r,includeDefaultArgs:n,includeLaunchArgs:i,runtimeArgs:o,userDataDir:s,env:a,cwd:u,port:c,url:l,file:p,inspectUri:f,webRoot:m,cleanUp:h,launchUnelevated:g},b,A,D,U){let $=await this.findBrowserPath(e||"stable"),W;return typeof s=="string"?W=nl.resolve(s):s&&(W=nl.resolve(nl.join(this.storagePath,o?.includes("--headless")?".headless-profile":".profile"))),Zf.mkdirSync(this.storagePath,{recursive:!0}),W&&(Zf.mkdirSync(W,{recursive:!0}),W=Zf.realpathSync(W)),await c2(b,$,this.logger,D,this.initializeParams,A,{onStdout:z=>b.output({category:"stdout",output:z}),onStderr:z=>b.output({category:"stderr",output:z}),dumpio:typeof r=="boolean"?r:r.stdio,cleanUp:h,hasUserNavigation:!!(l||p),cwd:u||m||void 0,env:Ut.merge(Ut.processEnv(),a),args:o||[],userDataDir:W,connection:c||(f?0:"pipe"),launchUnelevated:g,ignoreDefaultArgs:!n,includeLaunchArgs:i,url:l,inspectUri:f,promisedPort:U})}getFilterForTarget(e){return Eu(Oo(e,["about:blank"]))}async prepareLaunch(e,{dap:r,targetOrigin:n,cancellationToken:i,telemetryReporter:o}){let s;try{s=await this.launchBrowser(e,r,i,o)}catch(c){throw new Q(gD(c))}if(this._disposables.push(s.cdp.onDisconnected(()=>this.fireTerminatedEvent())),this._connectionForTest=s.cdp,this._launchParams=e,this._targetManager=await Ss.connect(s.cdp,s.process,this.pathResolver,this._launchParams,this.logger,o,n),!this._targetManager)throw s.process.kill(),new Q(cp());this._targetManager.serviceWorkerModel.onDidChange(()=>this._onTargetListChangedEmitter.fire()),this._targetManager.frameModel.onFrameNavigated(()=>this._onTargetListChangedEmitter.fire()),this._disposables.push(this._targetManager),this._targetManager.onTargetAdded(()=>{this._onTargetListChangedEmitter.fire()}),this._targetManager.onTargetRemoved(()=>{this._onTargetListChangedEmitter.fire()});let a=this.getFilterForTarget(e),u=await Ai(this._targetManager.waitForMainTarget(a),i,"Could not attach to main target");if(!u)throw s.process.kill(),new Q(Gh());return u}async finishLaunch(e,r){if("skipNavigateForTest"in r)return;let n;if(r.file){let i=nl.resolve(r.webRoot||r.rootPath||"",r.file),o=Math.min(i.includes("#")?i.indexOf("#"):1/0,i.includes("?")?i.indexOf("?"):1/0);isFinite(o)&&!await Lo(this.fs,i)?n=Ce(i.slice(0,o))+i.slice(o):n=Ce(i)}else n=r.url;n&&await e.cdp().Page.navigate({url:n})}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};let i=await this.prepareLaunch(n,r);return await this.finishLaunch(i,n),{blockSessionTermination:!0}}async terminate(){await this._targetManager?.closeBrowser()}async restart(){for(let e of this.targetList())e.type()==="page"&&e.restart()}async findBrowserByExe(e,r){return r==="*"?(await e.findWhere(i=>i.quality==="stable")||(await e.findAll())[0])?.path:(0,f2.isQuality)(r)?(await e.findWhere(n=>n.quality===r))?.path:r}targetList(){let e=this._targetManager;return e?e.targetList():[]}connectionForTest(){return this._connectionForTest}fireTerminatedEvent(){this._terminated||(this._terminated=!0,this._onTerminatedEmitter.fire({code:0,killed:!0}))}};Ri=V([(0,xs.injectable)(),I(0,(0,xs.inject)(hi)),I(1,(0,xs.inject)(ne)),I(2,(0,xs.inject)(We)),I(3,(0,xs.inject)(nr)),I(4,(0,xs.inject)(Ve))],Ri);var qa=class extends Ri{constructor(r,n,i,o,s,a){super(r,n,s,a,o);this.browserFinder=i}resolveParams(r){return r.type==="pwa-chrome"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await pu(this.fs,n))throw new Q(Vh("Chrome",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};qa=V([(0,Fn.injectable)(),I(0,(0,Fn.inject)(hi)),I(1,(0,Fn.inject)(ne)),I(2,(0,Fn.inject)(Zs)),I(2,(0,Fn.tagged)("browser","chrome")),I(3,(0,Fn.inject)(Ve)),I(4,(0,Fn.inject)(We)),I(5,(0,Fn.inject)(nr))],qa);var d2=v("crypto"),Un=M(ue()),h2=v("net"),m2=v("os"),H2=v("path");var Wue=["--do-not-de-elevate"],il=class extends Ri{constructor(r,n,i,o,s,a){super(r,n,s,a,o);this.browserFinder=i}resolveParams(r){return r.type==="pwa-msedge"&&r.request==="launch"&&r.browserLaunchLocation==="workspace"?r:void 0}launchBrowser(r,n,i,o){return super.launchBrowser({...r,runtimeArgs:r.runtimeArgs??Wue},n,i,o,r.useWebView?this.getWebviewPort(r,o):void 0)}getFilterForTarget(r){return r.useWebView&&r.urlFilter?Eu(Oo(r)):super.getFilterForTarget(r)}async getWebviewPort(r,n){let i=ke();if(!r.runtimeExecutable)return i.resolve(r.port),i.promise;let o=r.runtimeExecutable.split(/\\|\//).pop(),s=`VSCode_${(0,d2.randomBytes)(12).toString("base64")}`,a=`\\\\.\\pipe\\WebView2\\Debugger\\${o}\\${s}`,u=(0,h2.createServer)(c=>{c.on("data",async l=>{let p=JSON.parse(l.toString()),f=p.devtoolsActivePort||"",m=parseInt(f.split(`
`).shift()||""),h=r.port||m;i.resolve(h);let g=`ws://${r.address}:${h}/devtools/${p.type}/${p.id}`,b=await Xr.create(g,br),A=new _t(b,this.logger,n);await A.rootSession().Runtime.runIfWaitingForDebugger({}),A.close()})});return u.on("error",i.reject),u.on("close",()=>i.resolve(r.port)),u.listen(a),r.userDataDir=r.userDataDir||(0,H2.join)((0,m2.tmpdir)(),`vscode-js-debug-userdatadir_${r.port}`),r.env=r.env||{},r.env.WEBVIEW2_USER_DATA_FOLDER=r.userDataDir.toString(),r.env.WEBVIEW2_ADDITIONAL_BROWSER_ARGUMENTS=`--remote-debugging-port=${r.port}`,r.env.WEBVIEW2_WAIT_FOR_SCRIPT_DEBUGGER="true",r.env.WEBVIEW2_PIPE_FOR_SCRIPT_DEBUGGER=s,i.promise}async findBrowserPath(r){let n=await this.findBrowserByExe(this.browserFinder,r);if(!n||!await pu(this.fs,n))throw new Q(Vh("Edge",r,(await this.browserFinder.findAll()).map(i=>i.quality)));return n}};il=V([(0,Un.injectable)(),I(0,(0,Un.inject)(hi)),I(1,(0,Un.inject)(ne)),I(2,(0,Un.inject)(Zs)),I(2,(0,Un.tagged)("browser","edge")),I(3,(0,Un.inject)(Ve)),I(4,(0,Un.inject)(We)),I(5,(0,Un.inject)(nr))],il);var bo=M(ue());var g2=v("crypto"),Ey=M(ue());var que=0,ki=class{constructor(e){this.portLeaseTracker=e;this.teardown=new WeakMap}async launch(e,r,n){this.server&&this.server.close();let i=`/${(0,g2.randomBytes)(20).toString("hex")}`,o=this.server=await Rm(this.portLeaseTracker,{perMessageDeflate:!0,host:"127.0.0.1",path:i}),s=++que;e.launchBrowserInCompanion({...n,serverPort:o.address().port,path:i,launchId:s});let a=await Ai(new Promise((c,l)=>{o.once("connection",c),o.once("error",l)}),r,"Timed out waiting for browser connection"),u=new Xr(a);return this.teardown.set(u,()=>e.killCompanionBrowser({launchId:s})),u}close(e){this.teardown.get(e)?.()}dispose(){this.server?.close(),this.server=void 0}};ki=V([(0,Ey.injectable)(),I(0,(0,Ey.inject)(cn))],ki);var ol=class extends _n{constructor(r,n,i,o){super(n,i,o);this.helper=r}resolveParams(r){return r.request==="attach"&&(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.browserAttachLocation==="ui"}async acquireConnectionForBrowser(r,n){let i=await this.helper.launch(r.dap,r.cancellationToken,{type:n.type==="pwa-chrome"?"chrome":"edge",params:n,attach:{host:n.address,port:n.port}});return new _t(i,this.logger,r.telemetryReporter)}};ol=V([(0,bo.injectable)(),I(0,(0,bo.inject)(ki)),I(1,(0,bo.inject)(ne)),I(2,(0,bo.inject)(We)),I(3,(0,bo.optional)()),I(3,(0,bo.inject)(Wo))],ol);var vo=M(ue());var sl=class extends Ri{constructor(r,n,i,o,s,a){super(r,n,i,o,s);this.helper=a}resolveParams(r){return(r.type==="pwa-chrome"||r.type==="pwa-msedge")&&r.request==="launch"&&r.browserLaunchLocation==="ui"?r:void 0}async launchBrowser(r,n,i,o){let s=await this.helper.launch(n,i,{type:r.type==="pwa-chrome"?"chrome":"edge",browserArgs:L0(new Es(r.runtimeArgs||[]),{hasUserNavigation:!!r.url,ignoreDefaultArgs:!r.includeDefaultArgs}).setConnection(r.port||"pipe").toArray(),params:r});return{cdp:new _t(s,this.logger,o),process:{onExit:new K().event,onError:new K().event,transport:()=>Promise.resolve(s),kill:()=>this.helper.close(s)}}}async findBrowserPath(){throw new Error("not implemented")}};sl=V([(0,vo.injectable)(),I(0,(0,vo.inject)(hi)),I(1,(0,vo.inject)(ne)),I(2,(0,vo.inject)(We)),I(3,(0,vo.inject)(nr)),I(4,(0,vo.inject)(Ve)),I(5,(0,vo.inject)(ki))],sl);var Cs=M(ue()),A2=v("net");var al=class extends _n{constructor(e,r,n){super(e,r,n)}resolveParams(e){return e.request==="attach"&&e.type==="pwa-msedge"&&typeof e.useWebView=="object"}async acquireConnectionForBrowser(e,r){let{getAppContainerProcessTokens:n}=await Promise.resolve().then(()=>M(I2())),i=n(r.useWebView.pipeName);if(!i)throw new Q(bD());let o=i.map(u=>(0,A2.connect)(u)),s;try{s=await Ai(nu(o.map(u=>new Promise(c=>u.on("error",()=>c(void 0)).on("connect",()=>c(u))))),e.cancellationToken)}finally{for(let u of o)u!==s&&u.destroy()}if(!s)throw new Q(vD());let a=new vn(this.logger,s);return new _t(a,this.logger,e.telemetryReporter)}};al=V([(0,Cs.injectable)(),I(0,(0,Cs.inject)(ne)),I(1,(0,Cs.inject)(We)),I(2,(0,Cs.optional)()),I(2,(0,Cs.inject)(Wo))],al);var fl=M(ue()),O2=v("net");var Kr=M(ue());var x0=Symbol("ILinkedBreakpointLocation");var D2=M(v("path"));var td=M(ue()),$s=M(v("path")),C2=v("url");var S2=v("fs"),_o=M(v("path")),C0=v("url");function Ly(t,e){return t?(t.endsWith("/")||(t+="/"),t+e):e}async function xy(t,e,r,n,i){e=at(e)||e;let o;if(t){if(tn(t))o=at(t);else if(rr(t))o=await n(t,r,i)||t;else if(_o.isAbsolute(e))o=Yue(e,t);else{let s=new C0.URL(e).pathname,a=await n(s,r,i),u=_o.dirname(a);o=xo(u,t)}i.verbose("sourcemap.parsing","resolved sourceRoot",{sourceRoot:t,absSourceRoot:o})}else if(_o.isAbsolute(e))o=_o.dirname(e),i.verbose("sourcemap.parsing","no sourceRoot specified, using script dirname",{absSourceRoot:o});else{let s=new C0.URL(e).pathname||"/placeholder.js",a=await n(s,r,i);o=a?_o.dirname(a):"",i.verbose("sourcemap.parsing","no sourceRoot specified, using webRoot + script path dirname",{absSourceRoot:o})}return o=WC(o),o=pt(o),o}var ed=async(t,e,r)=>{if(!t||!t.startsWith("/"))return"";let n=Object.keys(e).sort((i,o)=>o.length-i.length);for(let i of n){if(!i)continue;let o=e[i];if(i[0]!=="/"&&(r.verbose("sourcemap.parsing",`Keys should be absolute: ${i}`),i="/"+i),zue(i,t))return Jue(i,o,t)}return""},E2=(t,e)=>async(r,n,i)=>{if(process.platform==="win32"&&/^[a-z]:/i.test(r))return r;let o=await kh(t,_o.dirname(e),"package.json");if(!o)return ed(r,n,i);let s=await ed(r,eE(n,a=>a.length>=o.length),i);return process.platform!=="win32"&&r!=="/"&&!s&&(await S2.promises.stat(r).catch(()=>{}))?.isDirectory()?r:s||o};function zue(t,e){return t===e?!0:(t.endsWith("/")||(t+="/"),e.startsWith(t))}function Jue(t,e,r){let n=decodeURIComponent(r.substring(t.length));return n?xo(e,n):e}function Yue(t,e){return Mr(_o.dirname(t),e)}var x2=M(vp()),cl=M(v("path"));var $y="*",P2=new RegExp(mr($y),"g"),Cy="?:"+$y,Que=new RegExp(mr(Cy),"g"),D0=(t,e)=>{let r=e.match(t);return t.lastIndex=0,r?r.length:0},L2=new RegExp(`${mr(Cy)}|${mr($y)}`,"g"),Dy=class{constructor(e,r){this.logger=r;this.replacers=[];let n=Object.keys(e).sort((i,o)=>o.replace(Cy,"*").length-i.replace(Cy,"*").length);for(let i of n){let o=e[i];if(!o.includes("*")&&/\$[0-9'`&]/.test(o)){this.replacers.push([new RegExp(`^${i}$`,"i"),o]);continue}let s=et(i),a=`"${s}": "${o}"`,u=D0(P2,s)-D0(Que,s);if(u>1){r.warn("runtime.sourcemap",`Warning: only one asterisk allowed in a sourceMapPathOverrides entry - ${a}`);continue}if(D0(P2,o)>u){r.warn("runtime.sourcemap",`The right side of a sourceMapPathOverrides entry must have 0 or 1 asterisks - ${a}}`);continue}let c="^",l=0;for(L2.lastIndex=0;;){let p=L2.exec(s);if(c+=mr(s.slice(l,p?.index),"/"),!p)break;p[0]===$y?c+="(.*?)":c+=".*?",l=p.index+p[0].length}u===0&&(c+="([\\/\\\\].*)?",o+="*"),this.replacers.push([new RegExp(c+"$","i"),o.replace(/\$/g,"$$$$").replace(/\*/,"$1")])}}apply(e){let r=et(e);for(let[n,i]of this.replacers){let o=r.replace(n,i);if(o!==r)return this.logger.verbose("runtime.sourcemap",`SourceMap: mapping ${e} => ${o}, via sourceMapPathOverrides entry - ${n.toString()}`),xo(o)}return e}};var Zue=/\x00/,ul=class{constructor(e,r){this.options=e;this.logger=r;this.sourceMapOverrides=new Dy(this.options.sourceMapOverrides,this.logger);this.resolvePatterns=this.options.resolveSourceMapLocations?.map(e=>{let r=e.startsWith("!")?"!":"",n=e.slice(r.length).replace(/\.[a-z0-9]+$/,".*");if(!rr(n))return et(e);n=et(Mr(n));let i=gv(this.options.workspaceFolder),o=gv(n),s=0;for(let a=0;a<i.length&&a<o.length&&o[a].toLowerCase()===i[a].toLowerCase();a++)s+=i[a].length+1;return n=n.slice(0,s).replace(/[\[\]\(\)\{\}\!\*]/g,"\\$&")+n.slice(s),r+n})}shouldResolveSourceMap({sourceMapUrl:e,compiledPath:r}){if(r.startsWith(ls)||r==="")return!1;if(!this.resolvePatterns||this.resolvePatterns.length===0)return!0;let n=at(e)||Gt(e)&&r||e;if(n.startsWith("webpack-internal:///"))return!0;let i=hh(e)?!1:Vv(),o=this.rebaseRemoteToLocal(n);return(0,x2.default)((o!==n?[n,o]:[n]).map(et),this.resolvePatterns,{dot:!0,nocase:!i}).length>0}rebaseRemoteToLocal(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return cl.resolve(e);let r=Gl(this.options.remoteRoot,e);if(r.startsWith(".."))return"";let n=xo(this.options.localRoot,r);return n=yv(n),this.logger.verbose("runtime.sourcemap",`Mapped remoteToLocal: ${e} -> ${n}`),Mr(n)}rebaseLocalToRemote(e){if(!this.options.remoteRoot||!this.options.localRoot||!this.canMapPath(e))return e;let r=Gl(this.options.localRoot,e),n=xo(this.options.remoteRoot,r);return n=pt(n,!0),this.logger.verbose("runtime.sourcemap",`Mapped localToRemote: ${e} -> ${n}`),n}normalizeSourceMapUrl(e){e=e.replace(Zue,"");let r=e.lastIndexOf("?");return r!==-1&&e.slice(r-4,r)!==".vue"&&(e=e.slice(0,r)),e}canMapPath(e){return cl.posix.isAbsolute(e)||cl.win32.isAbsolute(e)||tn(e)}};var $0="https?:\\/\\/[^\\/]+\\/",Ds=class extends ul{constructor(r,n,i,o){super(i,o);this.vueMapper=r;this.fsUtils=n}absolutePathToUrlPath(r){r=$s.normalize(r);let{baseUrl:n,pathMapping:i}=this.options,o=["/",i["/"]],s=Object.entries(i).sort(([c,l],[p,f])=>f.length-l.length||p.length-c.length).find(([,c])=>Vx(c,r))||o;if(!s)return{url:Ce(r),needsWildcard:!1};if(n&&tn(n))return{url:Su(r),needsWildcard:!1};let a=ko($s.relative(s[1],r)),u=s[0].replace(/\/$|^\//g,"");return u&&(a=u+"/"+a),!n&&!Nh(a)?{url:a,needsWildcard:!0}:{url:Oh(n,a),needsWildcard:!1}}async urlToAbsolutePath({url:r,map:n}){let i=r.indexOf("?");return i!==-1&&r.slice(i-4,i)!==".vue"&&(r=r.slice(0,i)),n?this.sourceMapSourceToAbsolute(r,n):this.simpleUrlToAbsolute(r)}async simpleUrlToAbsolute(r){if(!r)return;if(tn(r)){let s=at(r);if(await this.fsUtils.exists(s))return s;let a=qC(r);return await this.fsUtils.exists(a)?a:s}let n;try{let s=new C2.URL(r);if(!s.pathname||s.pathname==="/"?n="index.html":n=s.pathname,s.protocol==="webpack-internal:")return}catch{n=r}let i=$s.extname(n),o=n.replace(/^\//,"").split(/[\/\\]/);for(;o.length>0;){let s="/"+o.join("/"),a=await ed(s,this.options.pathMapping,this.logger);if(a){if(!i&&await this.fsUtils.exists(a+".html"))return a+".html";if(await this.fsUtils.exists(a))return a}o.shift()}}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;switch(this.vueMapper.getVueHandling(r)){case 2:return;case 1:let a=await this.vueMapper.lookup(r);if(a)return pt(a);break;default:}r=this.normalizeSourceMapUrl(r);let{pathMapping:i}=this.options,o=Ly(n.sourceRoot,r),s=this.sourceMapOverrides.apply(o);if(s!==o){s=pt(s);let a=Mr(i["/"],"..","ClientApp",Gl(i["/"],s));return this.options.clientID==="visualstudio"&&o.startsWith("webpack:///")&&!await this.fsUtils.exists(s)&&await this.fsUtils.exists(a)?a:s}return tn(r)?at(r):$s.isAbsolute(r)?pt(r):Mr(await xy(n.sourceRoot,n.metadata.compiledPath,i,ed,this.logger),r)}absolutePathToUrlRegexp(r){let n=this.absolutePathToUrlPath(r),i=n.url,o=i.length;i.endsWith("index.html")?(o=i.length-10-1,i=i.slice(0,o)+"\\/?($|index(\\.html)?)"):i.endsWith(".html")&&(o=i.length-5,i=i.slice(0,o)+"(\\.html)?");let s=0;n.needsWildcard&&(i=$0+i,s=$0.length,o+=$0.length);let a=en(i,[s,o]);return n.needsWildcard?`${en(Ce(r))}|${a}`:a}};Ds=V([(0,td.injectable)(),I(0,(0,td.inject)(Rc)),I(1,(0,td.inject)(Er))],Ds);var Ty=class extends Ds{constructor(r,n,i,o){super(r,n,i,o);this.blazorInCodespacesRegexpSubstitution="$1:\\$2";if(this.options.remoteFilePrefix){let s=`\\${D2.default.sep}`,a=this.options.remoteFilePrefix.replace(new RegExp(s,"g"),s);this.blazorInCodespacesRegexp=new RegExp(`^${a}${s}([A-z])\\$${s}(.*)$`)}else this.blazorInCodespacesRegexp=new RegExp("")}absolutePathToUrlRegexp(r){if(this.options.remoteFilePrefix){let n=r.replace(this.blazorInCodespacesRegexp,this.blazorInCodespacesRegexpSubstitution),o=ko(n).replace(/^(\w):(.*)$/,"$1$2"),s=en(o);if(s){let a=`dotnet://.*\\.dll/${s}`;return this.logger.verbose("runtime.breakpoints","absolutePathToUrlRegexp.blazor.remoteFs",{absolutePath:r,dotnetUrlRegexp:a}),a}}else{let n=Ce(r),i=en(n),o=super.absolutePathToUrlRegexp(r);return i.includes(o)?i:`${i}|${o}`}return super.absolutePathToUrlRegexp(r)}};var $2=v("url");function T2(t){if("file"in t&&t.file)return Su(t.file);if(t.url)try{let e=new $2.URL(t.url);return e.pathname="/",e.search="",e.hash="",e.protocol==="data:"?void 0:e.href}catch{}}var Va=M(v("path")),R2=v("url");var M2="node:",wo=class t extends ul{constructor(r,n,i,o){super(i,o);this.fsUtils=r;this.linkedBp=n;this.options=i;this.logger=o}static shouldWarnAboutSymlinks(r){return"runtimeArgs"in r&&!r.runtimeArgs?.includes("--preserve-symlinks")}static getOptions(r){return{workspaceFolder:r.__workspaceFolder,resolveSourceMapLocations:r.resolveSourceMapLocations,basePath:r.cwd,sourceMapOverrides:r.sourceMapPathOverrides,remoteRoot:r.remoteRoot,localRoot:r.localRoot}}derive(r){return new t(this.fsUtils,this.linkedBp,{...this.options,...r},this.logger)}get resolutionOptions(){return this.options}async urlToAbsolutePath({url:r,map:n}){if(r=this.normalizeSourceMapUrl(r),r.startsWith(M2)&&this.options.basePath)return r=Va.join(this.options.basePath,"lib",r.slice(M2.length)),r.endsWith(".js")||(r+=".js"),r;if(n)return this.sourceMapSourceToAbsolute(r,n);let i=at(r);if(i)return this.rebaseRemoteToLocal(i);if(Nh(r)){let s=this.sourceMapOverrides.apply(r);r=s===r?new R2.URL(r).pathname.slice(1):s}else if(Va.isAbsolute(r))r=this.sourceMapOverrides.apply(r);else return`<node_internals>/${r}`;let o=Mr(this.options.basePath??"",r);return this.rebaseRemoteToLocal(o)}absolutePathToUrl(r){return Ce(this.rebaseLocalToRemote(Va.normalize(r)))}async absolutePathToUrlRegexp(r){let n=r;try{n=await this.fsUtils.realPath(r)}catch{}return Rh(n,r)?en(this.absolutePathToUrl(r)):(this.linkedBp?.warn(),en(this.absolutePathToUrl(r))+"|"+en(this.absolutePathToUrl(n)))}async sourceMapSourceToAbsolute(r,n){if(!this.shouldResolveSourceMap(n.metadata))return;let i=Ly(n.sourceRoot,r),o=this.sourceMapOverrides.apply(i);return o!==i?pt(o):tn(r)?at(r):!Va.isAbsolute(r)&&this.options.basePath?Mr(await xy(this.options.remoteRoot&&rr(n.sourceRoot)&&this.rebaseRemoteToLocal(n.sourceRoot)||n.sourceRoot,n.metadata.compiledPath,{"/":this.options.basePath},E2(this.fsUtils,n.metadata.compiledPath),this.logger),r):this.rebaseRemoteToLocal(r)||r}};var jn=Symbol("ISourcePathResolverFactory"),ll=class{constructor(e,r){this.fsUtils=e;this.linkedBp=r}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new wo(this.fsUtils,wo.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,wo.getOptions(e),r);throw new Error(`Not usable for type ${e.type}`)}};ll=V([(0,Kr.injectable)(),I(0,(0,Kr.inject)(Er)),I(1,(0,Kr.optional)()),I(1,(0,Kr.inject)(x0))],ll);var pl=class{constructor(e,r,n,i){this.initializeParams=e;this.vueMapper=r;this.fsUtils=n;this.linkedBp=i}create(e,r){if(e.type==="pwa-node"||e.type==="node-terminal"||e.type==="pwa-extensionHost")return new wo(this.fsUtils,wo.shouldWarnAboutSymlinks(e)?this.linkedBp:void 0,wo.getOptions(e),r);{let n=!!e.inspectUri;return new(n?Ty:Ds)(this.vueMapper,this.fsUtils,{workspaceFolder:e.__workspaceFolder,resolveSourceMapLocations:e.resolveSourceMapLocations,baseUrl:T2(e),localRoot:null,remoteRoot:null,pathMapping:{"/":e.webRoot,...e.pathMapping},sourceMapOverrides:e.sourceMapPathOverrides,clientID:this.initializeParams.clientID,remoteFilePrefix:e.__remoteFilePrefix},r)}}};pl=V([(0,Kr.injectable)(),I(0,(0,Kr.inject)(nr)),I(1,(0,Kr.inject)(Rc)),I(2,(0,Kr.inject)(Er)),I(3,(0,Kr.optional)()),I(3,(0,Kr.inject)(x0))],pl);var k2=v("url");var My=class extends Ss{constructor(){super(...arguments);this.baseFilter=Oo(this.launchParams);this.filter=r=>{let{debugWebWorkerExtHost:n,debugWebviews:i}=this.launchParams;return!!(n&&(r.type==="worker"&&r.title==="DebugWorkerExtensionHost"||r.type==="page"&&r.title.includes("[Extension Development Host]"))||i&&r.type==="iframe"&&this.baseFilter(r))}}static async connectRenderer(r,n,i,o,s,a){let c=await r.rootSession().Target.attachToBrowserTarget({});if(!c)return;let l=r.createSession(c.sessionId);return new this(r,void 0,l,n,o,s,i,a)}waitForMainTarget(r){let n=this.launchParams;return n.debugWebWorkerExtHost&&this._browser.Target.on("targetCreated",this.enqueueLifecycleFn(async({targetInfo:i})=>{if(!i.url.includes(n.__sessionId))return;let o=await this._browser.Target.attachToTarget({targetId:i.targetId,flatten:!0});o&&this.attachedToTarget(i,o.sessionId,!1)})),super.waitForMainTarget(r)}attachedToTarget(r,n,i,o){let s=super.attachedToTarget(r,n,i||this.filter(r),o,!1);return r.type==="iframe"&&s.setComputeNameFn(ece),s}},ece=t=>{let e;try{e=new k2.URL(t.targetInfo.url)}catch{return}switch(e.searchParams.get("purpose")){case"customEditor":return`${e.searchParams.get("extensionId")} editor: ${e.host}`;case"notebookRenderer":return`Notebook Renderer: ${e.host}`;default:let r=e.searchParams.get("extensionId");return`Webview: ${r?r+" ":""} ${e.host}`}};var Wn=class extends _n{constructor(r,n,i){super(r,n);this.pathResolverFactory=i}async launch(r,n){if(r.type!=="pwa-extensionHost"||r.request!=="attach")return{blockSessionTermination:!1};let i=Wn.debugIdToRendererDebugPort.get(r.__sessionId);if(!i)return{blockSessionTermination:!1};let o=xu({name:"Webview",type:"pwa-chrome",request:"attach",port:i,__workspaceFolder:r.__workspaceFolder,urlFilter:"",resolveSourceMapLocations:r.resolveSourceMapLocations,...r.rendererDebugOptions});return o.__sessionId=r.__sessionId,o.debugWebWorkerExtHost=r.debugWebWorkerHost,o.debugWebviews=r.debugWebviews,super.launch(o,n).catch(s=>this.logger.error("runtime.exception","Error in webview attach",{err:s})),{blockSessionTermination:!1}}async acquireConnectionInner(r,n,i){let o=new je,s=await new Promise((a,u)=>{let c=(0,O2.createConnection)({port:n.port},()=>a(c));c.on("error",u),o.push(i.onCancellationRequested(()=>{c.destroy(),u(new Error("connection timed out"))}))}).finally(()=>o.dispose());return new _t(new vn(this.logger,s),this.logger,r)}async getTargetFilter(r){return r.filter}async createTargetManager(r,n,i){return new My(r,void 0,r.rootSession(),this.pathResolverFactory.create(n,this.logger),this.logger,i.telemetryReporter,n,i.targetOrigin)}};Wn.debugIdToRendererDebugPort=new Map,Wn=V([(0,fl.injectable)(),I(0,(0,fl.inject)(ne)),I(1,(0,fl.inject)(We)),I(2,(0,fl.inject)(jn))],Wn);var dl=class t{constructor(){this.target={queue:[]}}connectTo(e){this.target={logger:e}}info(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:1})}verbose(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:0})}warn(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:2})}error(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:3})}fatal(e,r,n){this.log({tag:e,timestamp:Date.now(),message:r,metadata:n,level:4})}log(e){this.target&&("queue"in this.target?this.target.queue.push(e):this.target.logger.log(e))}getRecentLogs(){return this.target?"queue"in this.target?this.target.queue:this.target.logger.getRecentLogs():[]}assert(e,r){if(e===!1||e===void 0||e===null){if(this.error("runtime.assertion",r,{error:new Error("Assertion failed")}),process.env.JS_DEBUG_THROW_ASSERTIONS)throw new Error(r);debugger;return!1}return!0}setup(){throw new Error("A ProxyLogger cannot be setup()")}dispose(){this.target=void 0}forTarget(){return new t}};var N2=Symbol("ITargetOrigin"),Ry=class{constructor(e){this.id=e}},ky=class{constructor(e){this.id=e}};var Oy=class{constructor(e,r){this.parentList=e;this.logger=r;this.targets=new xi;this.onTerminatedEmitter=new K;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;e.onAdd(([,n])=>{n.parent&&this.targets.get(n.parent.id)&&this.targets.add(n.id,n.target)}),e.onRemove(([n])=>{this.targets.remove(n)&&!this.targets.size&&this.onTerminatedEmitter.fire({killed:!0,code:0})})}async launch(e,r){if(e.type!=="node-terminal"||e.request!=="attach")return{blockSessionTermination:!1};let n=this.parentList.get(e.delegateId);if(n===void 0)return setTimeout(()=>this.onTerminatedEmitter.fire({killed:!0,code:0}),1),{blockSessionTermination:!0};let i=n.target.targetOrigin();if(!(i instanceof ky))throw new Error("Expected delegate session to have a mutable target origin");let o=n.target.logger;if(!(o instanceof dl))throw new Error("Expected delegate session to have a proxy logger");return i.id=r.targetOrigin.id,o.connectTo(this.logger),setTimeout(()=>{this.targets.add(e.delegateId,n.target),n.dap.connect(r.dap)},0),{blockSessionTermination:!0}}terminate(){for(let e of this.targets.value())e.stop();return Promise.resolve()}restart(){for(let e of this.targets.value())e.restart();return Promise.resolve()}targetList(){return[...this.targets.value()]}dispose(){this.terminate()}};var B2=M(ue());var tce=0,Ga=class{constructor(){this.delegateSessions=new xi;this.refsByTarget=new WeakMap}createLauncher(e){return new Oy(this.delegateSessions,e)}addDelegate(e,r,n){let i={id:tce++,target:e,dap:r,parent:n&&this.refsByTarget.get(n)};return this.refsByTarget.set(e,i),this.delegateSessions.add(i.id,i),i.id}removeDelegate(e){let r=this.refsByTarget.get(e);r&&this.delegateSessions.remove(r.id)}};Ga=V([(0,B2.injectable)()],Ga);var iW=M(ue());var Ue=class t{constructor(e,r,n){this.major=e;this.minor=r;this.patch=n}static parse(e){let r=e.split(".").map(Number);if(r.length!==3||r.some(isNaN))throw new SyntaxError(`Input string '${e}' is not a semver`);return new t(r[0],r[1],r[2])}static min(e,r){return e.lt(r)?e:r}compare(e){return this.major-e.major||this.minor-e.minor||this.patch-e.patch}gt(e){return this.compare(e)>0}gte(e){return this.compare(e)>=0}lt(e){return this.compare(e)<0}lte(e){return this.compare(e)<=0}toString(){return`${this.major}.${this.minor}.${this.patch}`}};var eW=M(ue());var Q2=M(q2()),Bi=M(v("fs")),Ka=M(ue()),Z2=M(v("net")),N0=M(v("os")),B0=M(v("path"));var Ny=class{constructor(e,r){this.sessionId=e;this.sink=r;this.onMessageEmitter=new K;this.onEndEmitter=new K;this.disposables=new je;this.onMessage=this.onMessageEmitter.event;this.onEnd=this.onEndEmitter.event;this.disposables.push(r.NodeWorker.on("detachedFromWorker",n=>{n.sessionId===e&&(this.onEndEmitter.fire(),this.dispose())}),r.NodeWorker.on("receivedMessageFromWorker",n=>{n.sessionId===e&&this.onMessageEmitter.fire([n.message,new ln])}))}send(e){this.sink.NodeWorker.sendMessageToWorker({message:e,sessionId:this.sessionId})}dispose(){this.disposables.isDisposed||(this.disposables.dispose(),this.onEndEmitter.fire())}};var V2=":::";var k0=v("path"),ETe=(0,k0.join)(__dirname,"watchdog.js"),G2=(0,k0.join)(__dirname,"bootloader.js");var od=M(lt()),wn=M(ue()),Oi=v("path");var rd=M(ue()),X2=v("path");var Xa=Symbol("IPackageJsonProvider");var hl=class{constructor(e,r){this.fs=e;this.config=r;this.getPath=ye(async()=>{if(this.config.type!=="pwa-node"||this.config.request!=="launch")return;let e=await kh(this.fs,this.config.cwd,"package.json");return e?(0,X2.join)(e,"package.json"):void 0});this.getContents=ye(async()=>{let e=await this.getPath();if(e)try{let r=await this.fs.readFile(e);return JSON.parse(r.toString())}catch{return}})}};hl=V([(0,rd.injectable)(),I(0,(0,rd.inject)(Er)),I(1,(0,rd.inject)(Ee))],hl);var Ts=Symbol("INodeBinaryProvider");function K2(t,e){return t.has(1)?e.addNodeOption("--inspect-publish-uid=http"):e}var yce=new Set(["npm","yarn","pnpm","tnpm","cnpm"]),z2=t=>yce.has((0,Oi.basename)(t,(0,Oi.extname)(t))),J2=(t,e)=>{if(!(!t||!z2(t)))return e.find(r=>!r.startsWith("-")&&r!=="run"&&r!=="run-script")},O0=new Ue(12,0,0),bce=new Ue(8,0,0),vce=[{inclusiveMin:new Ue(16,0,0),inclusiveMax:new Ue(16,3,99),message:od.t("Some breakpoints might not work in your version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes. Details: https://aka.ms/AAcsvqm")},{inclusiveMin:new Ue(7,0,0),inclusiveMax:new Ue(8,99,99),message:od.t("You're running an outdated version of Node.js. We recommend upgrading for the latest bug, performance, and security fixes.")}],zr=class{constructor(e,r){this.path=e;this.version=r;this.capabilities=new Set;r===void 0&&(r=O0),r.gte(new Ue(12,0,0))&&this.capabilities.add(0),r.gte(new Ue(12,6,0))&&this.capabilities.add(1)}get isPreciselyKnown(){return this.version!==void 0}get warning(){if(this.version){for(let e of vce)if(e.inclusiveMax.gte(this.version)&&e.inclusiveMin.lte(this.version))return e}}has(e,r){return!this.isPreciselyKnown&&r!==void 0?r:this.capabilities.has(e)}},id=class extends Q{constructor(r,n){super(hD(r.toString(),n));this.version=r;this.location=n}},_ce=["node","node64","electron"],wce=new Map([[11,new Ue(12,0,0)],[10,new Ue(12,0,0)],[9,new Ue(12,0,0)],[8,new Ue(12,0,0)],[7,new Ue(12,0,0)],[6,new Ue(12,0,0)],[5,new Ue(10,0,0)],[4,new Ue(10,0,0)],[3,new Ue(10,0,0)],[2,new Ue(8,0,0)],[1,new Ue(8,0,0)]]),nd=class{constructor(e,r,n){this.logger=e;this.fs=r;this.packageJson=n;this.knownGoodMappings=new Map}async resolveAndValidate(e,r="node",n,i){try{return await this.resolveAndValidateInner(e,r,n,i)}catch(o){if(!(o instanceof id))throw o;if(await this.shouldTryDebuggingAnyway(o))return new zr(o.location,o.version instanceof Ue?o.version:void 0);throw o}}shouldTryDebuggingAnyway(e){return Promise.resolve(!1)}async resolveAndValidateInner(e,r,n,i){let o=await this.resolveBinaryLocation(r,e);if(this.logger.info("runtime.launch","Using binary at",{location:o,executable:r}),!o)throw new Q(e_(r,od.t("path does not exist")));if(n)return new zr(o,new Ue(n,0,0));let s=jC(o);if(!_ce.includes(s)){if(z2(o)){let g=await this.packageJson.getPath();g&&(e=e.addToPath((0,Oi.resolve)((0,Oi.dirname)(g),"node_modules/.bin"),"prepend"))}try{let g=await this.resolveAndValidateInner(e,"node",void 0,i);return new zr(o,g.version)}catch(g){if(wD(g,9230))throw g;return new zr(o,void 0)}}if(o.startsWith("/snap/"))return new zr(o,void 0);let a=this.knownGoodMappings.get(o);if(a)return a;let u=await this.getVersionText(o,i);if(!u)return new zr(o,void 0);this.logger.info("runtime.launch","Discovered version",{version:u});let c=/v([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(u);if(!c)throw new id(u,o);let[,l,p,f]=c.map(Number),m=new Ue(l,p,f);if(s==="electron"){let g=await this.resolveAndValidate(e);m=Ue.min(wce.get(m.major)??O0,g.version??O0)}if(m.lt(bce))throw new id(m,o);let h=new zr(o,m);return this.knownGoodMappings.set(o,h),h}async resolveBinaryLocation(e,r){return e&&(0,Oi.isAbsolute)(e)?await Ux(this.fs,e,r):await dh(this.fs,e,r.value)}async getVersionText(e,r){try{let{stdout:n}=await yg(e,["--version"],{env:Ut.processEnv().defined(),cwd:r});return n.trim()}catch(n){throw r&&!(await Lo(this.fs,r))?.isDirectory()?new Q(dD(r)):new Q(e_(e,n.message))}}};nd=V([(0,wn.injectable)(),I(0,(0,wn.inject)(ne)),I(1,(0,wn.inject)(Ve)),I(2,(0,wn.inject)(Xa))],nd);var ml=class extends nd{constructor(r,n,i,o){super(r,n,i);this.vscode=o}async shouldTryDebuggingAnyway({message:r}){if(!this.vscode)return!1;let n=od.t("Yes");return await this.vscode.window.showErrorMessage(r,n)===n}};ml=V([I(0,(0,wn.inject)(ne)),I(1,(0,wn.inject)(Ve)),I(2,(0,wn.inject)(Xa)),I(3,(0,wn.optional)()),I(3,(0,wn.inject)(Wo))],ml);var Y2=v("path");var By=class{constructor(e,r,n,i,o,s,a={},u){this.launchConfig=e;this.targetOriginValue=r;this.connection=n;this.targetInfo=o;this.logger=s;this.lifecycle=a;this._parent=u;this._serialize=Promise.resolve(void 0);this._attached=!1;this._onNameChangedEmitter=new K;this._onDisconnectEmitter=new K;this.entryBreakpoint=void 0;this.onDisconnect=this._onDisconnectEmitter.event;this.onNameChanged=this._onNameChangedEmitter.event;this.connection=n,this._cdp=i,i.pause(),this._waitingForDebugger=o.type==="waitingForDebugger",o.title?this._targetName=`${(0,Y2.basename)(o.title)} [${o.processId}]`:this._targetName=`[${o.processId}]`,i.Target.on("targetDestroyed",()=>this.connection.close()),n.onDisconnected(()=>this._disconnected())}id(){return this.targetInfo.targetId}processId(){return this.targetInfo.processId}name(){return this._targetName}fileName(){return this.targetInfo.title}type(){return"node"}targetOrigin(){return this.targetOriginValue}parent(){return this._parent}async initialize(){this.lifecycle.initialized&&(this.entryBreakpoint=await this.lifecycle.initialized(this)||void 0)}waitingForDebugger(){return this._waitingForDebugger}scriptUrlToUrl(e){return e[0]==="/"||process.platform==="win32"&&e[1]===":"&&e[2]==="\\"?Ce(e):e}supportsCustomBreakpoints(){return!1}supportsXHRBreakpoints(){return!1}executionContextName(){return this._targetName}hasParent(){return!!this._parent}async runIfWaitingForDebugger(){await this._cdp.Runtime.runIfWaitingForDebugger({})}async _disconnected(){this._onDisconnectEmitter.fire()}canAttach(){return!this._attached}async attach(){return this._serialize=this._serialize.then(async()=>{if(!this._attached)return this._doAttach()}),this._serialize}async _doAttach(){this._waitingForDebugger=!1,this._attached=!0;let e=await this._cdp.Target.attachToTarget({targetId:this.targetInfo.targetId});if(!e){this.logger.info("runtime.launch","Failed to attach to target",{targetId:this.targetInfo.targetId});return}this._cdp.NodeWorker.enable({waitForDebuggerOnStart:!0}),e&&"__dynamicAttach"in e&&(await this._cdp.Runtime.enable({}),await this._cdp.Debugger.enable({}));let r;return this._cdp.Runtime.on("executionContextCreated",n=>{n.context.auxData&&n.context.auxData.isDefault&&(r=n.context.id)}),this._cdp.Runtime.on("executionContextDestroyed",n=>{n.executionContextId===r&&this.connection.close()}),this._cdp}async afterBind(){this._cdp.resume()}canDetach(){return this._attached}async detach(){this._serialize=this._serialize.then(async()=>{this._waitingForDebugger&&await(await this._doAttach())?.Runtime.runIfWaitingForDebugger({}),this._attached&&this._doDetach()})}async _doDetach(){await Promise.all([this._cdp.Target.detachFromTarget({targetId:this.targetInfo.targetId}),this._cdp.NodeWorker.disable({})]),this.connection.close(),this._attached=!1}canRestart(){return!1}restart(){}canStop(){return!0}stop(){try{this.lifecycle.close&&this.lifecycle.close(this)}finally{this.connection.close()}}};var Ni=class{constructor(e,r,n,i){this.pathProvider=e;this.logger=r;this.portLeaseTracker=n;this.pathResolverFactory=i;this.serverConnections=new Set;this.targets=new xi;this.onTerminatedEmitter=new K;this.onTerminated=this.onTerminatedEmitter.event;this.onTargetListChanged=this.targets.onChanged;this.bootloaderFile=ye(this.getBootloaderFile.bind(this))}async launch(e,r){let n=this.resolveParams(e);if(!n)return{blockSessionTermination:!1};this._stopServer();let{server:i,pipe:o}=await this._startServer(r.telemetryReporter),s=this.logger.forTarget(),a=this.run={server:i,serverAddress:o,params:n,context:r,logger:s,pathResolver:this.pathResolverFactory.create(n,this.logger)};return await this.launchProgram(a),{blockSessionTermination:!0}}async terminate(){this.program?await this.program.stop():this.onProgramTerminated({code:0,killed:!0})}async restart(e){if(!this.run)return;let r=this.program;r&&(this.program=void 0,await r.stop(),await Promise.race([Le(2e3).then(()=>!1),Promise.all([...this.serverConnections].map(i=>new Promise(o=>i.onDisconnected(o))))])||(this.logger.warn("runtime.launch","Timeout waiting for server connections to close"),this.closeAllConnections())),await this.launchProgram({...this.run,params:e?this.resolveParams(e)??this.run.params:this.run.params,context:{...this.run.context,cancellationToken:this.run.params.timeout>0?ir.withTimeout(this.run.params.timeout).token:br}})}targetList(){return[...this.targets.value()]}dispose(){this._stopServer()}onProgramTerminated(e){this.onTerminatedEmitter.fire(e),this._stopServer(),this.program=void 0}resolveNodePath(e,r="node"){return this.pathProvider.resolveAndValidate(Ut.merge(Ut.processEnv(),this.getConfiguredEnvironment(e)),r,e.nodeVersionHint,e.cwd)}getConfiguredEnvironment(e){let r=Ut.empty;if(e.envFile)try{r=r.merge(Ice(e.envFile))}catch(n){throw new Q(fD(n.message))}return r.merge(e.env)}async resolveEnvironment({params:e,serverAddress:r},n,i){let o=this.getConfiguredEnvironment(e),s=await this.bootloaderFile(e.cwd,n),a={inspectorIpc:r,deferredMode:!1,waitForDebugger:"",execPath:await dh(Bi.promises,"node",process.env),onlyEntrypoint:!e.autoAttachChildProcesses,verbose:e.trace===!0||typeof e.trace=="object"&&e.trace.stdio?!0:void 0,autoAttachMode:"always",mandatePortTracking:this.portLeaseTracker.isMandated?!0:void 0,...i},u={NODE_OPTIONS:` --require ${s.interpolatedPath} `,VSCODE_INSPECTOR_OPTIONS:V2+JSON.stringify(a),ELECTRON_RUN_AS_NODE:null},c=o.lookup("NODE_OPTIONS");c&&(u.NODE_OPTIONS+=` ${c}`);let l=Ut.processEnv().lookup("NODE_OPTIONS");return l&&(u.NODE_OPTIONS+=` ${l}`),o.merge({...u})}createLifecycle(e,r,n){return{}}async _startServer(e){let r=Fx(),n=await new Promise((i,o)=>{let s=Z2.createServer(a=>this._startSession(a,e)).on("error",o).listen(r,()=>i(s))});return{pipe:r,server:n}}_stopServer(){this.run?.server.close(),this.run=void 0,this.bootloaderFile.value?.then(e=>e.dispose()),this.bootloaderFile.forget(),this.closeAllConnections()}closeAllConnections(){this.serverConnections.forEach(e=>e.close()),this.serverConnections.clear()}async _startSession(e,r){if(!this.run)return;let{connection:n,cdp:i,targetInfo:o}=await this.acquireTarget(e,r,this.run.logger);if(!this.run){e.destroy();return}o.processId===void 0&&(o.processId=Number(o.targetId));let s=new By(this.run.params,this.run.context.targetOrigin,n,i,o,this.run.logger,this.createLifecycle(i,this.run,o),o.openerId?this.targets.get(o.openerId):void 0);this.listenToWorkerDomain(i,r,s),this.targets.add(o.targetId,s),s.onDisconnect(()=>this.targets.remove(o.targetId))}async listenToWorkerDomain(e,r,n){e.NodeWorker.on("attachedToWorker",i=>{let o=new Ny(i.sessionId,e),s=new dc(n.launchConfig,{attached:!0,canAccessOpener:!1,type:"node-worker",targetId:`${n.id()}-${i.sessionId}`,title:i.workerInfo.title,url:i.workerInfo.url,openerId:n.id()},n,n.targetOrigin(),new _t(o,n.logger,r).rootSession(),n.logger),a=new je;a.push(o),a.push(n.onDisconnect(()=>a.dispose())),a.push(o.onEnd(()=>a.dispose())),a.callback(()=>this.targets.remove(s.id())),this.targets.add(s.id(),s)})}async acquireTarget(e,r,n){let i=new _t(new vn(n,e),n,r);this.serverConnections.add(i),i.onDisconnected(()=>this.serverConnections.delete(i));let o=i.rootSession(),{targetInfo:s}=await new Promise(c=>o.Target.on("targetCreated",c)),a=s,u=this.portLeaseTracker.register(a.processInspectorPort);return i.onDisconnected(()=>u.dispose()),{targetInfo:a,cdp:o,connection:i,logger:n}}async getBootloaderFile(e,r){let n=et(G2);if(!n.includes(" "))return{interpolatedPath:n,dispose:()=>{}};if(r.has(0))return{interpolatedPath:`"${n}"`,dispose:()=>{}};let i=`require(${JSON.stringify(n)})`;if(!N0.tmpdir().includes(" ")||!e){let a=B0.join(N0.tmpdir(),"vscode-js-debug-bootloader.js");return await Bi.promises.writeFile(a,i),{interpolatedPath:a,dispose:()=>{}}}let o=".vscode-js-debug-bootloader.js",s=B0.join(e,o);return await Bi.promises.writeFile(s,i),{interpolatedPath:`./${o}`,dispose:()=>Bi.unlinkSync(s)}}async gatherTelemetryFromCdp(e,r){for(let n=0;n<8;n++){let i=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:"typeof process === 'undefined' || process.pid === undefined ? 'process not defined' : ({ processId: process.pid, nodeVersion: process.version, architecture: process.arch })"+tt()});if(!this.program)return;if(!i||!i.result.value){this.logger.error("runtime.target","Undefined result getting telemetry");return}if(typeof i.result.value!="object"){this.logger.info("runtime.target","Process not yet defined, will retry"),await Le(50*2**n);continue}let o=i.result.value;return r.context.telemetryReporter.report("nodeRuntime",{version:o.nodeVersion,arch:o.architecture}),this.program.gotTelemetery(o),o}}};Ni=V([(0,Ka.injectable)(),I(0,(0,Ka.inject)(Ts)),I(1,(0,Ka.inject)(ne)),I(2,(0,Ka.inject)(cn)),I(3,(0,Ka.inject)(jn))],Ni);function Ice(t){if(!Bi.existsSync(t))return{};let e=Ace(Bi.readFileSync(t,"utf8"));return Q2.parse(Buffer.from(e))}function Ace(t){return t&&t[0]==="\uFEFF"&&(t=t.substr(1)),t}var Sce=["NODE_OPTIONS","VSCODE_INSPECTOR_OPTIONS"],Ms=class extends Ni{async appendEnvironmentVariables(e,r){let n="typeof process==='undefined'||process.pid===undefined?'process not defined':(()=>{"+Object.entries(r.defined()).map(([i,o])=>{let s=JSON.stringify(i);return Sce.includes(i)?`process.env[${s}]=(process.env[${s}]||'')+${JSON.stringify(o)}`:`process.env[${s}]=${JSON.stringify(o)}`}).join(";")+"})()"+tt();for(let i=0;i<5;i++){let o=await e.Runtime.evaluate({contextId:1,returnByValue:!0,expression:n});if(!o){this.logger.error("runtime.target","Undefined result setting child environment vars");return}if(!o.exceptionDetails&&o.result.value!=="process not defined")return;this.logger.error("runtime.target","Error setting child environment vars",o),await Le(50)}}};Ms=V([(0,eW.injectable)()],Ms);var Fy=class{constructor(e,r){this.a=e;this.b=r;this.stopped=Promise.race([this.a.stopped.then(async e=>await this.b.stop()&&e),this.b.stopped.then(async e=>await this.a.stop()&&e)])}gotTelemetery(e){this.a.gotTelemetery(e),this.b.gotTelemetery(e)}async stop(){return(await Promise.all([this.a.stop(),this.b.stop()]))[0]}},Uy=class{constructor(e,r,n){this.child=e;this.logger=r;this.killBehavior=n;this.killed=!1;this.stopped=new Promise((i,o)=>{e.once("exit",s=>i({killed:this.killed,code:s||0})),e.once("error",s=>o({killed:this.killed,code:1,error:s}))})}gotTelemetery(){}stop(){return this.killed=!0,Bn(this.child.pid,this.logger,this.killBehavior),this.stopped}},za=class{constructor(){this.stopped=new Promise(e=>this.stopDefer=e)}gotTelemetery(e){this.telemetry=e}stop(){return this.stopDefer({code:0,killed:!0}),this.stopped}},Rs=class extends za{constructor(r){super();this.wd=r;r.onEnd(n=>{this.stopDefer(n),this.wd.dispose()})}stop(){return this.wd.dispose(),this.stopped}},Hl=class t{constructor(e,r,n){this.terminalResult=e;this.logger=r;this.killBehavior=n;this.didStop=!1;this.stopped=new Promise(e=>this.onStopped=r=>{this.didStop=!0,e({code:0,killed:r})});e.processId&&this.startPollLoop(e.processId)}static{this.terminationPollInterval=1e3}static{this.killConfirmInterval=200}gotTelemetery({processId:e}){if(this.didStop){Bn(e,this.logger,this.killBehavior);return}this.loop||this.startPollLoop(e)}stop(){return this.didStop?this.stopped:(this.didStop=!0,this.loop?(Bn(this.loop.processId,this.logger,this.killBehavior),this.startPollLoop(this.loop.processId,t.killConfirmInterval)):this.terminalResult.shellProcessId?(Bn(this.terminalResult.shellProcessId,this.logger,this.killBehavior),this.startPollLoop(this.terminalResult.shellProcessId,t.killConfirmInterval)):this.onStopped(!0),this.stopped)}startPollLoop(e,r=t.terminationPollInterval){this.loop&&clearInterval(this.loop.timer);let n={processId:e,timer:setInterval(()=>{Ece(e)||(clearInterval(n.timer),this.onStopped(!0))},r)};this.loop=n}};function Ece(t){try{return process.kill(t,0),!0}catch{return!1}}var nW=M(v("net"));var tW=v("crypto"),rW=()=>(0,tW.randomBytes)(12).toString("hex");var Fi=class t{constructor(e,r){this.info=e;this.server=r;this.onEndEmitter=new K;this.cts=new ir;this.gracefulExit=!1;this.targetAlive=!1;this.targetInfo={targetId:this.info.ownId??rW(),processId:Number(this.info.pid)||0,type:this.info.waitForDebugger?"waitingForDebugger":"",title:this.info.scriptName,url:"file://"+this.info.scriptName,openerId:this.info.openerId,attached:!0,canAccessOpener:!1,processInspectorPort:Number(new URL(this.info.inspectorURL).port)};this.onEnd=this.onEndEmitter.event;this.listenToServer()}get isTargetAlive(){return this.targetAlive}static async attach(e){let r=await new Promise((i,o)=>{let s=nW.createConnection(e.ipcAddress,()=>i(s));s.on("error",o)}),n=new vn(gn.null,r);return new t(e,n)}listenToServer(){let{server:e,targetInfo:r}=this;e.send(JSON.stringify({method:"Target.targetCreated",params:{targetInfo:r}})),e.onMessage(async([n])=>{if(this.target&&!n.includes("Target.attachToTarget")&&!n.includes("Target.detachFromTarget")){this.target.send(n);return}let i=await this.execute(n);i&&e.send(JSON.stringify(i))}),e.onEnd(()=>{this.disposeTarget(),this.onEndEmitter.fire({killed:this.gracefulExit,code:this.gracefulExit?0:1})})}dispose(){this.gracefulExit=!0,this.cts.dispose(!0),this.disposeTarget(),this.server.dispose()}async execute(e){let r=JSON.parse(e);switch(r.method){case"Target.attachToTarget":return this.target&&this.disposeTarget(),this.target=await this.createTarget(),{id:r.id,result:{sessionId:this.targetInfo.targetId,__dynamicAttach:this.info.dynamicAttach?!0:void 0}};case"Target.detachFromTarget":return this.gracefulExit=!0,this.disposeTarget(),{id:r.id,result:{}};default:this.target?.send(r);return}}async createTarget(){this.gracefulExit=!1;let e=await Xr.create(this.info.inspectorURL,this.cts.token,this.info.remoteHostHeader);return e.onMessage(([r])=>this.server.send(r)),e.onEnd(()=>{e&&this.server.send(JSON.stringify({method:"Target.targetDestroyed",params:{targetId:this.targetInfo.targetId,sessionId:this.targetInfo.targetId}})),this.targetAlive=!1,this.server.dispose()}),e}disposeTarget(){this.target&&(this.target.dispose(),this.target=void 0)}};var F0=class extends Rs{constructor(r,n){super(r);this.logger=n;this.stopped.then(()=>{this.telemetry&&Bn(this.telemetry.processId,this.logger,"polite")})}},gl=class extends Ms{constructor(){super(...arguments);this.restarting=!1}async restart(){this.restarting=!0,this.onProgramTerminated({code:0,killed:!0,restart:!0}),this.program?.stop()}resolveParams(r){return r.type==="pwa-extensionHost"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=await rl(`http://localhost:${r.params.port}`,r.context.cancellationToken,this.logger),i=await Fi.attach({ipcAddress:r.serverAddress,scriptName:"Extension Host",inspectorURL:n,waitForDebugger:!0,dynamicAttach:!0}),o=this.program=new F0(i,this.logger);this.program.stopped.then(s=>{o===this.program&&this.onProgramTerminated(s)})}createLifecycle(r,n,i){return i.openerId?{}:{initialized:()=>this.onFirstInitialize(r,n,i)}}async onFirstInitialize(r,n,i){this.setEnvironmentVariables(r,n,i.targetId);let o=await this.gatherTelemetryFromCdp(r,n),s=this.program;if(o&&s){let a=new Hl({processId:o.processId},this.logger,"forceful");a.stopped.then(()=>s.stop()),s.stopped.then(()=>{this.restarting||a.stop()})}}async setEnvironmentVariables(r,n,i){if(!n.params.autoAttachChildProcesses)return;let o=await this.resolveEnvironment(n,new zr("node",Ue.parse(process.versions.node)),{openerId:i});return this.appendEnvironmentVariables(r,o.update("ELECTRON_RUN_AS_NODE",null))}};gl=V([(0,iW.injectable)()],gl);var sd=v("fs"),oW=M(ue());var yl=class extends Ni{resolveParams(e){return e.type==="pwa-extensionHost"&&e.request==="launch"?e:void 0}async launchProgram(e){let r=e.params.port||await Tm(),n=await e.context.dap.launchVSCodeRequest({args:Pce(e.params,r),env:this.getConfiguredEnvironment(e.params).defined(),debugRenderer:e.params.debugWebviews||e.params.debugWebWorkerHost});n.rendererDebugPort&&Wn.debugIdToRendererDebugPort.set(e.params.__sessionId,n.rendererDebugPort),this.program=new za,this.program.stop()}};yl=V([(0,oW.injectable)()],yl);var Pce=(t,e)=>{let r=t.args.map(n=>{if(n.startsWith("-")){let i=n.split("=",2);return i.length===2&&((0,sd.existsSync)(i[1])||(0,sd.existsSync)(i[1]+".js"))?{prefix:i[0]+"=",path:i[1]}:{prefix:n}}else{try{let i=(0,sd.lstatSync)(n);if(i.isDirectory())return{prefix:"--folder-uri=",path:n};if(i.isFile())return{prefix:"--file-uri=",path:n}}catch{}return{path:n}}});return t.noDebug||r.unshift({prefix:`--inspect-brk-extensions=${e}`}),r.unshift({prefix:`--debugId=${t.__sessionId}`}),r};var bW=M(lt()),Ja=M(ue());var sW=v("crypto"),ad=v("fs"),aW=v("os"),uW=M(v("path")),jy=class t{constructor(){this.disposed=!1;this.path=uW.join((0,aW.tmpdir)(),`node-debug-callback-${(0,sW.randomBytes)(8).toString("hex")}`);this.file=ad.promises.open(this.path,"w")}static{this.updateInterval=1e3}static{this.recencyDeadline=2e3}static isValid(e){try{let r=(0,ad.readFileSync)(e);return r.length?r.readDoubleBE()>Date.now()-t.recencyDeadline:!1}catch{return!1}}async startTouchLoop(){await this.touch(),this.disposed||(this.updateInterval=setInterval(()=>this.touch(),t.updateInterval))}async touch(e=()=>Date.now()){let r=await this.file,n=Buffer.alloc(8);n.writeDoubleBE(e()),await r.write(n,0,n.length,0)}async dispose(){if(!this.disposed){this.disposed=!0,this.updateInterval&&clearInterval(this.updateInterval);try{await(await this.file).close(),await ad.promises.unlink(this.path)}catch{}}}};var hW=v("fs");var pW=v("path");var cW=v("child_process"),lW=M(vy()),bl=class{constructor(e=cW.spawn){this.spawn=e}lookup(e,r){return new Promise((n,i)=>{let o=this.createProcess(),s=this.createParser();o.on("error",i),o.stderr.on("error",a=>i(`Error finding processes: ${a.toString()}`)),o.stdout.pipe((0,lW.default)(/\r?\n/)).on("data",a=>{let u=s(a);u&&(r=e(u,r))}),o.on("close",(a,u)=>{a===0?n(r):u?i(new Error(`process terminated with signal: ${u}`)):a&&i(new Error(`process terminated with exit code: ${a}`))})})}};var vl=class extends bl{constructor(r){super();this.fsUtils=r}async getWorkingDirectory(r){try{let{stdout:n}=await yg("lsof",["-a","-dcwd","-Fn",`-p${r}`]),i=n.trim().split(`
`).pop().slice(1);return i&&(0,pW.isAbsolute)(i)&&await this.fsUtils.exists(i)?i:void 0}catch(n){if(n instanceof La)return;throw n}}createProcess(){return this.spawn("ps",["-xo",`pid=PID,ppid=PPID,comm=${"a".repeat(256)},command=COMMAND`])}createParser(){let r;return n=>{if(!r){r=n.indexOf("COMMAND");return}let i=/^\W*([0-9]+)\W*([0-9]+)\W*/.exec(n);if(i)return{pid:Number(i[1]),ppid:Number(i[2]),command:n.slice(i[0].length,r).trim(),args:n.slice(r).trim()}}}};var Wy=class extends vl{createProcess(){return this.spawn("ps",["-axo","pid=PID,ppid=PPID,comm:30,command=COMMAND"])}createParser(){let e=super.createParser();return r=>{let n=e(r);if(!n)return;let i=n.args.indexOf(n.command);if(i===-1)return n;for(i=i+n.command.length;i<n.args.length&&n.args[i]!==" ";)i++;return n.command=n.args.substr(0,i),n.args=n.args.substr(i+1),n}}};var fW=v("path");var qy=class extends bl{async getWorkingDirectory(){}createProcess(){let e=(0,fW.join)(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");return this.spawn(e,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"])}createParser(){let e=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/;return r=>{let n=e.exec(r.trim());if(!n||n.length!==5)return;let i=Number(n[4]),o=Number(n[3]),s=Number(n[2]),a=n[1].trim();if(!isNaN(i)&&!isNaN(o)&&a){let u=a;if(a[0]==='"'){let c=a.indexOf('"',1);c>0&&(u=a.substr(1,c-1),a=a.substr(c+2))}else{let c=a.indexOf(" ");c>0?(u=a.substr(0,c),a=a.substr(c+1)):a=""}return{pid:i,ppid:o,command:u,args:a,date:s}}}}};var dW=new Cn(hW.promises),mW=process.platform==="win32"?new qy:process.platform==="darwin"?new vl(dW):new Wy(dW);function HW(t){let e=/--inspect(-brk)?(=((\[[0-9a-fA-F:]*\]|[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+|[a-zA-Z0-9\.]*):)?(\d+))?/,r=/--inspect-port=(\d+)/,n,i,o=e.exec(t);return o&&o.length>=1&&(o.length>=5&&o[4]&&(n=o[4]),o.length>=6&&o[5]&&(i=parseInt(o[5]))),o=r.exec(t),o&&o.length===2&&(i=parseInt(o[1])),{address:n,port:i}}async function gW(t,e,r,n=br){let i=await Lce(t.pid,r);if(!i)return[];let o=[],s=i.children.slice();for(;s.length;){let a=s.pop();s=s.concat(a.children);let{port:u}=HW(a.args);u&&o.push(P0(`http://${t.hostname}:${u}`,n,r,!0).then(c=>Fi.attach({ipcAddress:t.ipcAddress,scriptName:"Child Process",inspectorURL:c,waitForDebugger:!0,dynamicAttach:!0,pid:String(a.pid),openerId:e})).catch(c=>r.info("internal","Could not spawn WD for child process",{err:c,port:u,child:a})))}return(await Promise.all(o)).filter(a=>!!a)}async function Lce(t,e){let r=new Map;r.set(0,{children:[],pid:0,ppid:0,command:"",args:""});try{await mW.lookup(({pid:i,ppid:o,command:s,args:a})=>(i!==o&&r.set(i,{pid:i,ppid:o,command:s,args:a,children:[]}),r),null)}catch(i){e.warn("internal","Error getting child process tree",i);return}let n=r.values();for(let i of n){let o=r.get(i.ppid);o&&o!==i&&o.children.push(i)}return!isNaN(t)&&t>0?r.get(t):r.get(0)}var yW=M(ue());var Ui=class{create(e){return e===!1?new U0:e===!0?new Vy({maxAttempts:1/0,delay:1e3}):new Vy({maxAttempts:e.maxAttempts??1/0,delay:e.delay??1e3})}};Ui=V([(0,yW.injectable)()],Ui);var Vy=class t{constructor(e,r=0){this.options=e;this.attempt=r}get delay(){return this.options.delay}next(){return this.attempt===this.options.maxAttempts?void 0:new t(this.options,this.attempt+1)}reset(){return this.attempt?new t(this.options):this}},U0=class{constructor(){this.delay=-1}next(){}reset(){return this}};var _l=class extends Ms{constructor(r,n,i,o,s=new Ui){super(r,n,o,i);this.restarters=s}resolveParams(r){return r.type==="pwa-node"&&r.request==="attach"?r:void 0}async launchProgram(r){let n=async(o,s)=>{let a=this.program,u;try{r.params.websocketAddress?u=r.params.websocketAddress:u=await rl(`http://${r.params.address}:${r.params.port}`,s&&r.params.timeout>0?ir.withTimeout(r.params.timeout).token:r.context.cancellationToken,this.logger)}catch(p){if(a&&a===s)return i(o,a,{killed:!1,code:1});throw p}let c=await Fi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:u,remoteHostHeader:r.params.remoteHostHeader,waitForDebugger:!0,dynamicAttach:!0}),l=this.program=new Rs(c);l.stopped.then(p=>i(o.reset(),l,p))},i=async(o,s,a)=>{if(this.program!==s)return;if(a.killed){this.onProgramTerminated(a);return}let u=o.next();if(!u){this.onProgramTerminated(a);return}r.context.dap.output({output:bW.t(`Lost connection to debugee, reconnecting in {0}ms\r
`,u.delay)});let c=new za;this.program=c;let l=await Promise.race([Le(u.delay),c.stopped]);this.program===c&&(l?this.onProgramTerminated(a):n(u,c))};return n(this.restarters.create(r.params.restart))}async terminate(r){await super.terminate(),r&&this.telemetry&&Bn(this.telemetry.processId,this.logger)}createLifecycle(r,n,i){if(i.openerId)return{};let o;return{initialized:async()=>{o=this.onFirstInitialize(r,n,i),await o},close:()=>{this.targetList().length&&this.program?.stop(),o?.then(s=>s.dispose())}}}async onFirstInitialize(r,n,i){let o=new jy;await o.startTouchLoop();let s=new zr("node",void 0);try{s=await this.resolveNodePath(n.params)}catch{}let[a]=await Promise.all([this.gatherTelemetryFromCdp(r,n),this.setEnvironmentVariables(r,n,o.path,i.targetId,s)]);return this.telemetry=a,a&&n.params.attachExistingChildren&&gW({pid:a.processId,nodePath:s.path,hostname:n.params.address,ipcAddress:n.serverAddress},i.targetId,this.logger).catch(u=>this.logger.warn("internal","Error watching child processes",{err:u})),o}async setEnvironmentVariables(r,n,i,o,s){if(!n.params.autoAttachChildProcesses)return;if(!await Au(n.params.address)){this.logger.warn("runtime.target","Cannot attach to children of remote process");return}let a=await this.resolveEnvironment(n,s,{requireLease:i,openerId:o});return this.appendEnvironmentVariables(r,a)}};_l=V([(0,Ja.injectable)(),I(0,(0,Ja.inject)(Ts)),I(1,(0,Ja.inject)(ne)),I(2,(0,Ja.inject)(jn)),I(3,(0,Ja.inject)(cn))],_l);var Jr=M(ue()),Al=v("path");function vW(t){if(!t.runtimeArgs||t.attachSimplePort)return;let e=[];for(let r of t.runtimeArgs)/^--inspect-brk(=|$)/.test(r)?t.stopOnEntry=t.stopOnEntry||!0:e.push(r);t.runtimeArgs=e}var _W=v("os"),wW=M(v("path")),IW=v("crypto"),wl=v("fs"),Gy=class t{constructor(){this.path=wW.join((0,_W.tmpdir)(),`node-debug-callback-${(0,IW.randomBytes)(8).toString("hex")}`);this.disposed=!1}static{this.pollInterval=200}read(e=t.pollInterval){return this.readPromise?this.readPromise:(this.readPromise=new Promise((r,n)=>{let i=setInterval(()=>{if(this.disposed){clearInterval(i),r(void 0);return}if((0,wl.existsSync)(this.path)){try{r(JSON.parse((0,wl.readFileSync)(this.path,"utf-8")))}catch(o){n(o)}finally{this.dispose()}clearInterval(i)}},e)}),this.readPromise)}dispose(){if(!this.disposed){this.disposed=!0;try{(0,wl.unlinkSync)(this.path)}catch{}}}};var Ya=M(v("path"));var ud=Symbol("IProgramLauncher"),Xy=t=>{let e=t.program;if(e&&Ya.isAbsolute(e)){let r=Ya.relative(t.cwd,e);e=Ya.isAbsolute(r)?r:`.${Ya.sep}${r}`}return e?[...t.runtimeArgs,e,...tp(t.args)]:[...t.runtimeArgs,...tp(t.args)]};var xce=async(t,e)=>{if(typeof e.stopOnEntry=="string")return(0,Al.resolve)(e.cwd,e.stopOnEntry);if(e.program)return(0,Al.resolve)(e.cwd,e.program);for(let r of tp(e.args)){if(r.startsWith("-"))continue;let n=(0,Al.resolve)(e.cwd,r);if(await t.exists(n))return n}},Il=class extends Ni{constructor(r,n,i,o,s,a,u,c,l){super(r,n,l,c);this.bpPredictor=i;this.launchers=o;this.restarters=s;this.fsUtils=a;this.packageJson=u}resolveParams(r){let n;if(r.type==="pwa-node"&&r.request==="launch"?n={...r}:"server"in r&&r.server&&"program"in r.server&&(n={...r.server}),!!n)return vW(n),n}async launchProgram(r){r.params.program&&(r.params.program=await this.tryGetCompiledFile(r.params.program)),this.attachSimplePort=await this.getSimpleAttachPortIfAny(r.params);let n=async i=>{this.program&&this.program.stop();let o=await this.resolveNodePath(r.params,r.params.runtimeExecutable||void 0),s=o.warning;s&&r.context.dap.output({category:"stderr",output:s.message});let a=new Gy,u=await this.resolveEnvironment(r,o,{fileCallback:a.path});this.attachSimplePort?(r.params.attachSimplePort||r.context.dap.output({category:"stderr",output:"Using legacy attach mode for --inspect-brk in npm scripts. We recommend removing --inspect-brk, and using `stopOnEntry` in your launch.json if you need it."}),u=u.merge({NODE_OPTIONS:null})):u=K2(o,u);let c={...r.params,env:u.value},l=this.launchers.find(f=>f.canLaunch(c));if(!l)throw new Error("Cannot find an appropriate launcher for the given set of options");let p=await l.launchProgram(o.path,c,r.context);if(this.attachSimplePort){let f=await Fi.attach({ipcAddress:r.serverAddress,scriptName:"Remote Process",inspectorURL:await rl(`http://127.0.0.1:${this.attachSimplePort}`,r.context.cancellationToken,this.logger),waitForDebugger:!0,dynamicAttach:!0});p=new Fy(p,new Rs(f))}else a.read().then(f=>{f&&p.gotTelemetery(f)});this.program=p,p.stopped.then(async f=>{if(a.dispose(),this.program!==p)return;if(f.killed||f.code===0){this.onProgramTerminated(f);return}let m=i.next();if(!m){this.onProgramTerminated(f);return}await Le(m.delay),this.program===p&&n(m)})};return n(this.restarters.create(r.params.restart))}async getSimpleAttachPortIfAny(r){if(r.attachSimplePort)return r.attachSimplePort;let n=J2(r.runtimeExecutable,r.runtimeArgs);if(!(!n||!(await this.packageJson.getContents())?.scripts?.[n]?.includes("--inspect-brk")))return r.port??9229}createLifecycle(r,n,{targetId:i}){return{initialized:async()=>{if(this.attachSimplePort&&await this.gatherTelemetryFromCdp(r,n),!n.params.stopOnEntry)return;let o=await xce(this.fsUtils,n.params);if(!o){this.logger.warn("runtime","Could not resolve program entrypointfrom args");return}let s="(?:entryBreakpoint){0}",a=Ce(o),u=en(a)+s,c=await r.Debugger.setBreakpointByUrl({urlRegex:u,lineNumber:0,columnNumber:0});return c?.breakpointId?{cdpId:c?.breakpointId,path:a}:void 0},close:()=>{let o=Number(i);if(o>0)try{process.kill(o)}catch{}}}}async tryGetCompiledFile(r){r=pt(r);let n=(0,Al.extname)(r);if(!n||n===".js")return r;let i=await this.bpPredictor.getPredictionForSource(r);if(!i||i.size===0)return r;let o=wu(i.values());return o?(this.logger.info("runtime.launch","Updating entrypoint to compiled file",{from:r,to:o.compiledPath,candidates:i.size}),o.compiledPath):r}};Il=V([(0,Jr.injectable)(),I(0,(0,Jr.inject)(Ts)),I(1,(0,Jr.inject)(ne)),I(2,(0,Jr.inject)(na)),I(3,(0,Jr.multiInject)(ud)),I(4,(0,Jr.inject)(Ui)),I(5,(0,Jr.inject)(Er)),I(6,(0,Jr.inject)(Xa)),I(7,(0,Jr.inject)(jn)),I(8,(0,Jr.inject)(cn))],Il);var El=M(v("fs")),AW=v("fs"),Ky=M(ue()),SW=M(v("os")),At=M(v("path"));var EW=Symbol("INvmResolver");var Sl=class{constructor(e=new Cn(AW.promises),r=process.env,n=process.arch,i=process.platform,o=SW.homedir()){this.fsUtils=e;this.env=r;this.arch=n;this.platform=i;this.homedir=o}async resolveNvmVersionPath(e){let r,n=[],i=this.parseVersionString(e),o=this.env.NVS_HOME;if(!o){let s=this.platform==="win32"?At.join(this.env.LOCALAPPDATA||"","nvs"):At.join(this.env.HOME||"",".nvs");El.existsSync(s)&&(o=s)}if(i.nvsFormat||o){if(r=await this.resolveNvs(o,i),!r&&i.nvsFormat)throw new Q(Zv(e,"nvs"));n.push("nvs")}if(!r)if(this.platform==="win32")this.env.NVM_HOME&&(r=await this.resolveWindowsNvm(e),n.push("nvm-windows"));else{let s=this.env.NVM_DIR||At.join(this.homedir,".nvm");await this.fsUtils.exists(s)&&(r=await this.resolveUnixNvm(e),n.push("nvm"))}if(!r){let s=this.platform==="win32"?this.env.FNM_DIR||At.join(this.env.APPDATA||"","fnm"):this.env.FNM_DIR||At.join(this.homedir,".fnm");await this.fsUtils.exists(s)&&(r=await this.resolveFnm(e,s),n.push("fnm"))}if(!n.length)throw new Q(Qv());if(!r||!await this.fsUtils.exists(r))throw new Q(Zv(e,n.join("/")));return{directory:r,binary:await this.getBinaryInFolder(r)}}async getBinaryInFolder(e){return await nu(["node64.exe","node64"].map(r=>this.fsUtils.exists(At.join(e,r))))?"node64":"node"}async resolveNvs(e,{remoteName:r,semanticVersion:n,arch:i}){if(!e)throw new Q(cD());let o=this.findBinFolderForVersion(At.join(e,r),n,s=>El.existsSync(At.join(s,i)));if(o)return this.platform!=="win32"?At.join(o,i,"bin"):At.join(o,i)}async resolveUnixNvm(e){let r=this.env.NVM_DIR;if(!r){let i=At.join(this.env.HOME||"",".nvm");await this.fsUtils.exists(i)&&(r=i)}if(!r)throw new Q(Qv());let n=this.findBinFolderForVersion(At.join(r,"versions","node"),`v${e}`);return n?At.join(n,"bin"):void 0}async resolveWindowsNvm(e){let r=this.env.NVM_HOME;if(!r)throw new Q(lD());return this.findBinFolderForVersion(r,`v${e}`)}async resolveFnm(e,r){let n=this.findBinFolderForVersion(At.join(r,"node-versions"),`v${e}`);if(n)return this.platform==="win32"?At.join(n,"installation"):At.join(n,"installation","bin")}findBinFolderForVersion(e,r,n){if(!El.existsSync(e))return;let i=El.readdirSync(e);if(i.includes(r))return At.join(e,r);let o=i.filter(s=>s.startsWith(`${r}.`)).sort(Cce).filter(s=>n?n(At.join(e,s)):!0).pop();return o?At.join(e,o):void 0}parseVersionString(e){let n=/^(([\w-]+)\/)?(v?(\d+(\.\d+(\.\d+)?)?))(\/((x86)|(32)|((x)?64)|(arm\w*)|(ppc\w*)))?$/i.exec(e);if(!n)throw new Error("Invalid version string: "+e);let i=!!(n[2]||n[8]),o=n[2]||"node",s=n[4]||"",a=Dce(n[8]||this.arch);return{nvsFormat:i,remoteName:o,semanticVersion:s,arch:a}}};Sl=V([(0,Ky.injectable)(),I(0,(0,Ky.inject)(Er))],Sl);var Cce=(t,e)=>{let r=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(t),n=/([0-9]+)\.([0-9]+)\.([0-9]+)/.exec(e);if(!r||!n)return(n?-1:0)+(r?1:0);let[,i,o,s]=r,[,a,u,c]=n;return Number(i)-Number(a)||Number(o)-Number(u)||Number(s)-Number(c)};function Dce(t){switch(t){case"32":case"x86":case"ia32":return"x86";case"64":case"x64":case"amd64":return"x64";case"arm":let e=process.config.variables.arm_version;return e?"armv"+e+"l":"arm";default:return t}}var PW=v("child_process"),Jy=M(ue()),LW=M(vy());var Pl=class{constructor(e){this.logger=e}canLaunch(e){return e.console==="internalConsole"}async launchProgram(e,r,n){let{executable:i,args:o,shell:s,cwd:a}=$ce(e,Xy(r),r.cwd);n.dap.output({category:"console",output:[i,...o].join(" ")+`
`});let u=(0,PW.spawn)(i,o,{shell:s,cwd:a,env:Ut.merge(Ut.processEnv(),r.env).defined()});return r.outputCapture==="console"?this.discardStdio(n.dap,u):this.captureStdio(n.dap,u),new Uy(u,this.logger,r.killBehavior)}captureStdio(e,r){r.stdout.pipe(zy.stream()).on("data",n=>e.output({category:"stdout",output:n})).resume(),r.stderr.pipe(zy.stream()).on("data",n=>e.output({category:"stderr",output:n})).resume()}discardStdio(e,r){let n=[],i=()=>{n&&e.output({category:"stderr",output:Buffer.concat(n).toString()})},o=Buffer.from("Debugger attached."),s=a=>{a.includes(o)?(n=void 0,r.stderr.removeListener("data",s)):n&&n.push(a)};r.stderr.on("data",s),r.on("error",a=>{i(),e.output({category:"stderr",output:a.stack||a.message})}),r.on("exit",a=>{a!==null&&a>0&&(i(),e.output({category:"stderr",output:`Process exited with code ${a}\r
`}))}),r.stdout.resume(),r.stderr.resume()}};Pl=V([(0,Jy.injectable)(),I(0,(0,Jy.inject)(ne))],Pl);var $ce=(t,e,r)=>{if(process.platform==="win32"&&(t=$n(t),r=$n(r),t.endsWith(".ps1")&&(e=["-File",t,...e],t="powershell.exe")),process.platform!=="win32"||!t.includes(" "))return{executable:t,args:e,shell:!1,cwd:r};let n=!1,i=[];for(let o of e)o.includes(" ")?(i.push(`"${o}"`),n=!0):i.push(o);return n?{executable:`"${t}"`,args:i,shell:!0,cwd:r}:{executable:t,args:e,shell:!1,cwd:r}};var zy=class t{constructor(){this.etxSpotted=!1}static stream(){return(0,LW.default)(new t)}[Symbol.split](e){if(this.etxSpotted||=e.includes(""),!this.etxSpotted)return[e,""];let r=e.split("");return r.length>1?r.map((n,i)=>i<r.length-1?`${n}
`:n):r}};var Yy=M(ue());var Ll=class{constructor(e){this.logger=e}canLaunch(e){return e.internalConsoleOptions,e.console!=="internalConsole"}async launchProgram(e,r,n){let i={kind:r.console==="integratedTerminal"?"integrated":"external",title:r.name,cwd:r.cwd,args:[e,...Xy(r)],env:tu(r.env),argsCanBeInterpretedByShell:!Array.isArray(r.args)},o;try{o=await this.sendLaunchRequest(i,n)}catch(s){throw new Q(pD(s.message))}return new Hl(o,this.logger,r.killBehavior)}sendLaunchRequest(e,r){return r.dap.runInTerminalRequest(e)}};Ll=V([(0,Yy.injectable)(),I(0,(0,Yy.inject)(ne))],Ll);var xW=M(ue());var xl=class{getTreatment(e,r){return Promise.resolve(r)}};xl=V([(0,xW.injectable)()],xl);var CW=M(ue());var Qa=class{constructor(){this.flushEmitter=new K;this.onFlush=this.flushEmitter.event}report(){}reportOperation(){}attachDap(){}flush(){this.flushEmitter.fire()}dispose(){}};Qa=V([(0,CW.injectable)()],Qa);var DW=t=>{},$W=t=>{};var MW=(t,e,r,n)=>{let i=new eb.Container;return i.parent=t,i.bind(Ee).toConstantValue(e.launchConfig),i.bind(ku).toConstantValue(i),i.bind(Lr).toConstantValue(r),i.bind(rt).toConstantValue(n),i.bind(Pi).toConstantValue(e),i.bind(N2).toConstantValue(e.targetOrigin()),i.bind(Js).to(Ea).inSingletonScope(),i.bind(di).to(Ys).inSingletonScope(),i.bind(im).to(Vu).inSingletonScope(),i.bind(Vo).toSelf().inSingletonScope(),e.sourcePathResolver&&i.bind(We).toConstantValue(e.sourcePathResolver),i.bind(ya).toSelf(),i.bind(fH).toDynamicValue(o=>o.container.get(ya).create()).inSingletonScope(),e.parent()&&(i.bind(na).to(ra).inSingletonScope(),i.bind(Hi).to(ju).inSingletonScope()),i.bind(yr).to(process.env.DA_TEST_DISABLE_TELEMETRY?Qa:vi).inSingletonScope().onActivation(dt),i.bind(un).toSelf().inSingletonScope(),i.bind(Ot).toSelf().inSingletonScope(),i.bind(rs).toSelf().inSingletonScope(),i.bind(Xo).to(Li).inSingletonScope(),i.bind(Zo).toSelf().inSingletonScope(),i.bind(gc).to(Hc).inSingletonScope(),i.bind(Om).to(cc).inSingletonScope(),i.bind(nn).to(Wu).inSingletonScope(),i.bind(uH).to(_c).inSingletonScope(),i.bind(qo).to(Nu).inSingletonScope(),i.bind(_m).to(ec).inSingletonScope().onActivation(dt),i.bind(Ft).toSelf(),i.bind(Ur).toSelf(),i.bind(jr).toSelf(),i.bind(HH).to(ro).inSingletonScope(),i.bind(gH).to(bc).inSingletonScope(),i.bind(km).to(ac).inSingletonScope().onActivation(dt),i},RW=t=>{let e=new eb.Container;e.parent=t,e.bind(ku).toConstantValue(e),e.bind(ne).to(gn).inSingletonScope().onActivation(dt),e.bind(Js).to(Ea).inSingletonScope(),e.bind(yr).to(process.env.DA_TEST_DISABLE_TELEMETRY?Qa:vi).inSingletonScope().onActivation(dt),e.bind(mi).to(mi).inSingletonScope(),e.bind(zi).to(zi).inSingletonScope(),e.bind(Rc).to(Mc).inSingletonScope(),e.bind(Fu).to(tl).inSingletonScope(),e.bind(Ts).to(ml),e.bind(ki).toSelf().inSingletonScope().onActivation(dt),e.bind(Ui).toSelf(),e.bind(vr).to(Wn).onActivation(dt),e.bind(vr).to(gl).onActivation(dt),e.bind(vr).to(yl).onActivation(dt),e.bind(vr).to(Il).onActivation(dt),e.bind(ud).to(Pl),e.bind(ud).to(Ll),e.bind(Xa).to(hl).inSingletonScope(),$W(e),e.bind(vr).to(_l).onActivation(dt),e.bind(qa).toSelf().inSingletonScope().onActivation(dt),e.bind(vr).toService(qa),e.bind(vr).to(il).inSingletonScope().onActivation(dt),e.bind(vr).to(sl).inSingletonScope().onActivation(dt),e.bind(vr).to(ol).inSingletonScope().onActivation(dt),e.bind(vr).to(al).inSingletonScope().onActivation(dt),e.bind(vr).to(_n).onActivation(dt),e.bind(vr).toDynamicValue(()=>t.get(Ga).createLauncher(e.get(ne))).inSingletonScope(),e.isBound(Ip)||e.bind(Ip).to(wc).inSingletonScope(),e.bind(x_).to(Zu).inSingletonScope().onActivation(dt);let r=n=>i=>new n(i.container.get(o_),i.container.get(Ve),i.container.get(fp));return e.bind(Zs).toDynamicValue(r(Zy.ChromeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","chrome"),e.bind(Zs).toDynamicValue(r(Zy.EdgeBrowserFinder)).inSingletonScope().whenTargetTagged("browser","edge"),e},kW=t=>{let e=new eb.Container;return e.bind(ku).toConstantValue(e),e.bind(Ga).toSelf().inSingletonScope(),e.bind(ll).toSelf().inSingletonScope(),e.bind(mm).to(xl).inSingletonScope(),e.bind(LD).toConstantValue(new xi),e.bind(dB).to(Nc).inSingletonScope(),e.bind(hi).toConstantValue(t.storagePath),e.bind(Ou).toConstantValue(t.isVsCode),e.bind(EW).to(Sl),e.bind(cn).to(sc).inSingletonScope(),e.bind(o_).toConstantValue(process.env),e.bind(fp).toConstantValue(TW.default),e.bind(Ve).toConstantValue(Qy.promises),e.bind(Er).toConstantValue(new Cn(Qy.promises)),e.bind(Qs).toConstantValue(t.isRemote?"remote":"local"),t.context&&e.bind(PD).toConstantValue(t.context),DW(e),e},OW=(t,e,r)=>{t.bind(Kp).toConstantValue(VR(e)),t.bind(Ee).toService(Kp),t.bind(jn).to(pl).inSingletonScope(),t.bind(Tu).toConstantValue(r),t.bind(We).toDynamicValue(n=>n.container.get(jn).create(e,n.container.get(ne))).inSingletonScope(),t.bind(Er).toConstantValue(th.create(e.__remoteFilePrefix,Qy.promises,r)),t.bind(n_).to(Uo).inSingletonScope().onActivation(dt),t.bind(jo).to(Mu).inSingletonScope(),t.bind(it).toSelf().inSingletonScope().onActivation(dt),t.bind(di).to(Ys).inSingletonScope(),t.bind(ta).toSelf().inSingletonScope(),t.bind(na).to(ra).inSingletonScope(),t.bind(Hi).to(Uu).inSingletonScope()};var tb=M(v("path"));function BW(t,e,r){let n=NW(t,e,"uncaughtException",r),i=NW(t,e,"unhandledRejection",r);return process.addListener("uncaughtException",n),process.addListener("unhandledRejection",i),{dispose:()=>{process.removeListener("uncaughtException",n),process.removeListener("unhandledRejection",i)}}}var NW=(t,e,r,n=!0)=>i=>{Rce(i)&&(e.report("error",{"!error":i,error:n?void 0:i,exceptionType:r}),t.error("runtime.exception","Unhandled error in debug adapter",i))},Tce=t=>typeof t=="object"&&!!t&&"stack"in t,Mce=tb.dirname(tb.dirname(tb.dirname(__dirname)));function Rce(t){return!FW||Tce(t)&&!!t.stack?.includes(Mce)}var FW=!1;function UW(){FW=!0}var rb=class{constructor(e,r,n,i){this._delegate=e;this._rootServices=n;this._disposables=new je;this._serviceTree=new WeakMap;this._root=new Za(void 0);this.getLaunchers=ye(()=>{let e=new Set(this._rootServices.getAll(vr));for(let r of e)this._disposables.push(r.onTargetListChanged(()=>{let n=this.targetList();this._attachToNewTargets(n,r),this._terminateOrphanThreads(n)}));return e});this._dap=r.dap(),this._targetOrigin=i,this._disposables.callback(()=>zh(n)),this._disposables.push(BW(n.get(ne),n.get(yr),n.get(Ou))),r.attachTelemetry(n.get(yr));let o=this._dap,s=0,a;o.on("initialize",async u=>{this._rootServices.bind(nr).toConstantValue(u);let c=_a.capabilities();return u.clientID==="vscode"&&UW(),setTimeout(()=>o.initialized({}),0),c}),o.on("setExceptionBreakpoints",async()=>({})),o.on("setBreakpoints",async u=>(u.breakpoints?.length&&n.get(it).notifyHadBreakpoint(),{breakpoints:u.breakpoints?.map(()=>({id:++s,verified:!1,message:jW.t("Unbound breakpoint")}))??[]})),o.on("configurationDone",async()=>({})),o.on("threads",async()=>({threads:[]})),o.on("loadedSources",async()=>({sources:[]})),o.on("breakpointLocations",()=>Promise.resolve({breakpoints:[]})),o.on("attach",async u=>(await this.boot(u,o),{})),o.on("launch",async u=>(await this.boot(u,o),{})),o.on("pause",async()=>({})),o.on("terminate",()=>this._terminateRoot(!0)),o.on("disconnect",u=>this._disconnectRoot(u)),o.on("restart",async({arguments:u})=>(await this._restart(u),{})),o.on("startSelfProfile",async({file:u})=>(a?.dispose(),a=new yH(u),await a.start(),{})),o.on("stopSelfProfile",async()=>(a&&(await a.stop(),a.dispose(),a=void 0),{}))}async _terminateRoot(e){return this._root.state=1,await Promise.all([...this.getLaunchers()].map(r=>r.terminate(e))),await this._root.waitUntilChildrenAre(2),this._root.state=2,{}}async _disconnectRoot(e){return this._root.state<1&&await this._terminateRoot(e.terminateDebuggee),this._rootServices.get(yr).flush(),await this._root.waitUntilChildrenAre(3),this._root.state=3,{}}async boot(e,r){return this._boot(xu(e,this._rootServices.get(Qs)),r)}async _boot(e,r){kce(r),this.reportBootTelemetry(e),OW(this._rootServices,e,r),this._rootServices.get(ne).setup(pE(r,e.trace));let n=e.timeout>0?ir.withTimeout(e.timeout):new ir;e.rootPath&&(e.rootPath=$n(e.rootPath)),this._launchParams=e;let i=await Promise.all([...this.getLaunchers()].map(o=>this._launch(o,e,n.token)));return Promise.all(i.map(o=>o.terminated)).then(o=>{let s=o.find(qt);this._markTargetAsTerminated(this._root,{restart:!!s?.restart})}),{}}reportBootTelemetry(e){let r=xu({type:e.type,request:e.request,name:"<string>",__workspaceFolder:"<workspace>"}),n=(i,o)=>typeof i=="string"?o&&r[o]===i?i:"<string>":i instanceof Array?i.map(s=>n(s)):i&&typeof i=="object"?ji(i,s=>n(s)):i;this._rootServices.get(yr).report("launch",{type:e.type,request:e.request,os:`${nb.platform()} ${nb.arch()}`,nodeVersion:process.version,adapterVersion:up,parameters:ji(e,n)})}async _restart(e){let r;if(e){let n=this._rootServices.get(Kp);r=xu({__workspaceFolder:n.__workspaceFolder,...e},this._rootServices.get(Qs)),n.update(r)}await Promise.all([...this.getLaunchers()].map(n=>n.restart(r)))}async _launch(e,r,n){return(await this.captureLaunch(e,r,n)).blockSessionTermination?{terminated:new Promise(o=>{let s=this._disposables.push(e.onTerminated(a=>{s.dispose(),o(a)}))})}:{terminated:Promise.resolve(void 0)}}async captureLaunch(e,r,n){let i=e.constructor.name,o;try{o=await e.launch(r,{telemetryReporter:this._rootServices.get(yr),cancellationToken:n,targetOrigin:this._targetOrigin,dap:this._dap})}catch(s){throw this._rootServices.get(ne).warn("runtime.launch","Launch returned error",{error:s,wasCancelled:n.isCancellationRequested,name:i}),s}return o.blockSessionTermination&&this._rootServices.get(ne).info("runtime.launch","Launched successfully",{name:i}),o}dispose(){this._disposables.dispose(),this._terminateOrphanThreads([])}targetList(){let e=[];for(let r of this.getLaunchers())e.push(...r.targetList());return e}async attach(e,r){if(!this._launchParams)throw new Error("Cannot launch before params have been set");let n=e.value;if(!n.canAttach())return;let i=await n.attach();if(!i)return;let o=await this._delegate.acquireDap(n),s=o.dap(),a=this._launchParams;this._asyncStackPolicy||(this._asyncStackPolicy=jR(a.showAsyncStacks));let u=n.parent(),c=u&&this._serviceTree.get(u)||this._rootServices,l=MW(c,n,s,i);o.attachTelemetry(l.get(yr)),this._serviceTree.set(n,c);let p=new _a(s,this._asyncStackPolicy,a,l),f=p.createThread(i,n),m=async()=>(await p.launchBlocker(),n.runIfWaitingForDebugger(),e.threadData.resolve({thread:f,debugAdapter:p}),{});s.on("disconnect",h=>this._disconnectTarget(e,h)),s.on("terminate",()=>this._terminateTarget(e)),s.on("restart",async()=>(n.canRestart()?n.restart():await this._restart(),Promise.resolve({}))),await this._delegate.initAdapter(p,n,r)?m():(s.on("attach",m),s.on("launch",m)),await n.afterBind()}_attachToNewTargets(e,r){for(let n of e.values()){if(!n.waitingForDebugger()||Za.targetNodes.has(n))continue;let i=n.parent(),o=i?Za.targetNodes.get(i):this._root;if(!o)throw new Error(`Got target with unknown parent: ${n.name()}`);let s=new Za(n);o.add(s),this.attach(s,r)}}async _terminateOrphanThreads(e,r){let n=[...this._root.all()].filter(i=>!e.includes(i.value));return Promise.all(n.map(i=>this._markTargetAsTerminated(i,r)))}async _markTargetAsTerminated(e,r={}){if(e.state>=1)return await e.waitUntil(2),{};if(e.state=1,WW(e)){let n=await e.threadData.promise;await n.thread.dispose(),n.debugAdapter.dap.terminated(r),n.debugAdapter.dispose()}else this._dap.terminated(r);return await e.waitUntilChildrenAre(2),e.state=2,{}}async _terminateTarget(e){return e.state>=3?{}:(e.value.canStop()?e.value.stop():this._terminateRoot(!0),await e.waitUntil(2),{})}async _disconnectTarget(e,r){if(e.state>=3)return{};e.state<1&&(r.terminateDebuggee!==!0&&e.value.canDetach()?await e.value.detach():e.value.canStop()?e.value.stop():this._terminateRoot(r.terminateDebuggee)),await e.waitUntil(2),await e.waitUntilChildrenAre(3),e.state=3,queueMicrotask(()=>this._delegate.releaseDap(e.value));let n=e.value.parent();return(n?Za.targetNodes.get(n):this._root)?.remove(e),{}}};function kce(t){oD&&t.output({category:"console",output:`Note: Using the "preview" debug extension
`})}var WW=t=>!!t.value,Za=class t{constructor(e){this.value=e;this.threadData=ke();this._state=0;this._children=new Set;this._stateChangeEmitter=new K;e&&t.targetNodes.set(e,this)}static{this.targetNodes=new WeakMap}get state(){return this._state}set state(e){e>this._state&&(this._state=e,this._stateChangeEmitter.fire(e))}add(e){this._children.add(e)}remove(e){this._children.delete(e)}async waitUntil(e){return this._state>=e?Promise.resolve():new Promise(r=>{let n=this._stateChangeEmitter.event(i=>{i>=e&&(n.dispose(),r())})})}async waitUntilChildrenAre(e){await Promise.all([...this._children].map(r=>r.waitUntil(e)))}*all(){WW(this)&&(yield this);for(let e of this._children)yield*e.all()}};var qW=`\r
\r
`,Oce=0,ib=class{constructor(e,r,n){this.inputStream=e;this.outputStream=r;this._contentLength=-1;this._connectionId=Oce++;this.msgEmitter=new K;this.messageReceived=this.msgEmitter.event;this.endedEmitter=new K;this.closed=this.endedEmitter.event;this._handleData=e=>{let r=new ln;for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let n=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,n.length>0)try{let i=JSON.parse(n);this.logger?.verbose("dap.receive",void 0,{connectionId:this._connectionId,message:i}),this.msgEmitter.fire({message:i,receivedTime:r})}catch(i){console.error("Error handling data: "+(i&&i.message))}continue}}else{let n=this._rawData.indexOf(qW);if(n!==-1){let o=this._rawData.toString("utf8",0,n).split(`\r
`);for(let s=0;s<o.length;s++){let a=o[s].split(/: +/);a[0]==="Content-Length"&&(this._contentLength=+a[1])}this._rawData=this._rawData.slice(n+qW.length);continue}}break}};this.logger=n,this._rawData=Buffer.alloc(0),e.on("end",()=>this.endedEmitter.fire()),e.on("data",this._handleData)}send(e,r=!0,n){let i=JSON.stringify(e);if(r){let s=e;e.type==="response"&&e.command==="source"&&(s={...e,body:{...e.body,content:"<script source>"}}),this.logger?.verbose("dap.send",void 0,{connectionId:this._connectionId,message:s})}let o=`Content-Length: ${Buffer.byteLength(i,"utf8")}\r
\r
${i}`;if(this.outputStream.destroyed){this.logger?.warn("dap.send","Message not sent. Connection was closed."),n?.();return}this.outputStream.write(o,"utf8",s=>{n?.(),s&&(console.log(e),this.logger?.error("dap.send","Error while writing to output stream",s),this.close())})}close(){this.inputStream.destroy(),this.outputStream.destroy()}setLogger(e){return this.logger=e,this}};process.env.L10N_FSPATH_TO_BUNDLE&&ob.config({fsPath:process.env.L10N_FSPATH_TO_BUNDLE});var Nce=GW.mkdtempSync(sb.join(KW.tmpdir(),"vscode-js-debug-"));function Bce(t){let e,r=[],n=[],i=[],o=ke(),s=0,a;return t.on("setBreakpoints",async u=>{let c=u.breakpoints?.map(()=>++s)??[];return r.push({params:u,ids:c}),{breakpoints:c.map(p=>({id:p,verified:!1,message:ob.t("breakpoint.provisionalBreakpoint","Unbound breakpoint")}))}}),t.on("setExceptionBreakpoints",async u=>(e=u,{})),t.on("setCustomBreakpoints",async u=>(n=u.ids,i=u.xhr,{})),t.on("configurationDone",async()=>(o.resolve(),{})),t.on("threads",async()=>({threads:[]})),t.on("loadedSources",async()=>({sources:[]})),t.on("initialize",async u=>(a=u,setTimeout(()=>t.initialized({}),0),_a.capabilities())),new Promise(u=>{let c=async l=>{await o.promise;let p=ke();if(!a)throw new Error("cannot call launch/attach before initialize");return u({initializeParams:a,setExceptionBreakpointsParams:e,setBreakpointsParams:r,customBreakpoints:n,xhrBreakpoints:i,launchParams:l,deferred:p}),p.promise};t.on("launch",l=>c(l)),t.on("attach",c)})}var W0=class{constructor(e,r){this.dapRoot=e;this.services=r;this.sessions=new Map}async acquireDap(e){let r=this.sessions.get(e.id());if(r){let{connection:s}=await r.promise;return s}let n=e.parent(),i;if(n){let s=this.sessions.get(n.id())?.settledValue;if(!s)throw new Error("Expected parent session to have a settled value");i=s.connection.dap()}else i=this.dapRoot;let o=ke();return this.sessions.set(e.id(),o),i.startDebuggingRequest({request:e.launchConfig.request,configuration:{type:e.launchConfig.type,name:e.name(),__pendingTargetId:e.id()}}).catch(s=>o.reject(s)),o.promise.then(s=>s.connection)}async initAdapter(e,r){let n=this.sessions.get(r.id())?.settledValue;if(!n)throw new Error(`Expected to find pending init for target ${r.id()}`);n.setExceptionBreakpointsParams&&await e.setExceptionBreakpoints(n.setExceptionBreakpointsParams);for(let{params:i,ids:o}of n.setBreakpointsParams)await e.breakpointManager.setBreakpoints(i,o);return await e.setCustomBreakpoints({xhr:n.xhrBreakpoints,ids:n.customBreakpoints}),await e.onInitialize(n.initializeParams),await e.configurationDone(),await e.launchBlocker(),n.deferred.resolve({}),!0}releaseDap(e){this.sessions.delete(e.id())}hasPendingTarget(e){return this.sessions.get(e)?.hasSettled()===!1}handleConnection(e){if(!("__pendingTargetId"in e.launchParams)||!e.launchParams.__pendingTargetId)throw new Error("Incoming session is missing __pendingTargetId");let r=e.launchParams.__pendingTargetId,n=this.sessions.get(r);if(!n)throw new Error(`__pendingTargetId ${r} not found`);n.resolve(e)}};function VW(t){let e=kW({storagePath:Nce,isVsCode:!1}),r=new Set,n=XW.createServer(async i=>{try{let o=new dl,s=new ib(i,i,o),a=new lp(s,o),u=a.dap(),c=await Bce(u);if("__pendingTargetId"in c.launchParams){let l=c.launchParams.__pendingTargetId,p=l&&[...r].find(f=>f.hasPendingTarget(l));if(!p)throw new Error(`Cannot find pending target for ${l}`);o.connectTo(p.services.get(ne)),p.handleConnection({...c,connection:a})}else{let l=RW(e),p=new W0(u,l);r.add(p),l.bind(nr).toConstantValue(c.initializeParams),o.connectTo(l.get(ne));let f=new rb(p,a,l,new Ry("targetOrigin"));s.closed(()=>{f.dispose(),r.delete(p)}),c.deferred.resolve(await f.boot(c.launchParams,u))}}catch(o){return console.error(o),i.destroy()}}).on("error",i=>{console.error(i),process.exit(1)}).listen(t,()=>{let i=n.address();console.log(`Debug server listening at ${typeof i=="string"?i:`${i.address}:${i.port}`}`)})}var[,Fce,j0="8123",Uce="localhost"]=process.argv;process.argv.includes("--help")?console.log(`Usage: ${sb.basename(Fce)} [port|socket path=8123] [host=localhost]`):isNaN(Number(j0))?VW({path:j0}):VW({port:Number(j0),host:Uce});})();
/*! Bundled license information:

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-windows/index.js:
  (*!
   * is-windows <https://github.com/jonschlinkert/is-windows>
   *
   * Copyright  2015-2018, Jon Schlinkert.
   * Released under the MIT License.
   *)

reflect-metadata/Reflect.js:
  (*! *****************************************************************************
  Copyright (C) Microsoft. All rights reserved.
  Licensed under the Apache License, Version 2.0 (the "License"); you may not use
  this file except in compliance with the License. You may obtain a copy of the
  License at http://www.apache.org/licenses/LICENSE-2.0
  
  THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
  WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
  MERCHANTABLITY OR NON-INFRINGEMENT.
  
  See the Apache Version 2.0 License for specific language governing permissions
  and limitations under the License.
  ***************************************************************************** *)
*/
